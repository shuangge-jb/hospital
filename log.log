2016-05-25 00:01:22  [ http-bio-8080-exec-5:4982148 ] - [ DEBUG ]  Entering nullPropertyValue [target=[com.opensymphony.xwork2.DefaultTextProvider@64b8ecac], property=struts]
2016-05-25 00:01:22  [ http-bio-8080-exec-5:4982155 ] - [ DEBUG ]  Entering nullPropertyValue [target=[com.opensymphony.xwork2.DefaultTextProvider@64b8ecac], property=org]
2016-05-25 00:01:22  [ http-bio-8080-exec-5:4982230 ] - [ DEBUG ]  Entering nullPropertyValue [target=[com.opensymphony.xwork2.DefaultTextProvider@64b8ecac], property=struts]
2016-05-25 00:01:22  [ http-bio-8080-exec-5:4982231 ] - [ DEBUG ]  Entering nullPropertyValue [target=[com.opensymphony.xwork2.DefaultTextProvider@64b8ecac], property=struts]
2016-05-25 00:01:22  [ http-bio-8080-exec-5:4982231 ] - [ DEBUG ]  Creating an DefaultActionProxy for namespace / and action name getPeriods
2016-05-25 00:01:22  [ http-bio-8080-exec-5:4982231 ] - [ DEBUG ]  No bean named 'action.HandleAction' found in org.springframework.beans.factory.support.DefaultListableBeanFactory defining beans [dataSource,sessionFactory,userDao,doctorDao,departmentDao,hospitalDao,periodDao,scheduleDao,registrationDao,workTimeDao,doctorService,registrationService,periodService,scheduleService,workTimeService,transactionManager,transactionInterceptor,ProxyCreator,doctorName,sex,hospital,department,tel,getPeriods,getRegistrations,mark,insert]; root of BeanFactory hierarchy
2016-05-25 00:01:22  [ http-bio-8080-exec-5:4982232 ] - [ DEBUG ]  Creating [java.util.LinkedHashMap]
2016-05-25 00:01:22  [ http-bio-8080-exec-5:4982232 ] - [ DEBUG ]  Creating [java.util.LinkedHashMap]
2016-05-25 00:01:22  [ http-bio-8080-exec-5:4982232 ] - [ DEBUG ]  Using cached introspection results for class [action.HandleAction]
2016-05-25 00:01:22  [ http-bio-8080-exec-5:4982233 ] - [ DEBUG ]  Bean 'action.HandleAction' instantiated via constructor [public action.HandleAction()]
2016-05-25 00:01:22  [ http-bio-8080-exec-5:4982233 ] - [ DEBUG ]  Invoking BeanPostProcessors before initialization of bean 'action.HandleAction'
2016-05-25 00:01:22  [ http-bio-8080-exec-5:4982233 ] - [ DEBUG ]  Invoking BeanPostProcessors after initialization of bean 'action.HandleAction'
2016-05-25 00:01:22  [ http-bio-8080-exec-5:4982234 ] - [ DEBUG ]  Using cached introspection results for class [action.HandleAction]
2016-05-25 00:01:22  [ http-bio-8080-exec-5:4982234 ] - [ DEBUG ]  Not autowiring property 'actionErrors' of bean 'action.HandleAction' by name: no matching bean found
2016-05-25 00:01:22  [ http-bio-8080-exec-5:4982234 ] - [ DEBUG ]  Not autowiring property 'actionMessages' of bean 'action.HandleAction' by name: no matching bean found
2016-05-25 00:01:22  [ http-bio-8080-exec-5:4982235 ] - [ DEBUG ]  Not autowiring property 'fieldErrors' of bean 'action.HandleAction' by name: no matching bean found
2016-05-25 00:01:22  [ http-bio-8080-exec-5:4982235 ] - [ DEBUG ]  Returning cached instance of singleton bean 'registrationService'
2016-05-25 00:01:22  [ http-bio-8080-exec-5:4982235 ] - [ DEBUG ]  Added autowiring by name from bean name 'action.HandleAction' via property 'registrationService' to bean named 'registrationService'
2016-05-25 00:01:22  [ http-bio-8080-exec-5:4982235 ] - [ DEBUG ]  Returning cached instance of singleton bean 'scheduleService'
2016-05-25 00:01:22  [ http-bio-8080-exec-5:4982237 ] - [ DEBUG ]  Added autowiring by name from bean name 'action.HandleAction' via property 'scheduleService' to bean named 'scheduleService'
2016-05-25 00:01:22  [ http-bio-8080-exec-5:4982237 ] - [ DEBUG ]  Creating [java.util.LinkedHashMap]
2016-05-25 00:01:22  [ http-bio-8080-exec-5:4982238 ] - [ DEBUG ]  About to invoke write method [public void action.HandleAction.setRegistrationService(service.RegistrationService)] on object of class [action.HandleAction]
2016-05-25 00:01:22  [ http-bio-8080-exec-5:4982238 ] - [ DEBUG ]  Invoked write method [public void action.HandleAction.setRegistrationService(service.RegistrationService)] with value of type [service.RegistrationService]
2016-05-25 00:01:22  [ http-bio-8080-exec-5:4982239 ] - [ DEBUG ]  About to invoke write method [public void action.HandleAction.setScheduleService(service.ScheduleService)] on object of class [action.HandleAction]
2016-05-25 00:01:22  [ http-bio-8080-exec-5:4982239 ] - [ DEBUG ]  Invoked write method [public void action.HandleAction.setScheduleService(service.ScheduleService)] with value of type [service.ScheduleService]
2016-05-25 00:01:22  [ http-bio-8080-exec-5:4982239 ] - [ DEBUG ]  intercept '//getPeriods' { 
2016-05-25 00:01:22  [ http-bio-8080-exec-5:4982239 ] - [ DEBUG ]  applied invocation context locale=zh_CN
2016-05-25 00:01:22  [ http-bio-8080-exec-5:4982239 ] - [ DEBUG ]  before Locale=zh_CN
2016-05-25 00:01:22  [ http-bio-8080-exec-5:4982240 ] - [ DEBUG ]  Entering nullPropertyValue [target=[action.HandleAction@27946137, com.opensymphony.xwork2.DefaultTextProvider@64b8ecac], property=struts]
2016-05-25 00:01:22  [ http-bio-8080-exec-5:4982240 ] - [ DEBUG ]  Bypassing //getPeriods
2016-05-25 00:01:22  [ http-bio-8080-exec-5:4982240 ] - [ DEBUG ]  Setting static parameters {}
2016-05-25 00:01:22  [ http-bio-8080-exec-5:4982240 ] - [ DEBUG ]  Setting params NONE
2016-05-25 00:01:22  [ http-bio-8080-exec-5:4982241 ] - [ DEBUG ]  Setting params doctorName => [ Ë¬¸ç ] 
2016-05-25 00:01:22  [ http-bio-8080-exec-5:4982241 ] - [ DEBUG ]  Validating //getPeriods with method getPeriods.
2016-05-25 00:01:22  [ http-bio-8080-exec-5:4982242 ] - [ DEBUG ]  Invoking validate() on action action.HandleAction@27946137
2016-05-25 00:01:22  [ http-bio-8080-exec-5:4982242 ] - [ DEBUG ]  cannot find method [validateGetPeriods] in action [action.HandleAction@27946137]
2016-05-25 00:01:22  [ http-bio-8080-exec-5:4982242 ] - [ DEBUG ]  cannot find method [validateDoGetPeriods] in action [action.HandleAction@27946137]
2016-05-25 00:01:22  [ http-bio-8080-exec-5:4982242 ] - [ DEBUG ]  Executing action method = getPeriods
2016-05-25 00:01:22  [ http-bio-8080-exec-5:4982243 ] - [ DEBUG ]  Using transaction object [org.springframework.orm.hibernate3.HibernateTransactionManager$HibernateTransactionObject@aba2a8f]
2016-05-25 00:01:22  [ http-bio-8080-exec-5:4982243 ] - [ DEBUG ]  Creating new transaction with name [service.ScheduleService.findPeriods]
2016-05-25 00:01:22  [ http-bio-8080-exec-5:4982243 ] - [ DEBUG ]  opened session at timestamp: 14641056829
2016-05-25 00:01:22  [ http-bio-8080-exec-5:4982247 ] - [ DEBUG ]  Opened new Session [org.hibernate.impl.SessionImpl@7e903703] for Hibernate transaction
2016-05-25 00:01:22  [ http-bio-8080-exec-5:4982247 ] - [ DEBUG ]  Preparing JDBC Connection of Hibernate Session [org.hibernate.impl.SessionImpl@7e903703]
2016-05-25 00:01:22  [ http-bio-8080-exec-5:4982247 ] - [ DEBUG ]  begin
2016-05-25 00:01:22  [ http-bio-8080-exec-5:4982248 ] - [ DEBUG ]  opening JDBC connection
2016-05-25 00:01:22  [ http-bio-8080-exec-5:4982248 ] - [ DEBUG ]  trace com.mchange.v2.resourcepool.BasicResourcePool@1ed5eb39 [managed: 3, unused: 2, excluded: 0] (e.g. com.mchange.v2.c3p0.impl.NewPooledConnection@7303eee0)
2016-05-25 00:01:22  [ http-bio-8080-exec-5:4982248 ] - [ DEBUG ]  current autocommit status: true
2016-05-25 00:01:22  [ http-bio-8080-exec-5:4982249 ] - [ DEBUG ]  disabling autocommit
2016-05-25 00:01:22  [ http-bio-8080-exec-5:4982251 ] - [ DEBUG ]  Exposing Hibernate transaction as JDBC transaction [com.mchange.v2.c3p0.impl.NewProxyConnection@29aa4c43]
2016-05-25 00:01:22  [ http-bio-8080-exec-5:4982257 ] - [ DEBUG ]  Bound value [org.springframework.jdbc.datasource.ConnectionHolder@4415fe82] for key [com.mchange.v2.c3p0.ComboPooledDataSource@87409cf[ acquireIncrement -> 3, acquireRetryAttempts -> 30, acquireRetryDelay -> 1000, autoCommitOnClose -> false, automaticTestTable -> null, breakAfterAcquireFailure -> false, checkoutTimeout -> 0, connectionTesterClassName -> com.mchange.v2.c3p0.impl.DefaultConnectionTester, description -> null, driverClass -> com.mysql.jdbc.Driver, factoryClassLocation -> null, forceIgnoreUnresolvedTransactions -> false, identityToken -> 87409cf, idleConnectionTestPeriod -> -1, initialPoolSize -> 3, jdbcUrl -> jdbc:mysql://localhost:3306/hospital?characterEncoding=utf-8, loginTimeout -> 0, maxIdleTime -> 0, maxPoolSize -> 15, maxStatements -> 0, maxStatementsPerConnection -> 0, minPoolSize -> 3, numHelperThreads -> 3, preferredTestQuery -> null, properties -> {user=******, password=******}, propertyCycle -> 300, testConnectionOnCheckin -> false, testConnectionOnCheckout -> false, usesTraditionalReflectiveProxies -> false ]] to thread [http-bio-8080-exec-5]
2016-05-25 00:01:22  [ http-bio-8080-exec-5:4982258 ] - [ DEBUG ]  Bound value [org.springframework.orm.hibernate3.SessionHolder@7dfec051] for key [org.hibernate.impl.SessionFactoryImpl@40fc29d7] to thread [http-bio-8080-exec-5]
2016-05-25 00:01:22  [ http-bio-8080-exec-5:4982258 ] - [ DEBUG ]  Initializing transaction synchronization
2016-05-25 00:01:22  [ http-bio-8080-exec-5:4982259 ] - [ DEBUG ]  Getting transaction for service.ScheduleService.findPeriods
2016-05-25 00:01:22  [ http-bio-8080-exec-5:4982259 ] - [ DEBUG ]  Retrieved value [org.springframework.orm.hibernate3.SessionHolder@7dfec051] for key [org.hibernate.impl.SessionFactoryImpl@40fc29d7] bound to thread [http-bio-8080-exec-5]
2016-05-25 00:01:22  [ http-bio-8080-exec-5:4982261 ] - [ DEBUG ]  about to open PreparedStatement (open PreparedStatements: 0, globally: 0)
2016-05-25 00:01:22  [ http-bio-8080-exec-5:4982261 ] - [ DEBUG ]  
    select
        p.* 
    from
        doctor d 
    join
        schedule s 
    join
        period p 
    where
        s.doctor_id=d.id 
        and s.period_id=p.id 
        and d.name= ?
2016-05-25 00:01:22  [ http-bio-8080-exec-5:4982263 ] - [ DEBUG ]  bindNamedParameters() Ë¬¸ç -> doctorName [1]
2016-05-25 00:01:22  [ http-bio-8080-exec-5:4982265 ] - [ DEBUG ]  about to open ResultSet (open ResultSets: 0, globally: 0)
2016-05-25 00:01:22  [ http-bio-8080-exec-5:4982266 ] - [ DEBUG ]  result row: EntityKey[persistance.Period#1]
2016-05-25 00:01:22  [ http-bio-8080-exec-5:4982267 ] - [ DEBUG ]  result row: EntityKey[persistance.Period#2]
2016-05-25 00:01:22  [ http-bio-8080-exec-5:4982268 ] - [ DEBUG ]  result row: EntityKey[persistance.Period#3]
2016-05-25 00:01:22  [ http-bio-8080-exec-5:4982269 ] - [ DEBUG ]  about to close ResultSet (open ResultSets: 1, globally: 1)
2016-05-25 00:01:22  [ http-bio-8080-exec-5:4982270 ] - [ DEBUG ]  about to close PreparedStatement (open PreparedStatements: 1, globally: 1)
2016-05-25 00:01:22  [ http-bio-8080-exec-5:4982271 ] - [ DEBUG ]  resolving associations for [persistance.Period#1]
2016-05-25 00:01:22  [ http-bio-8080-exec-5:4982271 ] - [ DEBUG ]  done materializing entity [persistance.Period#1]
2016-05-25 00:01:22  [ http-bio-8080-exec-5:4982272 ] - [ DEBUG ]  resolving associations for [persistance.Period#2]
2016-05-25 00:01:22  [ http-bio-8080-exec-5:4982274 ] - [ DEBUG ]  done materializing entity [persistance.Period#2]
2016-05-25 00:01:22  [ http-bio-8080-exec-5:4982274 ] - [ DEBUG ]  resolving associations for [persistance.Period#3]
2016-05-25 00:01:22  [ http-bio-8080-exec-5:4982275 ] - [ DEBUG ]  done materializing entity [persistance.Period#3]
2016-05-25 00:01:22  [ http-bio-8080-exec-5:4982275 ] - [ DEBUG ]  initializing non-lazy collections
2016-05-25 00:01:22  [ http-bio-8080-exec-5:4982276 ] - [ DEBUG ]  Invoking commit for transaction on service.ScheduleService.findPeriods
2016-05-25 00:01:22  [ http-bio-8080-exec-5:4982277 ] - [ DEBUG ]  Triggering beforeCommit synchronization
2016-05-25 00:01:22  [ http-bio-8080-exec-5:4982277 ] - [ DEBUG ]  Triggering beforeCompletion synchronization
2016-05-25 00:01:22  [ http-bio-8080-exec-5:4982278 ] - [ DEBUG ]  Initiating transaction commit
2016-05-25 00:01:22  [ http-bio-8080-exec-5:4982278 ] - [ DEBUG ]  Committing Hibernate transaction on Session [org.hibernate.impl.SessionImpl@7e903703]
2016-05-25 00:01:22  [ http-bio-8080-exec-5:4982279 ] - [ DEBUG ]  commit
2016-05-25 00:01:22  [ http-bio-8080-exec-5:4982280 ] - [ DEBUG ]  processing flush-time cascades
2016-05-25 00:01:22  [ http-bio-8080-exec-5:4982280 ] - [ DEBUG ]  dirty checking collections
2016-05-25 00:01:22  [ http-bio-8080-exec-5:4982281 ] - [ DEBUG ]  Collection found: [persistance.Period.schedules#1], was: [persistance.Period.schedules#1] (uninitialized)
2016-05-25 00:01:22  [ http-bio-8080-exec-5:4982282 ] - [ DEBUG ]  Collection found: [persistance.Period.workTimes#1], was: [persistance.Period.workTimes#1] (uninitialized)
2016-05-25 00:01:22  [ http-bio-8080-exec-5:4982282 ] - [ DEBUG ]  Collection found: [persistance.Period.registrations#1], was: [persistance.Period.registrations#1] (uninitialized)
2016-05-25 00:01:22  [ http-bio-8080-exec-5:4982283 ] - [ DEBUG ]  Collection found: [persistance.Period.schedules_1#1], was: [persistance.Period.schedules_1#1] (uninitialized)
2016-05-25 00:01:22  [ http-bio-8080-exec-5:4982283 ] - [ DEBUG ]  Collection found: [persistance.Period.registrations_1#1], was: [persistance.Period.registrations_1#1] (uninitialized)
2016-05-25 00:01:22  [ http-bio-8080-exec-5:4982283 ] - [ DEBUG ]  Collection found: [persistance.Period.schedules#2], was: [persistance.Period.schedules#2] (uninitialized)
2016-05-25 00:01:22  [ http-bio-8080-exec-5:4982284 ] - [ DEBUG ]  Collection found: [persistance.Period.workTimes#2], was: [persistance.Period.workTimes#2] (uninitialized)
2016-05-25 00:01:22  [ http-bio-8080-exec-5:4982284 ] - [ DEBUG ]  Collection found: [persistance.Period.registrations#2], was: [persistance.Period.registrations#2] (uninitialized)
2016-05-25 00:01:22  [ http-bio-8080-exec-5:4982285 ] - [ DEBUG ]  Collection found: [persistance.Period.schedules_1#2], was: [persistance.Period.schedules_1#2] (uninitialized)
2016-05-25 00:01:22  [ http-bio-8080-exec-5:4982285 ] - [ DEBUG ]  Collection found: [persistance.Period.registrations_1#2], was: [persistance.Period.registrations_1#2] (uninitialized)
2016-05-25 00:01:22  [ http-bio-8080-exec-5:4982285 ] - [ DEBUG ]  Collection found: [persistance.Period.schedules#3], was: [persistance.Period.schedules#3] (uninitialized)
2016-05-25 00:01:22  [ http-bio-8080-exec-5:4982286 ] - [ DEBUG ]  Collection found: [persistance.Period.workTimes#3], was: [persistance.Period.workTimes#3] (uninitialized)
2016-05-25 00:01:22  [ http-bio-8080-exec-5:4982286 ] - [ DEBUG ]  Collection found: [persistance.Period.registrations#3], was: [persistance.Period.registrations#3] (uninitialized)
2016-05-25 00:01:22  [ http-bio-8080-exec-5:4982286 ] - [ DEBUG ]  Collection found: [persistance.Period.schedules_1#3], was: [persistance.Period.schedules_1#3] (uninitialized)
2016-05-25 00:01:22  [ http-bio-8080-exec-5:4982287 ] - [ DEBUG ]  Collection found: [persistance.Period.registrations_1#3], was: [persistance.Period.registrations_1#3] (uninitialized)
2016-05-25 00:01:22  [ http-bio-8080-exec-5:4982287 ] - [ DEBUG ]  Flushed: 0 insertions, 0 updates, 0 deletions to 3 objects
2016-05-25 00:01:22  [ http-bio-8080-exec-5:4982288 ] - [ DEBUG ]  Flushed: 0 (re)creations, 0 updates, 0 removals to 15 collections
2016-05-25 00:01:22  [ http-bio-8080-exec-5:4982288 ] - [ DEBUG ]  listing entities:
2016-05-25 00:01:22  [ http-bio-8080-exec-5:4982289 ] - [ DEBUG ]  persistance.Period{id=3, registrations_1=<uninitialized>, schedules=<uninitialized>, schedules_1=<uninitialized>, workTimes=<uninitialized>, registrations=<uninitialized>, beginTime=09:00:00, endTime=10:00:00, date=2016-05-21 00:00:00}
2016-05-25 00:01:22  [ http-bio-8080-exec-5:4982290 ] - [ DEBUG ]  persistance.Period{id=1, registrations_1=<uninitialized>, schedules=<uninitialized>, schedules_1=<uninitialized>, workTimes=<uninitialized>, registrations=<uninitialized>, beginTime=09:00:00, endTime=10:00:00, date=2016-05-04 00:00:00}
2016-05-25 00:01:22  [ http-bio-8080-exec-5:4982290 ] - [ DEBUG ]  persistance.Period{id=2, registrations_1=<uninitialized>, schedules=<uninitialized>, schedules_1=<uninitialized>, workTimes=<uninitialized>, registrations=<uninitialized>, beginTime=10:00:00, endTime=11:00:00, date=2016-05-21 00:00:00}
2016-05-25 00:01:22  [ http-bio-8080-exec-5:4982291 ] - [ DEBUG ]  re-enabling autocommit
2016-05-25 00:01:22  [ http-bio-8080-exec-5:4982292 ] - [ DEBUG ]  committed JDBC Connection
2016-05-25 00:01:22  [ http-bio-8080-exec-5:4982292 ] - [ DEBUG ]  transaction completed on session with on_close connection release mode; be sure to close the session to release JDBC resources!
2016-05-25 00:01:22  [ http-bio-8080-exec-5:4982293 ] - [ DEBUG ]  Triggering afterCommit synchronization
2016-05-25 00:01:22  [ http-bio-8080-exec-5:4982293 ] - [ DEBUG ]  Triggering afterCompletion synchronization
2016-05-25 00:01:22  [ http-bio-8080-exec-5:4982294 ] - [ DEBUG ]  Clearing transaction synchronization
2016-05-25 00:01:22  [ http-bio-8080-exec-5:4982294 ] - [ DEBUG ]  Removed value [org.springframework.orm.hibernate3.SessionHolder@7dfec051] for key [org.hibernate.impl.SessionFactoryImpl@40fc29d7] from thread [http-bio-8080-exec-5]
2016-05-25 00:01:22  [ http-bio-8080-exec-5:4982301 ] - [ DEBUG ]  Removed value [org.springframework.jdbc.datasource.ConnectionHolder@4415fe82] for key [com.mchange.v2.c3p0.ComboPooledDataSource@87409cf[ acquireIncrement -> 3, acquireRetryAttempts -> 30, acquireRetryDelay -> 1000, autoCommitOnClose -> false, automaticTestTable -> null, breakAfterAcquireFailure -> false, checkoutTimeout -> 0, connectionTesterClassName -> com.mchange.v2.c3p0.impl.DefaultConnectionTester, description -> null, driverClass -> com.mysql.jdbc.Driver, factoryClassLocation -> null, forceIgnoreUnresolvedTransactions -> false, identityToken -> 87409cf, idleConnectionTestPeriod -> -1, initialPoolSize -> 3, jdbcUrl -> jdbc:mysql://localhost:3306/hospital?characterEncoding=utf-8, loginTimeout -> 0, maxIdleTime -> 0, maxPoolSize -> 15, maxStatements -> 0, maxStatementsPerConnection -> 0, minPoolSize -> 3, numHelperThreads -> 3, preferredTestQuery -> null, properties -> {user=******, password=******}, propertyCycle -> 300, testConnectionOnCheckin -> false, testConnectionOnCheckout -> false, usesTraditionalReflectiveProxies -> false ]] from thread [http-bio-8080-exec-5]
2016-05-25 00:01:22  [ http-bio-8080-exec-5:4982301 ] - [ DEBUG ]  Closing Hibernate Session [org.hibernate.impl.SessionImpl@7e903703] after transaction
2016-05-25 00:01:22  [ http-bio-8080-exec-5:4982302 ] - [ DEBUG ]  Closing Hibernate Session
2016-05-25 00:01:22  [ http-bio-8080-exec-5:4982302 ] - [ DEBUG ]  releasing JDBC connection [ (open PreparedStatements: 0, globally: 0) (open ResultSets: 0, globally: 0)]
2016-05-25 00:01:22  [ http-bio-8080-exec-5:4982302 ] - [ DEBUG ]  trace com.mchange.v2.resourcepool.BasicResourcePool@1ed5eb39 [managed: 3, unused: 2, excluded: 0] (e.g. com.mchange.v2.c3p0.impl.NewPooledConnection@7303eee0)
2016-05-25 00:01:22  [ http-bio-8080-exec-5:4982303 ] - [ DEBUG ]  transaction completed on session with on_close connection release mode; be sure to close the session to release JDBC resources!
2016-05-25 00:01:22  [ http-bio-8080-exec-5:4982304 ] - [ DEBUG ]  No bean named 'org.apache.struts2.json.JSONResult' found in org.springframework.beans.factory.support.DefaultListableBeanFactory defining beans [dataSource,sessionFactory,userDao,doctorDao,departmentDao,hospitalDao,periodDao,scheduleDao,registrationDao,workTimeDao,doctorService,registrationService,periodService,scheduleService,workTimeService,transactionManager,transactionInterceptor,ProxyCreator,doctorName,sex,hospital,department,tel,getPeriods,getRegistrations,mark,insert]; root of BeanFactory hierarchy
2016-05-25 00:01:22  [ http-bio-8080-exec-5:4982304 ] - [ DEBUG ]  Creating [java.util.LinkedHashMap]
2016-05-25 00:01:22  [ http-bio-8080-exec-5:4982305 ] - [ DEBUG ]  Creating [java.util.LinkedHashMap]
2016-05-25 00:01:22  [ http-bio-8080-exec-5:4982305 ] - [ DEBUG ]  Using cached introspection results for class [org.apache.struts2.json.JSONResult]
2016-05-25 00:01:22  [ http-bio-8080-exec-5:4982306 ] - [ DEBUG ]  Bean 'org.apache.struts2.json.JSONResult' instantiated via constructor [public org.apache.struts2.json.JSONResult()]
2016-05-25 00:01:22  [ http-bio-8080-exec-5:4982306 ] - [ DEBUG ]  Invoking BeanPostProcessors before initialization of bean 'org.apache.struts2.json.JSONResult'
2016-05-25 00:01:22  [ http-bio-8080-exec-5:4982307 ] - [ DEBUG ]  Invoking BeanPostProcessors after initialization of bean 'org.apache.struts2.json.JSONResult'
2016-05-25 00:01:22  [ http-bio-8080-exec-5:4982307 ] - [ DEBUG ]  Using cached introspection results for class [org.apache.struts2.json.JSONResult]
2016-05-25 00:01:22  [ http-bio-8080-exec-5:4982308 ] - [ DEBUG ]  Creating [java.util.LinkedHashMap]
2016-05-25 00:01:22  [ http-bio-8080-exec-5:4982311 ] - [ DEBUG ]  Using transaction object [org.springframework.orm.hibernate3.HibernateTransactionManager$HibernateTransactionObject@2d6f9530]
2016-05-25 00:01:22  [ http-bio-8080-exec-5:4982312 ] - [ DEBUG ]  Creating new transaction with name [service.ScheduleService.findPeriods]
2016-05-25 00:01:22  [ http-bio-8080-exec-5:4982312 ] - [ DEBUG ]  opened session at timestamp: 14641056829
2016-05-25 00:01:22  [ http-bio-8080-exec-5:4982313 ] - [ DEBUG ]  Opened new Session [org.hibernate.impl.SessionImpl@1f138d94] for Hibernate transaction
2016-05-25 00:01:22  [ http-bio-8080-exec-5:4982313 ] - [ DEBUG ]  Preparing JDBC Connection of Hibernate Session [org.hibernate.impl.SessionImpl@1f138d94]
2016-05-25 00:01:22  [ http-bio-8080-exec-5:4982314 ] - [ DEBUG ]  begin
2016-05-25 00:01:22  [ http-bio-8080-exec-5:4982315 ] - [ DEBUG ]  opening JDBC connection
2016-05-25 00:01:22  [ http-bio-8080-exec-5:4982316 ] - [ DEBUG ]  trace com.mchange.v2.resourcepool.BasicResourcePool@1ed5eb39 [managed: 3, unused: 2, excluded: 0] (e.g. com.mchange.v2.c3p0.impl.NewPooledConnection@7303eee0)
2016-05-25 00:01:22  [ http-bio-8080-exec-5:4982316 ] - [ DEBUG ]  current autocommit status: true
2016-05-25 00:01:22  [ http-bio-8080-exec-5:4982317 ] - [ DEBUG ]  disabling autocommit
2016-05-25 00:01:22  [ http-bio-8080-exec-5:4982318 ] - [ DEBUG ]  Exposing Hibernate transaction as JDBC transaction [com.mchange.v2.c3p0.impl.NewProxyConnection@69b46773]
2016-05-25 00:01:22  [ http-bio-8080-exec-5:4982323 ] - [ DEBUG ]  Bound value [org.springframework.jdbc.datasource.ConnectionHolder@1a4ee87b] for key [com.mchange.v2.c3p0.ComboPooledDataSource@87409cf[ acquireIncrement -> 3, acquireRetryAttempts -> 30, acquireRetryDelay -> 1000, autoCommitOnClose -> false, automaticTestTable -> null, breakAfterAcquireFailure -> false, checkoutTimeout -> 0, connectionTesterClassName -> com.mchange.v2.c3p0.impl.DefaultConnectionTester, description -> null, driverClass -> com.mysql.jdbc.Driver, factoryClassLocation -> null, forceIgnoreUnresolvedTransactions -> false, identityToken -> 87409cf, idleConnectionTestPeriod -> -1, initialPoolSize -> 3, jdbcUrl -> jdbc:mysql://localhost:3306/hospital?characterEncoding=utf-8, loginTimeout -> 0, maxIdleTime -> 0, maxPoolSize -> 15, maxStatements -> 0, maxStatementsPerConnection -> 0, minPoolSize -> 3, numHelperThreads -> 3, preferredTestQuery -> null, properties -> {user=******, password=******}, propertyCycle -> 300, testConnectionOnCheckin -> false, testConnectionOnCheckout -> false, usesTraditionalReflectiveProxies -> false ]] to thread [http-bio-8080-exec-5]
2016-05-25 00:01:22  [ http-bio-8080-exec-5:4982324 ] - [ DEBUG ]  Bound value [org.springframework.orm.hibernate3.SessionHolder@2f3c9ee4] for key [org.hibernate.impl.SessionFactoryImpl@40fc29d7] to thread [http-bio-8080-exec-5]
2016-05-25 00:01:22  [ http-bio-8080-exec-5:4982324 ] - [ DEBUG ]  Initializing transaction synchronization
2016-05-25 00:01:22  [ http-bio-8080-exec-5:4982324 ] - [ DEBUG ]  Getting transaction for service.ScheduleService.findPeriods
2016-05-25 00:01:22  [ http-bio-8080-exec-5:4982325 ] - [ DEBUG ]  Retrieved value [org.springframework.orm.hibernate3.SessionHolder@2f3c9ee4] for key [org.hibernate.impl.SessionFactoryImpl@40fc29d7] bound to thread [http-bio-8080-exec-5]
2016-05-25 00:01:22  [ http-bio-8080-exec-5:4982325 ] - [ DEBUG ]  about to open PreparedStatement (open PreparedStatements: 0, globally: 0)
2016-05-25 00:01:23  [ http-bio-8080-exec-5:4982326 ] - [ DEBUG ]  
    select
        p.* 
    from
        doctor d 
    join
        schedule s 
    join
        period p 
    where
        s.doctor_id=d.id 
        and s.period_id=p.id 
        and d.name= ?
2016-05-25 00:01:23  [ http-bio-8080-exec-5:4982328 ] - [ DEBUG ]  bindNamedParameters() Ë¬¸ç -> doctorName [1]
2016-05-25 00:01:23  [ http-bio-8080-exec-5:4982329 ] - [ DEBUG ]  about to open ResultSet (open ResultSets: 0, globally: 0)
2016-05-25 00:01:23  [ http-bio-8080-exec-5:4982329 ] - [ DEBUG ]  result row: EntityKey[persistance.Period#1]
2016-05-25 00:01:23  [ http-bio-8080-exec-5:4982330 ] - [ DEBUG ]  result row: EntityKey[persistance.Period#2]
2016-05-25 00:01:23  [ http-bio-8080-exec-5:4982330 ] - [ DEBUG ]  result row: EntityKey[persistance.Period#3]
2016-05-25 00:01:23  [ http-bio-8080-exec-5:4982331 ] - [ DEBUG ]  about to close ResultSet (open ResultSets: 1, globally: 1)
2016-05-25 00:01:23  [ http-bio-8080-exec-5:4982331 ] - [ DEBUG ]  about to close PreparedStatement (open PreparedStatements: 1, globally: 1)
2016-05-25 00:01:23  [ http-bio-8080-exec-5:4982331 ] - [ DEBUG ]  resolving associations for [persistance.Period#1]
2016-05-25 00:01:23  [ http-bio-8080-exec-5:4982332 ] - [ DEBUG ]  done materializing entity [persistance.Period#1]
2016-05-25 00:01:23  [ http-bio-8080-exec-5:4982333 ] - [ DEBUG ]  resolving associations for [persistance.Period#2]
2016-05-25 00:01:23  [ http-bio-8080-exec-5:4982333 ] - [ DEBUG ]  done materializing entity [persistance.Period#2]
2016-05-25 00:01:23  [ http-bio-8080-exec-5:4982334 ] - [ DEBUG ]  resolving associations for [persistance.Period#3]
2016-05-25 00:01:23  [ http-bio-8080-exec-5:4982334 ] - [ DEBUG ]  done materializing entity [persistance.Period#3]
2016-05-25 00:01:23  [ http-bio-8080-exec-5:4982335 ] - [ DEBUG ]  initializing non-lazy collections
2016-05-25 00:01:23  [ http-bio-8080-exec-5:4982335 ] - [ DEBUG ]  Invoking commit for transaction on service.ScheduleService.findPeriods
2016-05-25 00:01:23  [ http-bio-8080-exec-5:4982336 ] - [ DEBUG ]  Triggering beforeCommit synchronization
2016-05-25 00:01:23  [ http-bio-8080-exec-5:4982336 ] - [ DEBUG ]  Triggering beforeCompletion synchronization
2016-05-25 00:01:23  [ http-bio-8080-exec-5:4982337 ] - [ DEBUG ]  Initiating transaction commit
2016-05-25 00:01:23  [ http-bio-8080-exec-5:4982337 ] - [ DEBUG ]  Committing Hibernate transaction on Session [org.hibernate.impl.SessionImpl@1f138d94]
2016-05-25 00:01:23  [ http-bio-8080-exec-5:4982337 ] - [ DEBUG ]  commit
2016-05-25 00:01:23  [ http-bio-8080-exec-5:4982338 ] - [ DEBUG ]  processing flush-time cascades
2016-05-25 00:01:23  [ http-bio-8080-exec-5:4982338 ] - [ DEBUG ]  dirty checking collections
2016-05-25 00:01:23  [ http-bio-8080-exec-5:4982338 ] - [ DEBUG ]  Collection found: [persistance.Period.schedules#1], was: [persistance.Period.schedules#1] (uninitialized)
2016-05-25 00:01:23  [ http-bio-8080-exec-5:4982339 ] - [ DEBUG ]  Collection found: [persistance.Period.workTimes#1], was: [persistance.Period.workTimes#1] (uninitialized)
2016-05-25 00:01:23  [ http-bio-8080-exec-5:4982339 ] - [ DEBUG ]  Collection found: [persistance.Period.registrations#1], was: [persistance.Period.registrations#1] (uninitialized)
2016-05-25 00:01:23  [ http-bio-8080-exec-5:4982339 ] - [ DEBUG ]  Collection found: [persistance.Period.schedules_1#1], was: [persistance.Period.schedules_1#1] (uninitialized)
2016-05-25 00:01:23  [ http-bio-8080-exec-5:4982340 ] - [ DEBUG ]  Collection found: [persistance.Period.registrations_1#1], was: [persistance.Period.registrations_1#1] (uninitialized)
2016-05-25 00:01:23  [ http-bio-8080-exec-5:4982340 ] - [ DEBUG ]  Collection found: [persistance.Period.schedules#2], was: [persistance.Period.schedules#2] (uninitialized)
2016-05-25 00:01:23  [ http-bio-8080-exec-5:4982340 ] - [ DEBUG ]  Collection found: [persistance.Period.workTimes#2], was: [persistance.Period.workTimes#2] (uninitialized)
2016-05-25 00:01:23  [ http-bio-8080-exec-5:4982341 ] - [ DEBUG ]  Collection found: [persistance.Period.registrations#2], was: [persistance.Period.registrations#2] (uninitialized)
2016-05-25 00:01:23  [ http-bio-8080-exec-5:4982341 ] - [ DEBUG ]  Collection found: [persistance.Period.schedules_1#2], was: [persistance.Period.schedules_1#2] (uninitialized)
2016-05-25 00:01:23  [ http-bio-8080-exec-5:4982341 ] - [ DEBUG ]  Collection found: [persistance.Period.registrations_1#2], was: [persistance.Period.registrations_1#2] (uninitialized)
2016-05-25 00:01:23  [ http-bio-8080-exec-5:4982342 ] - [ DEBUG ]  Collection found: [persistance.Period.schedules#3], was: [persistance.Period.schedules#3] (uninitialized)
2016-05-25 00:01:23  [ http-bio-8080-exec-5:4982342 ] - [ DEBUG ]  Collection found: [persistance.Period.workTimes#3], was: [persistance.Period.workTimes#3] (uninitialized)
2016-05-25 00:01:23  [ http-bio-8080-exec-5:4982342 ] - [ DEBUG ]  Collection found: [persistance.Period.registrations#3], was: [persistance.Period.registrations#3] (uninitialized)
2016-05-25 00:01:23  [ http-bio-8080-exec-5:4982343 ] - [ DEBUG ]  Collection found: [persistance.Period.schedules_1#3], was: [persistance.Period.schedules_1#3] (uninitialized)
2016-05-25 00:01:23  [ http-bio-8080-exec-5:4982343 ] - [ DEBUG ]  Collection found: [persistance.Period.registrations_1#3], was: [persistance.Period.registrations_1#3] (uninitialized)
2016-05-25 00:01:23  [ http-bio-8080-exec-5:4982344 ] - [ DEBUG ]  Flushed: 0 insertions, 0 updates, 0 deletions to 3 objects
2016-05-25 00:01:23  [ http-bio-8080-exec-5:4982344 ] - [ DEBUG ]  Flushed: 0 (re)creations, 0 updates, 0 removals to 15 collections
2016-05-25 00:01:23  [ http-bio-8080-exec-5:4982345 ] - [ DEBUG ]  listing entities:
2016-05-25 00:01:23  [ http-bio-8080-exec-5:4982345 ] - [ DEBUG ]  persistance.Period{id=3, registrations_1=<uninitialized>, schedules=<uninitialized>, schedules_1=<uninitialized>, workTimes=<uninitialized>, registrations=<uninitialized>, beginTime=09:00:00, endTime=10:00:00, date=2016-05-21 00:00:00}
2016-05-25 00:01:23  [ http-bio-8080-exec-5:4982346 ] - [ DEBUG ]  persistance.Period{id=1, registrations_1=<uninitialized>, schedules=<uninitialized>, schedules_1=<uninitialized>, workTimes=<uninitialized>, registrations=<uninitialized>, beginTime=09:00:00, endTime=10:00:00, date=2016-05-04 00:00:00}
2016-05-25 00:01:23  [ http-bio-8080-exec-5:4982346 ] - [ DEBUG ]  persistance.Period{id=2, registrations_1=<uninitialized>, schedules=<uninitialized>, schedules_1=<uninitialized>, workTimes=<uninitialized>, registrations=<uninitialized>, beginTime=10:00:00, endTime=11:00:00, date=2016-05-21 00:00:00}
2016-05-25 00:01:23  [ http-bio-8080-exec-5:4982347 ] - [ DEBUG ]  re-enabling autocommit
2016-05-25 00:01:23  [ http-bio-8080-exec-5:4982348 ] - [ DEBUG ]  committed JDBC Connection
2016-05-25 00:01:23  [ http-bio-8080-exec-5:4982348 ] - [ DEBUG ]  transaction completed on session with on_close connection release mode; be sure to close the session to release JDBC resources!
2016-05-25 00:01:23  [ http-bio-8080-exec-5:4982348 ] - [ DEBUG ]  Triggering afterCommit synchronization
2016-05-25 00:01:23  [ http-bio-8080-exec-5:4982348 ] - [ DEBUG ]  Triggering afterCompletion synchronization
2016-05-25 00:01:23  [ http-bio-8080-exec-5:4982349 ] - [ DEBUG ]  Clearing transaction synchronization
2016-05-25 00:01:23  [ http-bio-8080-exec-5:4982349 ] - [ DEBUG ]  Removed value [org.springframework.orm.hibernate3.SessionHolder@2f3c9ee4] for key [org.hibernate.impl.SessionFactoryImpl@40fc29d7] from thread [http-bio-8080-exec-5]
2016-05-25 00:01:23  [ http-bio-8080-exec-5:4982353 ] - [ DEBUG ]  Removed value [org.springframework.jdbc.datasource.ConnectionHolder@1a4ee87b] for key [com.mchange.v2.c3p0.ComboPooledDataSource@87409cf[ acquireIncrement -> 3, acquireRetryAttempts -> 30, acquireRetryDelay -> 1000, autoCommitOnClose -> false, automaticTestTable -> null, breakAfterAcquireFailure -> false, checkoutTimeout -> 0, connectionTesterClassName -> com.mchange.v2.c3p0.impl.DefaultConnectionTester, description -> null, driverClass -> com.mysql.jdbc.Driver, factoryClassLocation -> null, forceIgnoreUnresolvedTransactions -> false, identityToken -> 87409cf, idleConnectionTestPeriod -> -1, initialPoolSize -> 3, jdbcUrl -> jdbc:mysql://localhost:3306/hospital?characterEncoding=utf-8, loginTimeout -> 0, maxIdleTime -> 0, maxPoolSize -> 15, maxStatements -> 0, maxStatementsPerConnection -> 0, minPoolSize -> 3, numHelperThreads -> 3, preferredTestQuery -> null, properties -> {user=******, password=******}, propertyCycle -> 300, testConnectionOnCheckin -> false, testConnectionOnCheckout -> false, usesTraditionalReflectiveProxies -> false ]] from thread [http-bio-8080-exec-5]
2016-05-25 00:01:23  [ http-bio-8080-exec-5:4982354 ] - [ DEBUG ]  Closing Hibernate Session [org.hibernate.impl.SessionImpl@1f138d94] after transaction
2016-05-25 00:01:23  [ http-bio-8080-exec-5:4982354 ] - [ DEBUG ]  Closing Hibernate Session
2016-05-25 00:01:23  [ http-bio-8080-exec-5:4982355 ] - [ DEBUG ]  releasing JDBC connection [ (open PreparedStatements: 0, globally: 0) (open ResultSets: 0, globally: 0)]
2016-05-25 00:01:23  [ http-bio-8080-exec-5:4982355 ] - [ DEBUG ]  trace com.mchange.v2.resourcepool.BasicResourcePool@1ed5eb39 [managed: 3, unused: 2, excluded: 0] (e.g. com.mchange.v2.c3p0.impl.NewPooledConnection@7303eee0)
2016-05-25 00:01:23  [ http-bio-8080-exec-5:4982356 ] - [ DEBUG ]  transaction completed on session with on_close connection release mode; be sure to close the session to release JDBC resources!
2016-05-25 00:01:23  [ http-bio-8080-exec-5:4982356 ] - [ DEBUG ]  [JSON]{"periods":"success","registrations":"success"}
2016-05-25 00:01:23  [ http-bio-8080-exec-5:4982357 ] - [ DEBUG ]  after Locale=zh_CN
2016-05-25 00:01:23  [ http-bio-8080-exec-5:4982357 ] - [ DEBUG ]  intercept } 
2016-05-25 00:01:25  [ http-bio-8080-exec-5:4984617 ] - [ DEBUG ]  Entering nullPropertyValue [target=[com.opensymphony.xwork2.DefaultTextProvider@64b8ecac], property=struts]
2016-05-25 00:01:25  [ http-bio-8080-exec-5:4984618 ] - [ DEBUG ]  Entering nullPropertyValue [target=[com.opensymphony.xwork2.DefaultTextProvider@64b8ecac], property=struts]
2016-05-25 00:01:25  [ http-bio-8080-exec-5:4984618 ] - [ DEBUG ]  Creating an DefaultActionProxy for namespace / and action name getRegistrations
2016-05-25 00:01:25  [ http-bio-8080-exec-5:4984619 ] - [ DEBUG ]  No bean named 'action.HandleAction' found in org.springframework.beans.factory.support.DefaultListableBeanFactory defining beans [dataSource,sessionFactory,userDao,doctorDao,departmentDao,hospitalDao,periodDao,scheduleDao,registrationDao,workTimeDao,doctorService,registrationService,periodService,scheduleService,workTimeService,transactionManager,transactionInterceptor,ProxyCreator,doctorName,sex,hospital,department,tel,getPeriods,getRegistrations,mark,insert]; root of BeanFactory hierarchy
2016-05-25 00:01:25  [ http-bio-8080-exec-5:4984619 ] - [ DEBUG ]  Creating [java.util.LinkedHashMap]
2016-05-25 00:01:25  [ http-bio-8080-exec-5:4984620 ] - [ DEBUG ]  Creating [java.util.LinkedHashMap]
2016-05-25 00:01:25  [ http-bio-8080-exec-5:4984620 ] - [ DEBUG ]  Using cached introspection results for class [action.HandleAction]
2016-05-25 00:01:25  [ http-bio-8080-exec-5:4984620 ] - [ DEBUG ]  Bean 'action.HandleAction' instantiated via constructor [public action.HandleAction()]
2016-05-25 00:01:25  [ http-bio-8080-exec-5:4984621 ] - [ DEBUG ]  Invoking BeanPostProcessors before initialization of bean 'action.HandleAction'
2016-05-25 00:01:25  [ http-bio-8080-exec-5:4984621 ] - [ DEBUG ]  Invoking BeanPostProcessors after initialization of bean 'action.HandleAction'
2016-05-25 00:01:25  [ http-bio-8080-exec-5:4984621 ] - [ DEBUG ]  Using cached introspection results for class [action.HandleAction]
2016-05-25 00:01:25  [ http-bio-8080-exec-5:4984622 ] - [ DEBUG ]  Not autowiring property 'actionErrors' of bean 'action.HandleAction' by name: no matching bean found
2016-05-25 00:01:25  [ http-bio-8080-exec-5:4984622 ] - [ DEBUG ]  Not autowiring property 'actionMessages' of bean 'action.HandleAction' by name: no matching bean found
2016-05-25 00:01:25  [ http-bio-8080-exec-5:4984622 ] - [ DEBUG ]  Not autowiring property 'fieldErrors' of bean 'action.HandleAction' by name: no matching bean found
2016-05-25 00:01:25  [ http-bio-8080-exec-5:4984622 ] - [ DEBUG ]  Returning cached instance of singleton bean 'registrationService'
2016-05-25 00:01:25  [ http-bio-8080-exec-5:4984623 ] - [ DEBUG ]  Added autowiring by name from bean name 'action.HandleAction' via property 'registrationService' to bean named 'registrationService'
2016-05-25 00:01:25  [ http-bio-8080-exec-5:4984623 ] - [ DEBUG ]  Returning cached instance of singleton bean 'scheduleService'
2016-05-25 00:01:25  [ http-bio-8080-exec-5:4984627 ] - [ DEBUG ]  Added autowiring by name from bean name 'action.HandleAction' via property 'scheduleService' to bean named 'scheduleService'
2016-05-25 00:01:25  [ http-bio-8080-exec-5:4984628 ] - [ DEBUG ]  Creating [java.util.LinkedHashMap]
2016-05-25 00:01:25  [ http-bio-8080-exec-5:4984628 ] - [ DEBUG ]  About to invoke write method [public void action.HandleAction.setRegistrationService(service.RegistrationService)] on object of class [action.HandleAction]
2016-05-25 00:01:25  [ http-bio-8080-exec-5:4984629 ] - [ DEBUG ]  Invoked write method [public void action.HandleAction.setRegistrationService(service.RegistrationService)] with value of type [service.RegistrationService]
2016-05-25 00:01:25  [ http-bio-8080-exec-5:4984629 ] - [ DEBUG ]  About to invoke write method [public void action.HandleAction.setScheduleService(service.ScheduleService)] on object of class [action.HandleAction]
2016-05-25 00:01:25  [ http-bio-8080-exec-5:4984629 ] - [ DEBUG ]  Invoked write method [public void action.HandleAction.setScheduleService(service.ScheduleService)] with value of type [service.ScheduleService]
2016-05-25 00:01:25  [ http-bio-8080-exec-5:4984630 ] - [ DEBUG ]  intercept '//getRegistrations' { 
2016-05-25 00:01:25  [ http-bio-8080-exec-5:4984630 ] - [ DEBUG ]  applied invocation context locale=zh_CN
2016-05-25 00:01:25  [ http-bio-8080-exec-5:4984630 ] - [ DEBUG ]  before Locale=zh_CN
2016-05-25 00:01:25  [ http-bio-8080-exec-5:4984631 ] - [ DEBUG ]  Entering nullPropertyValue [target=[action.HandleAction@76071060, com.opensymphony.xwork2.DefaultTextProvider@64b8ecac], property=struts]
2016-05-25 00:01:25  [ http-bio-8080-exec-5:4984631 ] - [ DEBUG ]  Bypassing //getRegistrations
2016-05-25 00:01:25  [ http-bio-8080-exec-5:4984632 ] - [ DEBUG ]  Setting static parameters {}
2016-05-25 00:01:25  [ http-bio-8080-exec-5:4984632 ] - [ DEBUG ]  Setting params NONE
2016-05-25 00:01:25  [ http-bio-8080-exec-5:4984633 ] - [ DEBUG ]  Setting params doctorName => [ Ë¬¸ç ] periods => [ 2016-05-04 ÉÏÎç ] 
2016-05-25 00:01:25  [ http-bio-8080-exec-5:4984634 ] - [ DEBUG ]  Validating //getRegistrations with method getRegistrations.
2016-05-25 00:01:25  [ http-bio-8080-exec-5:4984635 ] - [ DEBUG ]  Invoking validate() on action action.HandleAction@76071060
2016-05-25 00:01:25  [ http-bio-8080-exec-5:4984635 ] - [ DEBUG ]  cannot find method [validateGetRegistrations] in action [action.HandleAction@76071060]
2016-05-25 00:01:25  [ http-bio-8080-exec-5:4984635 ] - [ DEBUG ]  cannot find method [validateDoGetRegistrations] in action [action.HandleAction@76071060]
2016-05-25 00:01:25  [ http-bio-8080-exec-5:4984636 ] - [ DEBUG ]  Executing action method = getRegistrations
2016-05-25 00:01:25  [ http-bio-8080-exec-5:4984636 ] - [ DEBUG ]  Using transaction object [org.springframework.orm.hibernate3.HibernateTransactionManager$HibernateTransactionObject@3b6e4330]
2016-05-25 00:01:25  [ http-bio-8080-exec-5:4984641 ] - [ DEBUG ]  Creating new transaction with name [service.RegistrationService.findRegistrations]
2016-05-25 00:01:25  [ http-bio-8080-exec-5:4984642 ] - [ DEBUG ]  opened session at timestamp: 14641056853
2016-05-25 00:01:25  [ http-bio-8080-exec-5:4984642 ] - [ DEBUG ]  Opened new Session [org.hibernate.impl.SessionImpl@676f4be2] for Hibernate transaction
2016-05-25 00:01:25  [ http-bio-8080-exec-5:4984643 ] - [ DEBUG ]  Preparing JDBC Connection of Hibernate Session [org.hibernate.impl.SessionImpl@676f4be2]
2016-05-25 00:01:25  [ http-bio-8080-exec-5:4984644 ] - [ DEBUG ]  begin
2016-05-25 00:01:25  [ http-bio-8080-exec-5:4984644 ] - [ DEBUG ]  opening JDBC connection
2016-05-25 00:01:25  [ http-bio-8080-exec-5:4984645 ] - [ DEBUG ]  trace com.mchange.v2.resourcepool.BasicResourcePool@1ed5eb39 [managed: 3, unused: 2, excluded: 0] (e.g. com.mchange.v2.c3p0.impl.NewPooledConnection@7303eee0)
2016-05-25 00:01:25  [ http-bio-8080-exec-5:4984647 ] - [ DEBUG ]  current autocommit status: true
2016-05-25 00:01:25  [ http-bio-8080-exec-5:4984648 ] - [ DEBUG ]  disabling autocommit
2016-05-25 00:01:25  [ http-bio-8080-exec-5:4984649 ] - [ DEBUG ]  Exposing Hibernate transaction as JDBC transaction [com.mchange.v2.c3p0.impl.NewProxyConnection@3ad8a49d]
2016-05-25 00:01:25  [ http-bio-8080-exec-5:4984658 ] - [ DEBUG ]  Bound value [org.springframework.jdbc.datasource.ConnectionHolder@6e3a1bac] for key [com.mchange.v2.c3p0.ComboPooledDataSource@87409cf[ acquireIncrement -> 3, acquireRetryAttempts -> 30, acquireRetryDelay -> 1000, autoCommitOnClose -> false, automaticTestTable -> null, breakAfterAcquireFailure -> false, checkoutTimeout -> 0, connectionTesterClassName -> com.mchange.v2.c3p0.impl.DefaultConnectionTester, description -> null, driverClass -> com.mysql.jdbc.Driver, factoryClassLocation -> null, forceIgnoreUnresolvedTransactions -> false, identityToken -> 87409cf, idleConnectionTestPeriod -> -1, initialPoolSize -> 3, jdbcUrl -> jdbc:mysql://localhost:3306/hospital?characterEncoding=utf-8, loginTimeout -> 0, maxIdleTime -> 0, maxPoolSize -> 15, maxStatements -> 0, maxStatementsPerConnection -> 0, minPoolSize -> 3, numHelperThreads -> 3, preferredTestQuery -> null, properties -> {user=******, password=******}, propertyCycle -> 300, testConnectionOnCheckin -> false, testConnectionOnCheckout -> false, usesTraditionalReflectiveProxies -> false ]] to thread [http-bio-8080-exec-5]
2016-05-25 00:01:25  [ http-bio-8080-exec-5:4984659 ] - [ DEBUG ]  Bound value [org.springframework.orm.hibernate3.SessionHolder@5f40c449] for key [org.hibernate.impl.SessionFactoryImpl@40fc29d7] to thread [http-bio-8080-exec-5]
2016-05-25 00:01:25  [ http-bio-8080-exec-5:4984659 ] - [ DEBUG ]  Initializing transaction synchronization
2016-05-25 00:01:25  [ http-bio-8080-exec-5:4984660 ] - [ DEBUG ]  Getting transaction for service.RegistrationService.findRegistrations
2016-05-25 00:01:25  [ http-bio-8080-exec-5:4984660 ] - [ DEBUG ]  Retrieved value [org.springframework.orm.hibernate3.SessionHolder@5f40c449] for key [org.hibernate.impl.SessionFactoryImpl@40fc29d7] bound to thread [http-bio-8080-exec-5]
2016-05-25 00:01:25  [ http-bio-8080-exec-5:4984661 ] - [ DEBUG ]  about to open PreparedStatement (open PreparedStatements: 0, globally: 0)
2016-05-25 00:01:25  [ http-bio-8080-exec-5:4984662 ] - [ DEBUG ]  
    select
        r.id id,
        u.user_name userName ,
        p.begin_time beginTime 
    from
        registration r 
    join
        doctor do 
    join
        department de 
    join
        user u 
    join
        period p  
    where
        r.doctor_id=do.id 
        and r.department_id = de.id 
        and r.user_id=u.user_id 
        and r.period_id=p.id  
        and  do.name=? 
        and p.date=? 
        and  p.begin_time>=? 
        and p.begin_time<=?
2016-05-25 00:01:25  [ http-bio-8080-exec-5:4984663 ] - [ DEBUG ]  bindNamedParameters() 11:00:00 -> lastPeriodBegin [4]
2016-05-25 00:01:25  [ http-bio-8080-exec-5:4984664 ] - [ DEBUG ]  bindNamedParameters() Ë¬¸ç -> doctorName [1]
2016-05-25 00:01:25  [ http-bio-8080-exec-5:4984664 ] - [ DEBUG ]  bindNamedParameters() 2016-05-04 -> date [2]
2016-05-25 00:01:25  [ http-bio-8080-exec-5:4984664 ] - [ DEBUG ]  bindNamedParameters() 09:00:00 -> firstPeriodBegin [3]
2016-05-25 00:01:25  [ http-bio-8080-exec-5:4984665 ] - [ DEBUG ]  about to open ResultSet (open ResultSets: 0, globally: 0)
2016-05-25 00:01:25  [ http-bio-8080-exec-5:4984665 ] - [ DEBUG ]  result row: 
2016-05-25 00:01:25  [ http-bio-8080-exec-5:4984666 ] - [ DEBUG ]  result row: 
2016-05-25 00:01:25  [ http-bio-8080-exec-5:4984666 ] - [ DEBUG ]  about to close ResultSet (open ResultSets: 1, globally: 1)
2016-05-25 00:01:25  [ http-bio-8080-exec-5:4984667 ] - [ DEBUG ]  about to close PreparedStatement (open PreparedStatements: 1, globally: 1)
2016-05-25 00:01:25  [ http-bio-8080-exec-5:4984667 ] - [ DEBUG ]  initializing non-lazy collections
2016-05-25 00:01:25  [ http-bio-8080-exec-5:4984668 ] - [ DEBUG ]  Invoking commit for transaction on service.RegistrationService.findRegistrations
2016-05-25 00:01:25  [ http-bio-8080-exec-5:4984668 ] - [ DEBUG ]  Triggering beforeCommit synchronization
2016-05-25 00:01:25  [ http-bio-8080-exec-5:4984668 ] - [ DEBUG ]  Triggering beforeCompletion synchronization
2016-05-25 00:01:25  [ http-bio-8080-exec-5:4984668 ] - [ DEBUG ]  Initiating transaction commit
2016-05-25 00:01:25  [ http-bio-8080-exec-5:4984669 ] - [ DEBUG ]  Committing Hibernate transaction on Session [org.hibernate.impl.SessionImpl@676f4be2]
2016-05-25 00:01:25  [ http-bio-8080-exec-5:4984669 ] - [ DEBUG ]  commit
2016-05-25 00:01:25  [ http-bio-8080-exec-5:4984670 ] - [ DEBUG ]  re-enabling autocommit
2016-05-25 00:01:25  [ http-bio-8080-exec-5:4984670 ] - [ DEBUG ]  committed JDBC Connection
2016-05-25 00:01:25  [ http-bio-8080-exec-5:4984670 ] - [ DEBUG ]  transaction completed on session with on_close connection release mode; be sure to close the session to release JDBC resources!
2016-05-25 00:01:25  [ http-bio-8080-exec-5:4984671 ] - [ DEBUG ]  Triggering afterCommit synchronization
2016-05-25 00:01:25  [ http-bio-8080-exec-5:4984671 ] - [ DEBUG ]  Triggering afterCompletion synchronization
2016-05-25 00:01:25  [ http-bio-8080-exec-5:4984671 ] - [ DEBUG ]  Clearing transaction synchronization
2016-05-25 00:01:25  [ http-bio-8080-exec-5:4984671 ] - [ DEBUG ]  Removed value [org.springframework.orm.hibernate3.SessionHolder@5f40c449] for key [org.hibernate.impl.SessionFactoryImpl@40fc29d7] from thread [http-bio-8080-exec-5]
2016-05-25 00:01:25  [ http-bio-8080-exec-5:4984676 ] - [ DEBUG ]  Removed value [org.springframework.jdbc.datasource.ConnectionHolder@6e3a1bac] for key [com.mchange.v2.c3p0.ComboPooledDataSource@87409cf[ acquireIncrement -> 3, acquireRetryAttempts -> 30, acquireRetryDelay -> 1000, autoCommitOnClose -> false, automaticTestTable -> null, breakAfterAcquireFailure -> false, checkoutTimeout -> 0, connectionTesterClassName -> com.mchange.v2.c3p0.impl.DefaultConnectionTester, description -> null, driverClass -> com.mysql.jdbc.Driver, factoryClassLocation -> null, forceIgnoreUnresolvedTransactions -> false, identityToken -> 87409cf, idleConnectionTestPeriod -> -1, initialPoolSize -> 3, jdbcUrl -> jdbc:mysql://localhost:3306/hospital?characterEncoding=utf-8, loginTimeout -> 0, maxIdleTime -> 0, maxPoolSize -> 15, maxStatements -> 0, maxStatementsPerConnection -> 0, minPoolSize -> 3, numHelperThreads -> 3, preferredTestQuery -> null, properties -> {user=******, password=******}, propertyCycle -> 300, testConnectionOnCheckin -> false, testConnectionOnCheckout -> false, usesTraditionalReflectiveProxies -> false ]] from thread [http-bio-8080-exec-5]
2016-05-25 00:01:25  [ http-bio-8080-exec-5:4984676 ] - [ DEBUG ]  Closing Hibernate Session [org.hibernate.impl.SessionImpl@676f4be2] after transaction
2016-05-25 00:01:25  [ http-bio-8080-exec-5:4984677 ] - [ DEBUG ]  Closing Hibernate Session
2016-05-25 00:01:25  [ http-bio-8080-exec-5:4984677 ] - [ DEBUG ]  releasing JDBC connection [ (open PreparedStatements: 0, globally: 0) (open ResultSets: 0, globally: 0)]
2016-05-25 00:01:25  [ http-bio-8080-exec-5:4984677 ] - [ DEBUG ]  trace com.mchange.v2.resourcepool.BasicResourcePool@1ed5eb39 [managed: 3, unused: 2, excluded: 0] (e.g. com.mchange.v2.c3p0.impl.NewPooledConnection@7303eee0)
2016-05-25 00:01:25  [ http-bio-8080-exec-5:4984678 ] - [ DEBUG ]  transaction completed on session with on_close connection release mode; be sure to close the session to release JDBC resources!
2016-05-25 00:01:25  [ http-bio-8080-exec-5:4984679 ] - [ DEBUG ]  No bean named 'org.apache.struts2.json.JSONResult' found in org.springframework.beans.factory.support.DefaultListableBeanFactory defining beans [dataSource,sessionFactory,userDao,doctorDao,departmentDao,hospitalDao,periodDao,scheduleDao,registrationDao,workTimeDao,doctorService,registrationService,periodService,scheduleService,workTimeService,transactionManager,transactionInterceptor,ProxyCreator,doctorName,sex,hospital,department,tel,getPeriods,getRegistrations,mark,insert]; root of BeanFactory hierarchy
2016-05-25 00:01:25  [ http-bio-8080-exec-5:4984679 ] - [ DEBUG ]  Creating [java.util.LinkedHashMap]
2016-05-25 00:01:25  [ http-bio-8080-exec-5:4984680 ] - [ DEBUG ]  Creating [java.util.LinkedHashMap]
2016-05-25 00:01:25  [ http-bio-8080-exec-5:4984680 ] - [ DEBUG ]  Using cached introspection results for class [org.apache.struts2.json.JSONResult]
2016-05-25 00:01:25  [ http-bio-8080-exec-5:4984681 ] - [ DEBUG ]  Bean 'org.apache.struts2.json.JSONResult' instantiated via constructor [public org.apache.struts2.json.JSONResult()]
2016-05-25 00:01:25  [ http-bio-8080-exec-5:4984682 ] - [ DEBUG ]  Invoking BeanPostProcessors before initialization of bean 'org.apache.struts2.json.JSONResult'
2016-05-25 00:01:25  [ http-bio-8080-exec-5:4984682 ] - [ DEBUG ]  Invoking BeanPostProcessors after initialization of bean 'org.apache.struts2.json.JSONResult'
2016-05-25 00:01:25  [ http-bio-8080-exec-5:4984683 ] - [ DEBUG ]  Using cached introspection results for class [org.apache.struts2.json.JSONResult]
2016-05-25 00:01:25  [ http-bio-8080-exec-5:4984684 ] - [ DEBUG ]  Creating [java.util.LinkedHashMap]
2016-05-25 00:01:25  [ http-bio-8080-exec-5:4984687 ] - [ DEBUG ]  Using transaction object [org.springframework.orm.hibernate3.HibernateTransactionManager$HibernateTransactionObject@35cb2b7f]
2016-05-25 00:01:25  [ http-bio-8080-exec-5:4984688 ] - [ DEBUG ]  Creating new transaction with name [service.ScheduleService.findPeriods]
2016-05-25 00:01:25  [ http-bio-8080-exec-5:4984688 ] - [ DEBUG ]  opened session at timestamp: 14641056853
2016-05-25 00:01:25  [ http-bio-8080-exec-5:4984689 ] - [ DEBUG ]  Opened new Session [org.hibernate.impl.SessionImpl@78d63cf3] for Hibernate transaction
2016-05-25 00:01:25  [ http-bio-8080-exec-5:4984689 ] - [ DEBUG ]  Preparing JDBC Connection of Hibernate Session [org.hibernate.impl.SessionImpl@78d63cf3]
2016-05-25 00:01:25  [ http-bio-8080-exec-5:4984690 ] - [ DEBUG ]  begin
2016-05-25 00:01:25  [ http-bio-8080-exec-5:4984690 ] - [ DEBUG ]  opening JDBC connection
2016-05-25 00:01:25  [ http-bio-8080-exec-5:4984690 ] - [ DEBUG ]  trace com.mchange.v2.resourcepool.BasicResourcePool@1ed5eb39 [managed: 3, unused: 2, excluded: 0] (e.g. com.mchange.v2.c3p0.impl.NewPooledConnection@7303eee0)
2016-05-25 00:01:25  [ http-bio-8080-exec-5:4984691 ] - [ DEBUG ]  current autocommit status: true
2016-05-25 00:01:25  [ http-bio-8080-exec-5:4984691 ] - [ DEBUG ]  disabling autocommit
2016-05-25 00:01:25  [ http-bio-8080-exec-5:4984692 ] - [ DEBUG ]  Exposing Hibernate transaction as JDBC transaction [com.mchange.v2.c3p0.impl.NewProxyConnection@440114e2]
2016-05-25 00:01:25  [ http-bio-8080-exec-5:4984698 ] - [ DEBUG ]  Bound value [org.springframework.jdbc.datasource.ConnectionHolder@619dd07d] for key [com.mchange.v2.c3p0.ComboPooledDataSource@87409cf[ acquireIncrement -> 3, acquireRetryAttempts -> 30, acquireRetryDelay -> 1000, autoCommitOnClose -> false, automaticTestTable -> null, breakAfterAcquireFailure -> false, checkoutTimeout -> 0, connectionTesterClassName -> com.mchange.v2.c3p0.impl.DefaultConnectionTester, description -> null, driverClass -> com.mysql.jdbc.Driver, factoryClassLocation -> null, forceIgnoreUnresolvedTransactions -> false, identityToken -> 87409cf, idleConnectionTestPeriod -> -1, initialPoolSize -> 3, jdbcUrl -> jdbc:mysql://localhost:3306/hospital?characterEncoding=utf-8, loginTimeout -> 0, maxIdleTime -> 0, maxPoolSize -> 15, maxStatements -> 0, maxStatementsPerConnection -> 0, minPoolSize -> 3, numHelperThreads -> 3, preferredTestQuery -> null, properties -> {user=******, password=******}, propertyCycle -> 300, testConnectionOnCheckin -> false, testConnectionOnCheckout -> false, usesTraditionalReflectiveProxies -> false ]] to thread [http-bio-8080-exec-5]
2016-05-25 00:01:25  [ http-bio-8080-exec-5:4984698 ] - [ DEBUG ]  Bound value [org.springframework.orm.hibernate3.SessionHolder@4c22b288] for key [org.hibernate.impl.SessionFactoryImpl@40fc29d7] to thread [http-bio-8080-exec-5]
2016-05-25 00:01:25  [ http-bio-8080-exec-5:4984699 ] - [ DEBUG ]  Initializing transaction synchronization
2016-05-25 00:01:25  [ http-bio-8080-exec-5:4984699 ] - [ DEBUG ]  Getting transaction for service.ScheduleService.findPeriods
2016-05-25 00:01:25  [ http-bio-8080-exec-5:4984699 ] - [ DEBUG ]  Retrieved value [org.springframework.orm.hibernate3.SessionHolder@4c22b288] for key [org.hibernate.impl.SessionFactoryImpl@40fc29d7] bound to thread [http-bio-8080-exec-5]
2016-05-25 00:01:25  [ http-bio-8080-exec-5:4984700 ] - [ DEBUG ]  about to open PreparedStatement (open PreparedStatements: 0, globally: 0)
2016-05-25 00:01:25  [ http-bio-8080-exec-5:4984700 ] - [ DEBUG ]  
    select
        p.* 
    from
        doctor d 
    join
        schedule s 
    join
        period p 
    where
        s.doctor_id=d.id 
        and s.period_id=p.id 
        and d.name= ?
2016-05-25 00:01:25  [ http-bio-8080-exec-5:4984701 ] - [ DEBUG ]  bindNamedParameters() Ë¬¸ç -> doctorName [1]
2016-05-25 00:01:25  [ http-bio-8080-exec-5:4984702 ] - [ DEBUG ]  about to open ResultSet (open ResultSets: 0, globally: 0)
2016-05-25 00:01:25  [ http-bio-8080-exec-5:4984703 ] - [ DEBUG ]  result row: EntityKey[persistance.Period#1]
2016-05-25 00:01:25  [ http-bio-8080-exec-5:4984703 ] - [ DEBUG ]  result row: EntityKey[persistance.Period#2]
2016-05-25 00:01:25  [ http-bio-8080-exec-5:4984704 ] - [ DEBUG ]  result row: EntityKey[persistance.Period#3]
2016-05-25 00:01:25  [ http-bio-8080-exec-5:4984704 ] - [ DEBUG ]  about to close ResultSet (open ResultSets: 1, globally: 1)
2016-05-25 00:01:25  [ http-bio-8080-exec-5:4984705 ] - [ DEBUG ]  about to close PreparedStatement (open PreparedStatements: 1, globally: 1)
2016-05-25 00:01:25  [ http-bio-8080-exec-5:4984705 ] - [ DEBUG ]  resolving associations for [persistance.Period#1]
2016-05-25 00:01:25  [ http-bio-8080-exec-5:4984706 ] - [ DEBUG ]  done materializing entity [persistance.Period#1]
2016-05-25 00:01:25  [ http-bio-8080-exec-5:4984706 ] - [ DEBUG ]  resolving associations for [persistance.Period#2]
2016-05-25 00:01:25  [ http-bio-8080-exec-5:4984706 ] - [ DEBUG ]  done materializing entity [persistance.Period#2]
2016-05-25 00:01:25  [ http-bio-8080-exec-5:4984707 ] - [ DEBUG ]  resolving associations for [persistance.Period#3]
2016-05-25 00:01:25  [ http-bio-8080-exec-5:4984707 ] - [ DEBUG ]  done materializing entity [persistance.Period#3]
2016-05-25 00:01:25  [ http-bio-8080-exec-5:4984707 ] - [ DEBUG ]  initializing non-lazy collections
2016-05-25 00:01:25  [ http-bio-8080-exec-5:4984710 ] - [ DEBUG ]  Invoking commit for transaction on service.ScheduleService.findPeriods
2016-05-25 00:01:25  [ http-bio-8080-exec-5:4984710 ] - [ DEBUG ]  Triggering beforeCommit synchronization
2016-05-25 00:01:25  [ http-bio-8080-exec-5:4984711 ] - [ DEBUG ]  Triggering beforeCompletion synchronization
2016-05-25 00:01:25  [ http-bio-8080-exec-5:4984711 ] - [ DEBUG ]  Initiating transaction commit
2016-05-25 00:01:25  [ http-bio-8080-exec-5:4984711 ] - [ DEBUG ]  Committing Hibernate transaction on Session [org.hibernate.impl.SessionImpl@78d63cf3]
2016-05-25 00:01:25  [ http-bio-8080-exec-5:4984712 ] - [ DEBUG ]  commit
2016-05-25 00:01:25  [ http-bio-8080-exec-5:4984714 ] - [ DEBUG ]  processing flush-time cascades
2016-05-25 00:01:25  [ http-bio-8080-exec-5:4984714 ] - [ DEBUG ]  dirty checking collections
2016-05-25 00:01:25  [ http-bio-8080-exec-5:4984715 ] - [ DEBUG ]  Collection found: [persistance.Period.schedules#1], was: [persistance.Period.schedules#1] (uninitialized)
2016-05-25 00:01:25  [ http-bio-8080-exec-5:4984715 ] - [ DEBUG ]  Collection found: [persistance.Period.workTimes#1], was: [persistance.Period.workTimes#1] (uninitialized)
2016-05-25 00:01:25  [ http-bio-8080-exec-5:4984716 ] - [ DEBUG ]  Collection found: [persistance.Period.registrations#1], was: [persistance.Period.registrations#1] (uninitialized)
2016-05-25 00:01:25  [ http-bio-8080-exec-5:4984716 ] - [ DEBUG ]  Collection found: [persistance.Period.schedules_1#1], was: [persistance.Period.schedules_1#1] (uninitialized)
2016-05-25 00:01:25  [ http-bio-8080-exec-5:4984716 ] - [ DEBUG ]  Collection found: [persistance.Period.registrations_1#1], was: [persistance.Period.registrations_1#1] (uninitialized)
2016-05-25 00:01:25  [ http-bio-8080-exec-5:4984717 ] - [ DEBUG ]  Collection found: [persistance.Period.schedules#2], was: [persistance.Period.schedules#2] (uninitialized)
2016-05-25 00:01:25  [ http-bio-8080-exec-5:4984717 ] - [ DEBUG ]  Collection found: [persistance.Period.workTimes#2], was: [persistance.Period.workTimes#2] (uninitialized)
2016-05-25 00:01:25  [ http-bio-8080-exec-5:4984718 ] - [ DEBUG ]  Collection found: [persistance.Period.registrations#2], was: [persistance.Period.registrations#2] (uninitialized)
2016-05-25 00:01:25  [ http-bio-8080-exec-5:4984719 ] - [ DEBUG ]  Collection found: [persistance.Period.schedules_1#2], was: [persistance.Period.schedules_1#2] (uninitialized)
2016-05-25 00:01:25  [ http-bio-8080-exec-5:4984719 ] - [ DEBUG ]  Collection found: [persistance.Period.registrations_1#2], was: [persistance.Period.registrations_1#2] (uninitialized)
2016-05-25 00:01:25  [ http-bio-8080-exec-5:4984720 ] - [ DEBUG ]  Collection found: [persistance.Period.schedules#3], was: [persistance.Period.schedules#3] (uninitialized)
2016-05-25 00:01:25  [ http-bio-8080-exec-5:4984732 ] - [ DEBUG ]  Collection found: [persistance.Period.workTimes#3], was: [persistance.Period.workTimes#3] (uninitialized)
2016-05-25 00:01:25  [ http-bio-8080-exec-5:4984732 ] - [ DEBUG ]  Collection found: [persistance.Period.registrations#3], was: [persistance.Period.registrations#3] (uninitialized)
2016-05-25 00:01:25  [ http-bio-8080-exec-5:4984733 ] - [ DEBUG ]  Collection found: [persistance.Period.schedules_1#3], was: [persistance.Period.schedules_1#3] (uninitialized)
2016-05-25 00:01:25  [ http-bio-8080-exec-5:4984733 ] - [ DEBUG ]  Collection found: [persistance.Period.registrations_1#3], was: [persistance.Period.registrations_1#3] (uninitialized)
2016-05-25 00:01:25  [ http-bio-8080-exec-5:4984734 ] - [ DEBUG ]  Flushed: 0 insertions, 0 updates, 0 deletions to 3 objects
2016-05-25 00:01:25  [ http-bio-8080-exec-5:4984734 ] - [ DEBUG ]  Flushed: 0 (re)creations, 0 updates, 0 removals to 15 collections
2016-05-25 00:01:25  [ http-bio-8080-exec-5:4984735 ] - [ DEBUG ]  listing entities:
2016-05-25 00:01:25  [ http-bio-8080-exec-5:4984735 ] - [ DEBUG ]  persistance.Period{id=3, registrations_1=<uninitialized>, schedules=<uninitialized>, schedules_1=<uninitialized>, workTimes=<uninitialized>, registrations=<uninitialized>, beginTime=09:00:00, endTime=10:00:00, date=2016-05-21 00:00:00}
2016-05-25 00:01:25  [ http-bio-8080-exec-5:4984736 ] - [ DEBUG ]  persistance.Period{id=1, registrations_1=<uninitialized>, schedules=<uninitialized>, schedules_1=<uninitialized>, workTimes=<uninitialized>, registrations=<uninitialized>, beginTime=09:00:00, endTime=10:00:00, date=2016-05-04 00:00:00}
2016-05-25 00:01:25  [ http-bio-8080-exec-5:4984737 ] - [ DEBUG ]  persistance.Period{id=2, registrations_1=<uninitialized>, schedules=<uninitialized>, schedules_1=<uninitialized>, workTimes=<uninitialized>, registrations=<uninitialized>, beginTime=10:00:00, endTime=11:00:00, date=2016-05-21 00:00:00}
2016-05-25 00:01:25  [ http-bio-8080-exec-5:4984737 ] - [ DEBUG ]  re-enabling autocommit
2016-05-25 00:01:25  [ http-bio-8080-exec-5:4984738 ] - [ DEBUG ]  committed JDBC Connection
2016-05-25 00:01:25  [ http-bio-8080-exec-5:4984738 ] - [ DEBUG ]  transaction completed on session with on_close connection release mode; be sure to close the session to release JDBC resources!
2016-05-25 00:01:25  [ http-bio-8080-exec-5:4984739 ] - [ DEBUG ]  Triggering afterCommit synchronization
2016-05-25 00:01:25  [ http-bio-8080-exec-5:4984739 ] - [ DEBUG ]  Triggering afterCompletion synchronization
2016-05-25 00:01:25  [ http-bio-8080-exec-5:4984740 ] - [ DEBUG ]  Clearing transaction synchronization
2016-05-25 00:01:25  [ http-bio-8080-exec-5:4984740 ] - [ DEBUG ]  Removed value [org.springframework.orm.hibernate3.SessionHolder@4c22b288] for key [org.hibernate.impl.SessionFactoryImpl@40fc29d7] from thread [http-bio-8080-exec-5]
2016-05-25 00:01:25  [ http-bio-8080-exec-5:4984747 ] - [ DEBUG ]  Removed value [org.springframework.jdbc.datasource.ConnectionHolder@619dd07d] for key [com.mchange.v2.c3p0.ComboPooledDataSource@87409cf[ acquireIncrement -> 3, acquireRetryAttempts -> 30, acquireRetryDelay -> 1000, autoCommitOnClose -> false, automaticTestTable -> null, breakAfterAcquireFailure -> false, checkoutTimeout -> 0, connectionTesterClassName -> com.mchange.v2.c3p0.impl.DefaultConnectionTester, description -> null, driverClass -> com.mysql.jdbc.Driver, factoryClassLocation -> null, forceIgnoreUnresolvedTransactions -> false, identityToken -> 87409cf, idleConnectionTestPeriod -> -1, initialPoolSize -> 3, jdbcUrl -> jdbc:mysql://localhost:3306/hospital?characterEncoding=utf-8, loginTimeout -> 0, maxIdleTime -> 0, maxPoolSize -> 15, maxStatements -> 0, maxStatementsPerConnection -> 0, minPoolSize -> 3, numHelperThreads -> 3, preferredTestQuery -> null, properties -> {user=******, password=******}, propertyCycle -> 300, testConnectionOnCheckin -> false, testConnectionOnCheckout -> false, usesTraditionalReflectiveProxies -> false ]] from thread [http-bio-8080-exec-5]
2016-05-25 00:01:25  [ http-bio-8080-exec-5:4984747 ] - [ DEBUG ]  Closing Hibernate Session [org.hibernate.impl.SessionImpl@78d63cf3] after transaction
2016-05-25 00:01:25  [ http-bio-8080-exec-5:4984747 ] - [ DEBUG ]  Closing Hibernate Session
2016-05-25 00:01:25  [ http-bio-8080-exec-5:4984748 ] - [ DEBUG ]  releasing JDBC connection [ (open PreparedStatements: 0, globally: 0) (open ResultSets: 0, globally: 0)]
2016-05-25 00:01:25  [ http-bio-8080-exec-5:4984748 ] - [ DEBUG ]  trace com.mchange.v2.resourcepool.BasicResourcePool@1ed5eb39 [managed: 3, unused: 2, excluded: 0] (e.g. com.mchange.v2.c3p0.impl.NewPooledConnection@7303eee0)
2016-05-25 00:01:25  [ http-bio-8080-exec-5:4984749 ] - [ DEBUG ]  transaction completed on session with on_close connection release mode; be sure to close the session to release JDBC resources!
2016-05-25 00:01:25  [ http-bio-8080-exec-5:4984749 ] - [ DEBUG ]  Using transaction object [org.springframework.orm.hibernate3.HibernateTransactionManager$HibernateTransactionObject@6a4645a3]
2016-05-25 00:01:25  [ http-bio-8080-exec-5:4984750 ] - [ DEBUG ]  Creating new transaction with name [service.RegistrationService.findRegistrations]
2016-05-25 00:01:25  [ http-bio-8080-exec-5:4984750 ] - [ DEBUG ]  opened session at timestamp: 14641056854
2016-05-25 00:01:25  [ http-bio-8080-exec-5:4984750 ] - [ DEBUG ]  Opened new Session [org.hibernate.impl.SessionImpl@15c839c4] for Hibernate transaction
2016-05-25 00:01:25  [ http-bio-8080-exec-5:4984751 ] - [ DEBUG ]  Preparing JDBC Connection of Hibernate Session [org.hibernate.impl.SessionImpl@15c839c4]
2016-05-25 00:01:25  [ http-bio-8080-exec-5:4984751 ] - [ DEBUG ]  begin
2016-05-25 00:01:25  [ http-bio-8080-exec-5:4984751 ] - [ DEBUG ]  opening JDBC connection
2016-05-25 00:01:25  [ http-bio-8080-exec-5:4984752 ] - [ DEBUG ]  trace com.mchange.v2.resourcepool.BasicResourcePool@1ed5eb39 [managed: 3, unused: 2, excluded: 0] (e.g. com.mchange.v2.c3p0.impl.NewPooledConnection@7303eee0)
2016-05-25 00:01:25  [ http-bio-8080-exec-5:4984752 ] - [ DEBUG ]  current autocommit status: true
2016-05-25 00:01:25  [ http-bio-8080-exec-5:4984752 ] - [ DEBUG ]  disabling autocommit
2016-05-25 00:01:25  [ http-bio-8080-exec-5:4984753 ] - [ DEBUG ]  Exposing Hibernate transaction as JDBC transaction [com.mchange.v2.c3p0.impl.NewProxyConnection@31da0344]
2016-05-25 00:01:25  [ http-bio-8080-exec-5:4984758 ] - [ DEBUG ]  Bound value [org.springframework.jdbc.datasource.ConnectionHolder@54612ade] for key [com.mchange.v2.c3p0.ComboPooledDataSource@87409cf[ acquireIncrement -> 3, acquireRetryAttempts -> 30, acquireRetryDelay -> 1000, autoCommitOnClose -> false, automaticTestTable -> null, breakAfterAcquireFailure -> false, checkoutTimeout -> 0, connectionTesterClassName -> com.mchange.v2.c3p0.impl.DefaultConnectionTester, description -> null, driverClass -> com.mysql.jdbc.Driver, factoryClassLocation -> null, forceIgnoreUnresolvedTransactions -> false, identityToken -> 87409cf, idleConnectionTestPeriod -> -1, initialPoolSize -> 3, jdbcUrl -> jdbc:mysql://localhost:3306/hospital?characterEncoding=utf-8, loginTimeout -> 0, maxIdleTime -> 0, maxPoolSize -> 15, maxStatements -> 0, maxStatementsPerConnection -> 0, minPoolSize -> 3, numHelperThreads -> 3, preferredTestQuery -> null, properties -> {user=******, password=******}, propertyCycle -> 300, testConnectionOnCheckin -> false, testConnectionOnCheckout -> false, usesTraditionalReflectiveProxies -> false ]] to thread [http-bio-8080-exec-5]
2016-05-25 00:01:25  [ http-bio-8080-exec-5:4984758 ] - [ DEBUG ]  Bound value [org.springframework.orm.hibernate3.SessionHolder@33dd05a8] for key [org.hibernate.impl.SessionFactoryImpl@40fc29d7] to thread [http-bio-8080-exec-5]
2016-05-25 00:01:25  [ http-bio-8080-exec-5:4984758 ] - [ DEBUG ]  Initializing transaction synchronization
2016-05-25 00:01:25  [ http-bio-8080-exec-5:4984759 ] - [ DEBUG ]  Getting transaction for service.RegistrationService.findRegistrations
2016-05-25 00:01:25  [ http-bio-8080-exec-5:4984759 ] - [ DEBUG ]  Retrieved value [org.springframework.orm.hibernate3.SessionHolder@33dd05a8] for key [org.hibernate.impl.SessionFactoryImpl@40fc29d7] bound to thread [http-bio-8080-exec-5]
2016-05-25 00:01:25  [ http-bio-8080-exec-5:4984759 ] - [ DEBUG ]  about to open PreparedStatement (open PreparedStatements: 0, globally: 0)
2016-05-25 00:01:25  [ http-bio-8080-exec-5:4984760 ] - [ DEBUG ]  
    select
        r.id id,
        u.user_name userName ,
        p.begin_time beginTime 
    from
        registration r 
    join
        doctor do 
    join
        department de 
    join
        user u 
    join
        period p  
    where
        r.doctor_id=do.id 
        and r.department_id = de.id 
        and r.user_id=u.user_id 
        and r.period_id=p.id  
        and  do.name=? 
        and p.date=? 
        and  p.begin_time>=? 
        and p.begin_time<=?
2016-05-25 00:01:25  [ http-bio-8080-exec-5:4984761 ] - [ DEBUG ]  bindNamedParameters() 11:00:00 -> lastPeriodBegin [4]
2016-05-25 00:01:25  [ http-bio-8080-exec-5:4984761 ] - [ DEBUG ]  bindNamedParameters() Ë¬¸ç -> doctorName [1]
2016-05-25 00:01:25  [ http-bio-8080-exec-5:4984762 ] - [ DEBUG ]  bindNamedParameters() 2016-05-04 -> date [2]
2016-05-25 00:01:25  [ http-bio-8080-exec-5:4984762 ] - [ DEBUG ]  bindNamedParameters() 09:00:00 -> firstPeriodBegin [3]
2016-05-25 00:01:25  [ http-bio-8080-exec-5:4984763 ] - [ DEBUG ]  about to open ResultSet (open ResultSets: 0, globally: 0)
2016-05-25 00:01:25  [ http-bio-8080-exec-5:4984764 ] - [ DEBUG ]  result row: 
2016-05-25 00:01:25  [ http-bio-8080-exec-5:4984764 ] - [ DEBUG ]  result row: 
2016-05-25 00:01:25  [ http-bio-8080-exec-5:4984765 ] - [ DEBUG ]  about to close ResultSet (open ResultSets: 1, globally: 1)
2016-05-25 00:01:25  [ http-bio-8080-exec-5:4984765 ] - [ DEBUG ]  about to close PreparedStatement (open PreparedStatements: 1, globally: 1)
2016-05-25 00:01:25  [ http-bio-8080-exec-5:4984766 ] - [ DEBUG ]  initializing non-lazy collections
2016-05-25 00:01:25  [ http-bio-8080-exec-5:4984766 ] - [ DEBUG ]  Invoking commit for transaction on service.RegistrationService.findRegistrations
2016-05-25 00:01:25  [ http-bio-8080-exec-5:4984766 ] - [ DEBUG ]  Triggering beforeCommit synchronization
2016-05-25 00:01:25  [ http-bio-8080-exec-5:4984767 ] - [ DEBUG ]  Triggering beforeCompletion synchronization
2016-05-25 00:01:25  [ http-bio-8080-exec-5:4984767 ] - [ DEBUG ]  Initiating transaction commit
2016-05-25 00:01:25  [ http-bio-8080-exec-5:4984767 ] - [ DEBUG ]  Committing Hibernate transaction on Session [org.hibernate.impl.SessionImpl@15c839c4]
2016-05-25 00:01:25  [ http-bio-8080-exec-5:4984767 ] - [ DEBUG ]  commit
2016-05-25 00:01:25  [ http-bio-8080-exec-5:4984768 ] - [ DEBUG ]  re-enabling autocommit
2016-05-25 00:01:25  [ http-bio-8080-exec-5:4984769 ] - [ DEBUG ]  committed JDBC Connection
2016-05-25 00:01:25  [ http-bio-8080-exec-5:4984769 ] - [ DEBUG ]  transaction completed on session with on_close connection release mode; be sure to close the session to release JDBC resources!
2016-05-25 00:01:25  [ http-bio-8080-exec-5:4984769 ] - [ DEBUG ]  Triggering afterCommit synchronization
2016-05-25 00:01:25  [ http-bio-8080-exec-5:4984770 ] - [ DEBUG ]  Triggering afterCompletion synchronization
2016-05-25 00:01:25  [ http-bio-8080-exec-5:4984770 ] - [ DEBUG ]  Clearing transaction synchronization
2016-05-25 00:01:25  [ http-bio-8080-exec-5:4984770 ] - [ DEBUG ]  Removed value [org.springframework.orm.hibernate3.SessionHolder@33dd05a8] for key [org.hibernate.impl.SessionFactoryImpl@40fc29d7] from thread [http-bio-8080-exec-5]
2016-05-25 00:01:25  [ http-bio-8080-exec-5:4984774 ] - [ DEBUG ]  Removed value [org.springframework.jdbc.datasource.ConnectionHolder@54612ade] for key [com.mchange.v2.c3p0.ComboPooledDataSource@87409cf[ acquireIncrement -> 3, acquireRetryAttempts -> 30, acquireRetryDelay -> 1000, autoCommitOnClose -> false, automaticTestTable -> null, breakAfterAcquireFailure -> false, checkoutTimeout -> 0, connectionTesterClassName -> com.mchange.v2.c3p0.impl.DefaultConnectionTester, description -> null, driverClass -> com.mysql.jdbc.Driver, factoryClassLocation -> null, forceIgnoreUnresolvedTransactions -> false, identityToken -> 87409cf, idleConnectionTestPeriod -> -1, initialPoolSize -> 3, jdbcUrl -> jdbc:mysql://localhost:3306/hospital?characterEncoding=utf-8, loginTimeout -> 0, maxIdleTime -> 0, maxPoolSize -> 15, maxStatements -> 0, maxStatementsPerConnection -> 0, minPoolSize -> 3, numHelperThreads -> 3, preferredTestQuery -> null, properties -> {user=******, password=******}, propertyCycle -> 300, testConnectionOnCheckin -> false, testConnectionOnCheckout -> false, usesTraditionalReflectiveProxies -> false ]] from thread [http-bio-8080-exec-5]
2016-05-25 00:01:25  [ http-bio-8080-exec-5:4984774 ] - [ DEBUG ]  Closing Hibernate Session [org.hibernate.impl.SessionImpl@15c839c4] after transaction
2016-05-25 00:01:25  [ http-bio-8080-exec-5:4984774 ] - [ DEBUG ]  Closing Hibernate Session
2016-05-25 00:01:25  [ http-bio-8080-exec-5:4984775 ] - [ DEBUG ]  releasing JDBC connection [ (open PreparedStatements: 0, globally: 0) (open ResultSets: 0, globally: 0)]
2016-05-25 00:01:25  [ http-bio-8080-exec-5:4984775 ] - [ DEBUG ]  trace com.mchange.v2.resourcepool.BasicResourcePool@1ed5eb39 [managed: 3, unused: 2, excluded: 0] (e.g. com.mchange.v2.c3p0.impl.NewPooledConnection@7303eee0)
2016-05-25 00:01:25  [ http-bio-8080-exec-5:4984775 ] - [ DEBUG ]  transaction completed on session with on_close connection release mode; be sure to close the session to release JDBC resources!
2016-05-25 00:01:25  [ http-bio-8080-exec-5:4984776 ] - [ DEBUG ]  [JSON]{"periods":"success","registrations":"success"}
2016-05-25 00:01:25  [ http-bio-8080-exec-5:4984776 ] - [ DEBUG ]  after Locale=zh_CN
2016-05-25 00:01:25  [ http-bio-8080-exec-5:4984776 ] - [ DEBUG ]  intercept } 
2016-05-25 00:05:38  [ http-bio-8080-exec-6:5238318 ] - [ DEBUG ]  Entering nullPropertyValue [target=[com.opensymphony.xwork2.DefaultTextProvider@64b8ecac], property=struts]
2016-05-25 00:05:38  [ http-bio-8080-exec-6:5238320 ] - [ DEBUG ]  Entering nullPropertyValue [target=[com.opensymphony.xwork2.DefaultTextProvider@64b8ecac], property=org]
2016-05-25 00:05:39  [ http-bio-8080-exec-6:5238346 ] - [ DEBUG ]  Entering nullPropertyValue [target=[com.opensymphony.xwork2.DefaultTextProvider@64b8ecac], property=struts]
2016-05-25 00:05:39  [ http-bio-8080-exec-6:5238411 ] - [ DEBUG ]  Entering nullPropertyValue [target=[com.opensymphony.xwork2.DefaultTextProvider@64b8ecac], property=struts]
2016-05-25 00:05:39  [ http-bio-8080-exec-6:5238412 ] - [ DEBUG ]  Entering nullPropertyValue [target=[com.opensymphony.xwork2.DefaultTextProvider@64b8ecac], property=struts]
2016-05-25 00:05:39  [ http-bio-8080-exec-6:5238412 ] - [ DEBUG ]  Creating an DefaultActionProxy for namespace / and action name getPeriods
2016-05-25 00:05:39  [ http-bio-8080-exec-6:5238412 ] - [ DEBUG ]  No bean named 'action.HandleAction' found in org.springframework.beans.factory.support.DefaultListableBeanFactory defining beans [dataSource,sessionFactory,userDao,doctorDao,departmentDao,hospitalDao,periodDao,scheduleDao,registrationDao,workTimeDao,doctorService,registrationService,periodService,scheduleService,workTimeService,transactionManager,transactionInterceptor,ProxyCreator,doctorName,sex,hospital,department,tel,getPeriods,getRegistrations,mark,insert]; root of BeanFactory hierarchy
2016-05-25 00:05:39  [ http-bio-8080-exec-6:5238413 ] - [ DEBUG ]  Creating [java.util.LinkedHashMap]
2016-05-25 00:05:39  [ http-bio-8080-exec-6:5238413 ] - [ DEBUG ]  Creating [java.util.LinkedHashMap]
2016-05-25 00:05:39  [ http-bio-8080-exec-6:5238413 ] - [ DEBUG ]  Using cached introspection results for class [action.HandleAction]
2016-05-25 00:05:39  [ http-bio-8080-exec-6:5238413 ] - [ DEBUG ]  Bean 'action.HandleAction' instantiated via constructor [public action.HandleAction()]
2016-05-25 00:05:39  [ http-bio-8080-exec-6:5238414 ] - [ DEBUG ]  Invoking BeanPostProcessors before initialization of bean 'action.HandleAction'
2016-05-25 00:05:39  [ http-bio-8080-exec-6:5238414 ] - [ DEBUG ]  Invoking BeanPostProcessors after initialization of bean 'action.HandleAction'
2016-05-25 00:05:39  [ http-bio-8080-exec-6:5238414 ] - [ DEBUG ]  Using cached introspection results for class [action.HandleAction]
2016-05-25 00:05:39  [ http-bio-8080-exec-6:5238414 ] - [ DEBUG ]  Not autowiring property 'actionErrors' of bean 'action.HandleAction' by name: no matching bean found
2016-05-25 00:05:39  [ http-bio-8080-exec-6:5238414 ] - [ DEBUG ]  Not autowiring property 'actionMessages' of bean 'action.HandleAction' by name: no matching bean found
2016-05-25 00:05:39  [ http-bio-8080-exec-6:5238414 ] - [ DEBUG ]  Not autowiring property 'fieldErrors' of bean 'action.HandleAction' by name: no matching bean found
2016-05-25 00:05:39  [ http-bio-8080-exec-6:5238415 ] - [ DEBUG ]  Returning cached instance of singleton bean 'registrationService'
2016-05-25 00:05:39  [ http-bio-8080-exec-6:5238415 ] - [ DEBUG ]  Added autowiring by name from bean name 'action.HandleAction' via property 'registrationService' to bean named 'registrationService'
2016-05-25 00:05:39  [ http-bio-8080-exec-6:5238415 ] - [ DEBUG ]  Returning cached instance of singleton bean 'scheduleService'
2016-05-25 00:05:39  [ http-bio-8080-exec-6:5238415 ] - [ DEBUG ]  Added autowiring by name from bean name 'action.HandleAction' via property 'scheduleService' to bean named 'scheduleService'
2016-05-25 00:05:39  [ http-bio-8080-exec-6:5238415 ] - [ DEBUG ]  Creating [java.util.LinkedHashMap]
2016-05-25 00:05:39  [ http-bio-8080-exec-6:5238415 ] - [ DEBUG ]  About to invoke write method [public void action.HandleAction.setRegistrationService(service.RegistrationService)] on object of class [action.HandleAction]
2016-05-25 00:05:39  [ http-bio-8080-exec-6:5238416 ] - [ DEBUG ]  Invoked write method [public void action.HandleAction.setRegistrationService(service.RegistrationService)] with value of type [service.RegistrationService]
2016-05-25 00:05:39  [ http-bio-8080-exec-6:5238416 ] - [ DEBUG ]  About to invoke write method [public void action.HandleAction.setScheduleService(service.ScheduleService)] on object of class [action.HandleAction]
2016-05-25 00:05:39  [ http-bio-8080-exec-6:5238416 ] - [ DEBUG ]  Invoked write method [public void action.HandleAction.setScheduleService(service.ScheduleService)] with value of type [service.ScheduleService]
2016-05-25 00:05:39  [ http-bio-8080-exec-6:5238416 ] - [ DEBUG ]  intercept '//getPeriods' { 
2016-05-25 00:05:39  [ http-bio-8080-exec-6:5238416 ] - [ DEBUG ]  applied invocation context locale=zh_CN
2016-05-25 00:05:39  [ http-bio-8080-exec-6:5238417 ] - [ DEBUG ]  before Locale=zh_CN
2016-05-25 00:05:39  [ http-bio-8080-exec-6:5238417 ] - [ DEBUG ]  Entering nullPropertyValue [target=[action.HandleAction@166ed5d9, com.opensymphony.xwork2.DefaultTextProvider@64b8ecac], property=struts]
2016-05-25 00:05:39  [ http-bio-8080-exec-6:5238417 ] - [ DEBUG ]  Bypassing //getPeriods
2016-05-25 00:05:39  [ http-bio-8080-exec-6:5238417 ] - [ DEBUG ]  Setting static parameters {}
2016-05-25 00:05:39  [ http-bio-8080-exec-6:5238418 ] - [ DEBUG ]  Setting params NONE
2016-05-25 00:05:39  [ http-bio-8080-exec-6:5238418 ] - [ DEBUG ]  Setting params doctorName => [ Ë¬¸ç ] 
2016-05-25 00:05:39  [ http-bio-8080-exec-6:5238418 ] - [ DEBUG ]  Validating //getPeriods with method getPeriods.
2016-05-25 00:05:39  [ http-bio-8080-exec-6:5238419 ] - [ DEBUG ]  Invoking validate() on action action.HandleAction@166ed5d9
2016-05-25 00:05:39  [ http-bio-8080-exec-6:5238419 ] - [ DEBUG ]  cannot find method [validateGetPeriods] in action [action.HandleAction@166ed5d9]
2016-05-25 00:05:39  [ http-bio-8080-exec-6:5238419 ] - [ DEBUG ]  cannot find method [validateDoGetPeriods] in action [action.HandleAction@166ed5d9]
2016-05-25 00:05:39  [ http-bio-8080-exec-6:5238420 ] - [ DEBUG ]  Executing action method = getPeriods
2016-05-25 00:05:39  [ http-bio-8080-exec-6:5238420 ] - [ DEBUG ]  Using transaction object [org.springframework.orm.hibernate3.HibernateTransactionManager$HibernateTransactionObject@13083480]
2016-05-25 00:05:39  [ http-bio-8080-exec-6:5238420 ] - [ DEBUG ]  Creating new transaction with name [service.ScheduleService.findPeriods]
2016-05-25 00:05:39  [ http-bio-8080-exec-6:5238420 ] - [ DEBUG ]  opened session at timestamp: 14641059390
2016-05-25 00:05:39  [ http-bio-8080-exec-6:5238421 ] - [ DEBUG ]  Opened new Session [org.hibernate.impl.SessionImpl@29094033] for Hibernate transaction
2016-05-25 00:05:39  [ http-bio-8080-exec-6:5238421 ] - [ DEBUG ]  Preparing JDBC Connection of Hibernate Session [org.hibernate.impl.SessionImpl@29094033]
2016-05-25 00:05:39  [ http-bio-8080-exec-6:5238421 ] - [ DEBUG ]  begin
2016-05-25 00:05:39  [ http-bio-8080-exec-6:5238421 ] - [ DEBUG ]  opening JDBC connection
2016-05-25 00:05:39  [ http-bio-8080-exec-6:5238422 ] - [ DEBUG ]  trace com.mchange.v2.resourcepool.BasicResourcePool@1ed5eb39 [managed: 3, unused: 2, excluded: 0] (e.g. com.mchange.v2.c3p0.impl.NewPooledConnection@7303eee0)
2016-05-25 00:05:39  [ http-bio-8080-exec-6:5238422 ] - [ DEBUG ]  current autocommit status: true
2016-05-25 00:05:39  [ http-bio-8080-exec-6:5238423 ] - [ DEBUG ]  disabling autocommit
2016-05-25 00:05:39  [ http-bio-8080-exec-6:5238424 ] - [ DEBUG ]  Exposing Hibernate transaction as JDBC transaction [com.mchange.v2.c3p0.impl.NewProxyConnection@1e7e5832]
2016-05-25 00:05:39  [ http-bio-8080-exec-6:5238431 ] - [ DEBUG ]  Bound value [org.springframework.jdbc.datasource.ConnectionHolder@32bb2f5e] for key [com.mchange.v2.c3p0.ComboPooledDataSource@87409cf[ acquireIncrement -> 3, acquireRetryAttempts -> 30, acquireRetryDelay -> 1000, autoCommitOnClose -> false, automaticTestTable -> null, breakAfterAcquireFailure -> false, checkoutTimeout -> 0, connectionTesterClassName -> com.mchange.v2.c3p0.impl.DefaultConnectionTester, description -> null, driverClass -> com.mysql.jdbc.Driver, factoryClassLocation -> null, forceIgnoreUnresolvedTransactions -> false, identityToken -> 87409cf, idleConnectionTestPeriod -> -1, initialPoolSize -> 3, jdbcUrl -> jdbc:mysql://localhost:3306/hospital?characterEncoding=utf-8, loginTimeout -> 0, maxIdleTime -> 0, maxPoolSize -> 15, maxStatements -> 0, maxStatementsPerConnection -> 0, minPoolSize -> 3, numHelperThreads -> 3, preferredTestQuery -> null, properties -> {user=******, password=******}, propertyCycle -> 300, testConnectionOnCheckin -> false, testConnectionOnCheckout -> false, usesTraditionalReflectiveProxies -> false ]] to thread [http-bio-8080-exec-6]
2016-05-25 00:05:39  [ http-bio-8080-exec-6:5238431 ] - [ DEBUG ]  Bound value [org.springframework.orm.hibernate3.SessionHolder@2a3331b9] for key [org.hibernate.impl.SessionFactoryImpl@40fc29d7] to thread [http-bio-8080-exec-6]
2016-05-25 00:05:39  [ http-bio-8080-exec-6:5238432 ] - [ DEBUG ]  Initializing transaction synchronization
2016-05-25 00:05:39  [ http-bio-8080-exec-6:5238432 ] - [ DEBUG ]  Getting transaction for service.ScheduleService.findPeriods
2016-05-25 00:05:39  [ http-bio-8080-exec-6:5238433 ] - [ DEBUG ]  Retrieved value [org.springframework.orm.hibernate3.SessionHolder@2a3331b9] for key [org.hibernate.impl.SessionFactoryImpl@40fc29d7] bound to thread [http-bio-8080-exec-6]
2016-05-25 00:05:39  [ http-bio-8080-exec-6:5238433 ] - [ DEBUG ]  about to open PreparedStatement (open PreparedStatements: 0, globally: 0)
2016-05-25 00:05:39  [ http-bio-8080-exec-6:5238434 ] - [ DEBUG ]  
    select
        p.* 
    from
        doctor d 
    join
        schedule s 
    join
        period p 
    where
        s.doctor_id=d.id 
        and s.period_id=p.id 
        and d.name= ?
2016-05-25 00:05:39  [ http-bio-8080-exec-6:5238435 ] - [ DEBUG ]  bindNamedParameters() Ë¬¸ç -> doctorName [1]
2016-05-25 00:05:39  [ http-bio-8080-exec-6:5238437 ] - [ DEBUG ]  about to open ResultSet (open ResultSets: 0, globally: 0)
2016-05-25 00:05:39  [ http-bio-8080-exec-6:5238437 ] - [ DEBUG ]  result row: EntityKey[persistance.Period#1]
2016-05-25 00:05:39  [ http-bio-8080-exec-6:5238438 ] - [ DEBUG ]  result row: EntityKey[persistance.Period#2]
2016-05-25 00:05:39  [ http-bio-8080-exec-6:5238438 ] - [ DEBUG ]  result row: EntityKey[persistance.Period#3]
2016-05-25 00:05:39  [ http-bio-8080-exec-6:5238439 ] - [ DEBUG ]  about to close ResultSet (open ResultSets: 1, globally: 1)
2016-05-25 00:05:39  [ http-bio-8080-exec-6:5238439 ] - [ DEBUG ]  about to close PreparedStatement (open PreparedStatements: 1, globally: 1)
2016-05-25 00:05:39  [ http-bio-8080-exec-6:5238440 ] - [ DEBUG ]  resolving associations for [persistance.Period#1]
2016-05-25 00:05:39  [ http-bio-8080-exec-6:5238441 ] - [ DEBUG ]  done materializing entity [persistance.Period#1]
2016-05-25 00:05:39  [ http-bio-8080-exec-6:5238441 ] - [ DEBUG ]  resolving associations for [persistance.Period#2]
2016-05-25 00:05:39  [ http-bio-8080-exec-6:5238442 ] - [ DEBUG ]  done materializing entity [persistance.Period#2]
2016-05-25 00:05:39  [ http-bio-8080-exec-6:5238443 ] - [ DEBUG ]  resolving associations for [persistance.Period#3]
2016-05-25 00:05:39  [ http-bio-8080-exec-6:5238443 ] - [ DEBUG ]  done materializing entity [persistance.Period#3]
2016-05-25 00:05:39  [ http-bio-8080-exec-6:5238444 ] - [ DEBUG ]  initializing non-lazy collections
2016-05-25 00:05:39  [ http-bio-8080-exec-6:5238445 ] - [ DEBUG ]  Invoking commit for transaction on service.ScheduleService.findPeriods
2016-05-25 00:05:39  [ http-bio-8080-exec-6:5238446 ] - [ DEBUG ]  Triggering beforeCommit synchronization
2016-05-25 00:05:39  [ http-bio-8080-exec-6:5238446 ] - [ DEBUG ]  Triggering beforeCompletion synchronization
2016-05-25 00:05:39  [ http-bio-8080-exec-6:5238447 ] - [ DEBUG ]  Initiating transaction commit
2016-05-25 00:05:39  [ http-bio-8080-exec-6:5238447 ] - [ DEBUG ]  Committing Hibernate transaction on Session [org.hibernate.impl.SessionImpl@29094033]
2016-05-25 00:05:39  [ http-bio-8080-exec-6:5238448 ] - [ DEBUG ]  commit
2016-05-25 00:05:39  [ http-bio-8080-exec-6:5238449 ] - [ DEBUG ]  processing flush-time cascades
2016-05-25 00:05:39  [ http-bio-8080-exec-6:5238449 ] - [ DEBUG ]  dirty checking collections
2016-05-25 00:05:39  [ http-bio-8080-exec-6:5238450 ] - [ DEBUG ]  Collection found: [persistance.Period.schedules#1], was: [persistance.Period.schedules#1] (uninitialized)
2016-05-25 00:05:39  [ http-bio-8080-exec-6:5238451 ] - [ DEBUG ]  Collection found: [persistance.Period.workTimes#1], was: [persistance.Period.workTimes#1] (uninitialized)
2016-05-25 00:05:39  [ http-bio-8080-exec-6:5238452 ] - [ DEBUG ]  Collection found: [persistance.Period.registrations#1], was: [persistance.Period.registrations#1] (uninitialized)
2016-05-25 00:05:39  [ http-bio-8080-exec-6:5238452 ] - [ DEBUG ]  Collection found: [persistance.Period.schedules_1#1], was: [persistance.Period.schedules_1#1] (uninitialized)
2016-05-25 00:05:39  [ http-bio-8080-exec-6:5238453 ] - [ DEBUG ]  Collection found: [persistance.Period.registrations_1#1], was: [persistance.Period.registrations_1#1] (uninitialized)
2016-05-25 00:05:39  [ http-bio-8080-exec-6:5238454 ] - [ DEBUG ]  Collection found: [persistance.Period.schedules#2], was: [persistance.Period.schedules#2] (uninitialized)
2016-05-25 00:05:39  [ http-bio-8080-exec-6:5238454 ] - [ DEBUG ]  Collection found: [persistance.Period.workTimes#2], was: [persistance.Period.workTimes#2] (uninitialized)
2016-05-25 00:05:39  [ http-bio-8080-exec-6:5238454 ] - [ DEBUG ]  Collection found: [persistance.Period.registrations#2], was: [persistance.Period.registrations#2] (uninitialized)
2016-05-25 00:05:39  [ http-bio-8080-exec-6:5238454 ] - [ DEBUG ]  Collection found: [persistance.Period.schedules_1#2], was: [persistance.Period.schedules_1#2] (uninitialized)
2016-05-25 00:05:39  [ http-bio-8080-exec-6:5238455 ] - [ DEBUG ]  Collection found: [persistance.Period.registrations_1#2], was: [persistance.Period.registrations_1#2] (uninitialized)
2016-05-25 00:05:39  [ http-bio-8080-exec-6:5238456 ] - [ DEBUG ]  Collection found: [persistance.Period.schedules#3], was: [persistance.Period.schedules#3] (uninitialized)
2016-05-25 00:05:39  [ http-bio-8080-exec-6:5238456 ] - [ DEBUG ]  Collection found: [persistance.Period.workTimes#3], was: [persistance.Period.workTimes#3] (uninitialized)
2016-05-25 00:05:39  [ http-bio-8080-exec-6:5238456 ] - [ DEBUG ]  Collection found: [persistance.Period.registrations#3], was: [persistance.Period.registrations#3] (uninitialized)
2016-05-25 00:05:39  [ http-bio-8080-exec-6:5238457 ] - [ DEBUG ]  Collection found: [persistance.Period.schedules_1#3], was: [persistance.Period.schedules_1#3] (uninitialized)
2016-05-25 00:05:39  [ http-bio-8080-exec-6:5238457 ] - [ DEBUG ]  Collection found: [persistance.Period.registrations_1#3], was: [persistance.Period.registrations_1#3] (uninitialized)
2016-05-25 00:05:39  [ http-bio-8080-exec-6:5238458 ] - [ DEBUG ]  Flushed: 0 insertions, 0 updates, 0 deletions to 3 objects
2016-05-25 00:05:39  [ http-bio-8080-exec-6:5238458 ] - [ DEBUG ]  Flushed: 0 (re)creations, 0 updates, 0 removals to 15 collections
2016-05-25 00:05:39  [ http-bio-8080-exec-6:5238459 ] - [ DEBUG ]  listing entities:
2016-05-25 00:05:39  [ http-bio-8080-exec-6:5238459 ] - [ DEBUG ]  persistance.Period{id=3, registrations_1=<uninitialized>, schedules=<uninitialized>, schedules_1=<uninitialized>, workTimes=<uninitialized>, registrations=<uninitialized>, beginTime=09:00:00, endTime=10:00:00, date=2016-05-21 00:00:00}
2016-05-25 00:05:39  [ http-bio-8080-exec-6:5238460 ] - [ DEBUG ]  persistance.Period{id=1, registrations_1=<uninitialized>, schedules=<uninitialized>, schedules_1=<uninitialized>, workTimes=<uninitialized>, registrations=<uninitialized>, beginTime=09:00:00, endTime=10:00:00, date=2016-05-04 00:00:00}
2016-05-25 00:05:39  [ http-bio-8080-exec-6:5238461 ] - [ DEBUG ]  persistance.Period{id=2, registrations_1=<uninitialized>, schedules=<uninitialized>, schedules_1=<uninitialized>, workTimes=<uninitialized>, registrations=<uninitialized>, beginTime=10:00:00, endTime=11:00:00, date=2016-05-21 00:00:00}
2016-05-25 00:05:39  [ http-bio-8080-exec-6:5238462 ] - [ DEBUG ]  re-enabling autocommit
2016-05-25 00:05:39  [ http-bio-8080-exec-6:5238463 ] - [ DEBUG ]  committed JDBC Connection
2016-05-25 00:05:39  [ http-bio-8080-exec-6:5238463 ] - [ DEBUG ]  transaction completed on session with on_close connection release mode; be sure to close the session to release JDBC resources!
2016-05-25 00:05:39  [ http-bio-8080-exec-6:5238464 ] - [ DEBUG ]  Triggering afterCommit synchronization
2016-05-25 00:05:39  [ http-bio-8080-exec-6:5238464 ] - [ DEBUG ]  Triggering afterCompletion synchronization
2016-05-25 00:05:39  [ http-bio-8080-exec-6:5238465 ] - [ DEBUG ]  Clearing transaction synchronization
2016-05-25 00:05:39  [ http-bio-8080-exec-6:5238465 ] - [ DEBUG ]  Removed value [org.springframework.orm.hibernate3.SessionHolder@2a3331b9] for key [org.hibernate.impl.SessionFactoryImpl@40fc29d7] from thread [http-bio-8080-exec-6]
2016-05-25 00:05:39  [ http-bio-8080-exec-6:5238474 ] - [ DEBUG ]  Removed value [org.springframework.jdbc.datasource.ConnectionHolder@32bb2f5e] for key [com.mchange.v2.c3p0.ComboPooledDataSource@87409cf[ acquireIncrement -> 3, acquireRetryAttempts -> 30, acquireRetryDelay -> 1000, autoCommitOnClose -> false, automaticTestTable -> null, breakAfterAcquireFailure -> false, checkoutTimeout -> 0, connectionTesterClassName -> com.mchange.v2.c3p0.impl.DefaultConnectionTester, description -> null, driverClass -> com.mysql.jdbc.Driver, factoryClassLocation -> null, forceIgnoreUnresolvedTransactions -> false, identityToken -> 87409cf, idleConnectionTestPeriod -> -1, initialPoolSize -> 3, jdbcUrl -> jdbc:mysql://localhost:3306/hospital?characterEncoding=utf-8, loginTimeout -> 0, maxIdleTime -> 0, maxPoolSize -> 15, maxStatements -> 0, maxStatementsPerConnection -> 0, minPoolSize -> 3, numHelperThreads -> 3, preferredTestQuery -> null, properties -> {user=******, password=******}, propertyCycle -> 300, testConnectionOnCheckin -> false, testConnectionOnCheckout -> false, usesTraditionalReflectiveProxies -> false ]] from thread [http-bio-8080-exec-6]
2016-05-25 00:05:39  [ http-bio-8080-exec-6:5238474 ] - [ DEBUG ]  Closing Hibernate Session [org.hibernate.impl.SessionImpl@29094033] after transaction
2016-05-25 00:05:39  [ http-bio-8080-exec-6:5238475 ] - [ DEBUG ]  Closing Hibernate Session
2016-05-25 00:05:39  [ http-bio-8080-exec-6:5238475 ] - [ DEBUG ]  releasing JDBC connection [ (open PreparedStatements: 0, globally: 0) (open ResultSets: 0, globally: 0)]
2016-05-25 00:05:39  [ http-bio-8080-exec-6:5238475 ] - [ DEBUG ]  trace com.mchange.v2.resourcepool.BasicResourcePool@1ed5eb39 [managed: 3, unused: 2, excluded: 0] (e.g. com.mchange.v2.c3p0.impl.NewPooledConnection@7303eee0)
2016-05-25 00:05:39  [ http-bio-8080-exec-6:5238476 ] - [ DEBUG ]  transaction completed on session with on_close connection release mode; be sure to close the session to release JDBC resources!
2016-05-25 00:05:39  [ http-bio-8080-exec-6:5238477 ] - [ DEBUG ]  No bean named 'org.apache.struts2.json.JSONResult' found in org.springframework.beans.factory.support.DefaultListableBeanFactory defining beans [dataSource,sessionFactory,userDao,doctorDao,departmentDao,hospitalDao,periodDao,scheduleDao,registrationDao,workTimeDao,doctorService,registrationService,periodService,scheduleService,workTimeService,transactionManager,transactionInterceptor,ProxyCreator,doctorName,sex,hospital,department,tel,getPeriods,getRegistrations,mark,insert]; root of BeanFactory hierarchy
2016-05-25 00:05:39  [ http-bio-8080-exec-6:5238477 ] - [ DEBUG ]  Creating [java.util.LinkedHashMap]
2016-05-25 00:05:39  [ http-bio-8080-exec-6:5238478 ] - [ DEBUG ]  Creating [java.util.LinkedHashMap]
2016-05-25 00:05:39  [ http-bio-8080-exec-6:5238479 ] - [ DEBUG ]  Using cached introspection results for class [org.apache.struts2.json.JSONResult]
2016-05-25 00:05:39  [ http-bio-8080-exec-6:5238479 ] - [ DEBUG ]  Bean 'org.apache.struts2.json.JSONResult' instantiated via constructor [public org.apache.struts2.json.JSONResult()]
2016-05-25 00:05:39  [ http-bio-8080-exec-6:5238480 ] - [ DEBUG ]  Invoking BeanPostProcessors before initialization of bean 'org.apache.struts2.json.JSONResult'
2016-05-25 00:05:39  [ http-bio-8080-exec-6:5238481 ] - [ DEBUG ]  Invoking BeanPostProcessors after initialization of bean 'org.apache.struts2.json.JSONResult'
2016-05-25 00:05:39  [ http-bio-8080-exec-6:5238482 ] - [ DEBUG ]  Using cached introspection results for class [org.apache.struts2.json.JSONResult]
2016-05-25 00:05:39  [ http-bio-8080-exec-6:5238483 ] - [ DEBUG ]  Creating [java.util.LinkedHashMap]
2016-05-25 00:05:39  [ http-bio-8080-exec-6:5238487 ] - [ DEBUG ]  Using transaction object [org.springframework.orm.hibernate3.HibernateTransactionManager$HibernateTransactionObject@633ae3a9]
2016-05-25 00:05:39  [ http-bio-8080-exec-6:5238487 ] - [ DEBUG ]  Creating new transaction with name [service.ScheduleService.findPeriods]
2016-05-25 00:05:39  [ http-bio-8080-exec-6:5238488 ] - [ DEBUG ]  opened session at timestamp: 14641059391
2016-05-25 00:05:39  [ http-bio-8080-exec-6:5238489 ] - [ DEBUG ]  Opened new Session [org.hibernate.impl.SessionImpl@78554f96] for Hibernate transaction
2016-05-25 00:05:39  [ http-bio-8080-exec-6:5238489 ] - [ DEBUG ]  Preparing JDBC Connection of Hibernate Session [org.hibernate.impl.SessionImpl@78554f96]
2016-05-25 00:05:39  [ http-bio-8080-exec-6:5238490 ] - [ DEBUG ]  begin
2016-05-25 00:05:39  [ http-bio-8080-exec-6:5238490 ] - [ DEBUG ]  opening JDBC connection
2016-05-25 00:05:39  [ http-bio-8080-exec-6:5238491 ] - [ DEBUG ]  trace com.mchange.v2.resourcepool.BasicResourcePool@1ed5eb39 [managed: 3, unused: 2, excluded: 0] (e.g. com.mchange.v2.c3p0.impl.NewPooledConnection@7303eee0)
2016-05-25 00:05:39  [ http-bio-8080-exec-6:5238492 ] - [ DEBUG ]  current autocommit status: true
2016-05-25 00:05:39  [ http-bio-8080-exec-6:5238492 ] - [ DEBUG ]  disabling autocommit
2016-05-25 00:05:39  [ http-bio-8080-exec-6:5238493 ] - [ DEBUG ]  Exposing Hibernate transaction as JDBC transaction [com.mchange.v2.c3p0.impl.NewProxyConnection@69104e1e]
2016-05-25 00:05:39  [ http-bio-8080-exec-6:5238499 ] - [ DEBUG ]  Bound value [org.springframework.jdbc.datasource.ConnectionHolder@54f237a5] for key [com.mchange.v2.c3p0.ComboPooledDataSource@87409cf[ acquireIncrement -> 3, acquireRetryAttempts -> 30, acquireRetryDelay -> 1000, autoCommitOnClose -> false, automaticTestTable -> null, breakAfterAcquireFailure -> false, checkoutTimeout -> 0, connectionTesterClassName -> com.mchange.v2.c3p0.impl.DefaultConnectionTester, description -> null, driverClass -> com.mysql.jdbc.Driver, factoryClassLocation -> null, forceIgnoreUnresolvedTransactions -> false, identityToken -> 87409cf, idleConnectionTestPeriod -> -1, initialPoolSize -> 3, jdbcUrl -> jdbc:mysql://localhost:3306/hospital?characterEncoding=utf-8, loginTimeout -> 0, maxIdleTime -> 0, maxPoolSize -> 15, maxStatements -> 0, maxStatementsPerConnection -> 0, minPoolSize -> 3, numHelperThreads -> 3, preferredTestQuery -> null, properties -> {user=******, password=******}, propertyCycle -> 300, testConnectionOnCheckin -> false, testConnectionOnCheckout -> false, usesTraditionalReflectiveProxies -> false ]] to thread [http-bio-8080-exec-6]
2016-05-25 00:05:39  [ http-bio-8080-exec-6:5238499 ] - [ DEBUG ]  Bound value [org.springframework.orm.hibernate3.SessionHolder@37bc375c] for key [org.hibernate.impl.SessionFactoryImpl@40fc29d7] to thread [http-bio-8080-exec-6]
2016-05-25 00:05:39  [ http-bio-8080-exec-6:5238500 ] - [ DEBUG ]  Initializing transaction synchronization
2016-05-25 00:05:39  [ http-bio-8080-exec-6:5238500 ] - [ DEBUG ]  Getting transaction for service.ScheduleService.findPeriods
2016-05-25 00:05:39  [ http-bio-8080-exec-6:5238500 ] - [ DEBUG ]  Retrieved value [org.springframework.orm.hibernate3.SessionHolder@37bc375c] for key [org.hibernate.impl.SessionFactoryImpl@40fc29d7] bound to thread [http-bio-8080-exec-6]
2016-05-25 00:05:39  [ http-bio-8080-exec-6:5238501 ] - [ DEBUG ]  about to open PreparedStatement (open PreparedStatements: 0, globally: 0)
2016-05-25 00:05:39  [ http-bio-8080-exec-6:5238501 ] - [ DEBUG ]  
    select
        p.* 
    from
        doctor d 
    join
        schedule s 
    join
        period p 
    where
        s.doctor_id=d.id 
        and s.period_id=p.id 
        and d.name= ?
2016-05-25 00:05:39  [ http-bio-8080-exec-6:5238502 ] - [ DEBUG ]  bindNamedParameters() Ë¬¸ç -> doctorName [1]
2016-05-25 00:05:39  [ http-bio-8080-exec-6:5238503 ] - [ DEBUG ]  about to open ResultSet (open ResultSets: 0, globally: 0)
2016-05-25 00:05:39  [ http-bio-8080-exec-6:5238504 ] - [ DEBUG ]  result row: EntityKey[persistance.Period#1]
2016-05-25 00:05:39  [ http-bio-8080-exec-6:5238504 ] - [ DEBUG ]  result row: EntityKey[persistance.Period#2]
2016-05-25 00:05:39  [ http-bio-8080-exec-6:5238505 ] - [ DEBUG ]  result row: EntityKey[persistance.Period#3]
2016-05-25 00:05:39  [ http-bio-8080-exec-6:5238505 ] - [ DEBUG ]  about to close ResultSet (open ResultSets: 1, globally: 1)
2016-05-25 00:05:39  [ http-bio-8080-exec-6:5238505 ] - [ DEBUG ]  about to close PreparedStatement (open PreparedStatements: 1, globally: 1)
2016-05-25 00:05:39  [ http-bio-8080-exec-6:5238506 ] - [ DEBUG ]  resolving associations for [persistance.Period#1]
2016-05-25 00:05:39  [ http-bio-8080-exec-6:5238506 ] - [ DEBUG ]  done materializing entity [persistance.Period#1]
2016-05-25 00:05:39  [ http-bio-8080-exec-6:5238507 ] - [ DEBUG ]  resolving associations for [persistance.Period#2]
2016-05-25 00:05:39  [ http-bio-8080-exec-6:5238508 ] - [ DEBUG ]  done materializing entity [persistance.Period#2]
2016-05-25 00:05:39  [ http-bio-8080-exec-6:5238508 ] - [ DEBUG ]  resolving associations for [persistance.Period#3]
2016-05-25 00:05:39  [ http-bio-8080-exec-6:5238508 ] - [ DEBUG ]  done materializing entity [persistance.Period#3]
2016-05-25 00:05:39  [ http-bio-8080-exec-6:5238509 ] - [ DEBUG ]  initializing non-lazy collections
2016-05-25 00:05:39  [ http-bio-8080-exec-6:5238509 ] - [ DEBUG ]  Invoking commit for transaction on service.ScheduleService.findPeriods
2016-05-25 00:05:39  [ http-bio-8080-exec-6:5238510 ] - [ DEBUG ]  Triggering beforeCommit synchronization
2016-05-25 00:05:39  [ http-bio-8080-exec-6:5238510 ] - [ DEBUG ]  Triggering beforeCompletion synchronization
2016-05-25 00:05:39  [ http-bio-8080-exec-6:5238510 ] - [ DEBUG ]  Initiating transaction commit
2016-05-25 00:05:39  [ http-bio-8080-exec-6:5238510 ] - [ DEBUG ]  Committing Hibernate transaction on Session [org.hibernate.impl.SessionImpl@78554f96]
2016-05-25 00:05:39  [ http-bio-8080-exec-6:5238511 ] - [ DEBUG ]  commit
2016-05-25 00:05:39  [ http-bio-8080-exec-6:5238511 ] - [ DEBUG ]  processing flush-time cascades
2016-05-25 00:05:39  [ http-bio-8080-exec-6:5238512 ] - [ DEBUG ]  dirty checking collections
2016-05-25 00:05:39  [ http-bio-8080-exec-6:5238513 ] - [ DEBUG ]  Collection found: [persistance.Period.schedules#1], was: [persistance.Period.schedules#1] (uninitialized)
2016-05-25 00:05:39  [ http-bio-8080-exec-6:5238513 ] - [ DEBUG ]  Collection found: [persistance.Period.workTimes#1], was: [persistance.Period.workTimes#1] (uninitialized)
2016-05-25 00:05:39  [ http-bio-8080-exec-6:5238514 ] - [ DEBUG ]  Collection found: [persistance.Period.registrations#1], was: [persistance.Period.registrations#1] (uninitialized)
2016-05-25 00:05:39  [ http-bio-8080-exec-6:5238515 ] - [ DEBUG ]  Collection found: [persistance.Period.schedules_1#1], was: [persistance.Period.schedules_1#1] (uninitialized)
2016-05-25 00:05:39  [ http-bio-8080-exec-6:5238515 ] - [ DEBUG ]  Collection found: [persistance.Period.registrations_1#1], was: [persistance.Period.registrations_1#1] (uninitialized)
2016-05-25 00:05:39  [ http-bio-8080-exec-6:5238516 ] - [ DEBUG ]  Collection found: [persistance.Period.schedules#2], was: [persistance.Period.schedules#2] (uninitialized)
2016-05-25 00:05:39  [ http-bio-8080-exec-6:5238516 ] - [ DEBUG ]  Collection found: [persistance.Period.workTimes#2], was: [persistance.Period.workTimes#2] (uninitialized)
2016-05-25 00:05:39  [ http-bio-8080-exec-6:5238517 ] - [ DEBUG ]  Collection found: [persistance.Period.registrations#2], was: [persistance.Period.registrations#2] (uninitialized)
2016-05-25 00:05:39  [ http-bio-8080-exec-6:5238517 ] - [ DEBUG ]  Collection found: [persistance.Period.schedules_1#2], was: [persistance.Period.schedules_1#2] (uninitialized)
2016-05-25 00:05:39  [ http-bio-8080-exec-6:5238518 ] - [ DEBUG ]  Collection found: [persistance.Period.registrations_1#2], was: [persistance.Period.registrations_1#2] (uninitialized)
2016-05-25 00:05:39  [ http-bio-8080-exec-6:5238518 ] - [ DEBUG ]  Collection found: [persistance.Period.schedules#3], was: [persistance.Period.schedules#3] (uninitialized)
2016-05-25 00:05:39  [ http-bio-8080-exec-6:5238519 ] - [ DEBUG ]  Collection found: [persistance.Period.workTimes#3], was: [persistance.Period.workTimes#3] (uninitialized)
2016-05-25 00:05:39  [ http-bio-8080-exec-6:5238519 ] - [ DEBUG ]  Collection found: [persistance.Period.registrations#3], was: [persistance.Period.registrations#3] (uninitialized)
2016-05-25 00:05:39  [ http-bio-8080-exec-6:5238519 ] - [ DEBUG ]  Collection found: [persistance.Period.schedules_1#3], was: [persistance.Period.schedules_1#3] (uninitialized)
2016-05-25 00:05:39  [ http-bio-8080-exec-6:5238520 ] - [ DEBUG ]  Collection found: [persistance.Period.registrations_1#3], was: [persistance.Period.registrations_1#3] (uninitialized)
2016-05-25 00:05:39  [ http-bio-8080-exec-6:5238520 ] - [ DEBUG ]  Flushed: 0 insertions, 0 updates, 0 deletions to 3 objects
2016-05-25 00:05:39  [ http-bio-8080-exec-6:5238520 ] - [ DEBUG ]  Flushed: 0 (re)creations, 0 updates, 0 removals to 15 collections
2016-05-25 00:05:39  [ http-bio-8080-exec-6:5238520 ] - [ DEBUG ]  listing entities:
2016-05-25 00:05:39  [ http-bio-8080-exec-6:5238521 ] - [ DEBUG ]  persistance.Period{id=3, registrations_1=<uninitialized>, schedules=<uninitialized>, schedules_1=<uninitialized>, workTimes=<uninitialized>, registrations=<uninitialized>, beginTime=09:00:00, endTime=10:00:00, date=2016-05-21 00:00:00}
2016-05-25 00:05:39  [ http-bio-8080-exec-6:5238521 ] - [ DEBUG ]  persistance.Period{id=1, registrations_1=<uninitialized>, schedules=<uninitialized>, schedules_1=<uninitialized>, workTimes=<uninitialized>, registrations=<uninitialized>, beginTime=09:00:00, endTime=10:00:00, date=2016-05-04 00:00:00}
2016-05-25 00:05:39  [ http-bio-8080-exec-6:5238522 ] - [ DEBUG ]  persistance.Period{id=2, registrations_1=<uninitialized>, schedules=<uninitialized>, schedules_1=<uninitialized>, workTimes=<uninitialized>, registrations=<uninitialized>, beginTime=10:00:00, endTime=11:00:00, date=2016-05-21 00:00:00}
2016-05-25 00:05:39  [ http-bio-8080-exec-6:5238522 ] - [ DEBUG ]  re-enabling autocommit
2016-05-25 00:05:39  [ http-bio-8080-exec-6:5238523 ] - [ DEBUG ]  committed JDBC Connection
2016-05-25 00:05:39  [ http-bio-8080-exec-6:5238523 ] - [ DEBUG ]  transaction completed on session with on_close connection release mode; be sure to close the session to release JDBC resources!
2016-05-25 00:05:39  [ http-bio-8080-exec-6:5238524 ] - [ DEBUG ]  Triggering afterCommit synchronization
2016-05-25 00:05:39  [ http-bio-8080-exec-6:5238524 ] - [ DEBUG ]  Triggering afterCompletion synchronization
2016-05-25 00:05:39  [ http-bio-8080-exec-6:5238524 ] - [ DEBUG ]  Clearing transaction synchronization
2016-05-25 00:05:39  [ http-bio-8080-exec-6:5238524 ] - [ DEBUG ]  Removed value [org.springframework.orm.hibernate3.SessionHolder@37bc375c] for key [org.hibernate.impl.SessionFactoryImpl@40fc29d7] from thread [http-bio-8080-exec-6]
2016-05-25 00:05:39  [ http-bio-8080-exec-6:5238529 ] - [ DEBUG ]  Removed value [org.springframework.jdbc.datasource.ConnectionHolder@54f237a5] for key [com.mchange.v2.c3p0.ComboPooledDataSource@87409cf[ acquireIncrement -> 3, acquireRetryAttempts -> 30, acquireRetryDelay -> 1000, autoCommitOnClose -> false, automaticTestTable -> null, breakAfterAcquireFailure -> false, checkoutTimeout -> 0, connectionTesterClassName -> com.mchange.v2.c3p0.impl.DefaultConnectionTester, description -> null, driverClass -> com.mysql.jdbc.Driver, factoryClassLocation -> null, forceIgnoreUnresolvedTransactions -> false, identityToken -> 87409cf, idleConnectionTestPeriod -> -1, initialPoolSize -> 3, jdbcUrl -> jdbc:mysql://localhost:3306/hospital?characterEncoding=utf-8, loginTimeout -> 0, maxIdleTime -> 0, maxPoolSize -> 15, maxStatements -> 0, maxStatementsPerConnection -> 0, minPoolSize -> 3, numHelperThreads -> 3, preferredTestQuery -> null, properties -> {user=******, password=******}, propertyCycle -> 300, testConnectionOnCheckin -> false, testConnectionOnCheckout -> false, usesTraditionalReflectiveProxies -> false ]] from thread [http-bio-8080-exec-6]
2016-05-25 00:05:39  [ http-bio-8080-exec-6:5238529 ] - [ DEBUG ]  Closing Hibernate Session [org.hibernate.impl.SessionImpl@78554f96] after transaction
2016-05-25 00:05:39  [ http-bio-8080-exec-6:5238530 ] - [ DEBUG ]  Closing Hibernate Session
2016-05-25 00:05:39  [ http-bio-8080-exec-6:5238530 ] - [ DEBUG ]  releasing JDBC connection [ (open PreparedStatements: 0, globally: 0) (open ResultSets: 0, globally: 0)]
2016-05-25 00:05:39  [ http-bio-8080-exec-6:5238531 ] - [ DEBUG ]  trace com.mchange.v2.resourcepool.BasicResourcePool@1ed5eb39 [managed: 3, unused: 2, excluded: 0] (e.g. com.mchange.v2.c3p0.impl.NewPooledConnection@7303eee0)
2016-05-25 00:05:39  [ http-bio-8080-exec-6:5238531 ] - [ DEBUG ]  transaction completed on session with on_close connection release mode; be sure to close the session to release JDBC resources!
2016-05-25 00:05:39  [ http-bio-8080-exec-6:5238532 ] - [ DEBUG ]  [JSON]{"periods":"success","registrations":"success"}
2016-05-25 00:05:39  [ http-bio-8080-exec-6:5238532 ] - [ DEBUG ]  after Locale=zh_CN
2016-05-25 00:05:39  [ http-bio-8080-exec-6:5238533 ] - [ DEBUG ]  intercept } 
2016-05-25 00:05:42  [ http-bio-8080-exec-6:5241530 ] - [ DEBUG ]  Entering nullPropertyValue [target=[com.opensymphony.xwork2.DefaultTextProvider@64b8ecac], property=struts]
2016-05-25 00:05:42  [ http-bio-8080-exec-6:5241531 ] - [ DEBUG ]  Entering nullPropertyValue [target=[com.opensymphony.xwork2.DefaultTextProvider@64b8ecac], property=struts]
2016-05-25 00:05:42  [ http-bio-8080-exec-6:5241531 ] - [ DEBUG ]  Creating an DefaultActionProxy for namespace / and action name getRegistrations
2016-05-25 00:05:42  [ http-bio-8080-exec-6:5241532 ] - [ DEBUG ]  No bean named 'action.HandleAction' found in org.springframework.beans.factory.support.DefaultListableBeanFactory defining beans [dataSource,sessionFactory,userDao,doctorDao,departmentDao,hospitalDao,periodDao,scheduleDao,registrationDao,workTimeDao,doctorService,registrationService,periodService,scheduleService,workTimeService,transactionManager,transactionInterceptor,ProxyCreator,doctorName,sex,hospital,department,tel,getPeriods,getRegistrations,mark,insert]; root of BeanFactory hierarchy
2016-05-25 00:05:42  [ http-bio-8080-exec-6:5241533 ] - [ DEBUG ]  Creating [java.util.LinkedHashMap]
2016-05-25 00:05:42  [ http-bio-8080-exec-6:5241534 ] - [ DEBUG ]  Creating [java.util.LinkedHashMap]
2016-05-25 00:05:42  [ http-bio-8080-exec-6:5241534 ] - [ DEBUG ]  Using cached introspection results for class [action.HandleAction]
2016-05-25 00:05:42  [ http-bio-8080-exec-6:5241535 ] - [ DEBUG ]  Bean 'action.HandleAction' instantiated via constructor [public action.HandleAction()]
2016-05-25 00:05:42  [ http-bio-8080-exec-6:5241535 ] - [ DEBUG ]  Invoking BeanPostProcessors before initialization of bean 'action.HandleAction'
2016-05-25 00:05:42  [ http-bio-8080-exec-6:5241536 ] - [ DEBUG ]  Invoking BeanPostProcessors after initialization of bean 'action.HandleAction'
2016-05-25 00:05:42  [ http-bio-8080-exec-6:5241536 ] - [ DEBUG ]  Using cached introspection results for class [action.HandleAction]
2016-05-25 00:05:42  [ http-bio-8080-exec-6:5241537 ] - [ DEBUG ]  Not autowiring property 'actionErrors' of bean 'action.HandleAction' by name: no matching bean found
2016-05-25 00:05:42  [ http-bio-8080-exec-6:5241538 ] - [ DEBUG ]  Not autowiring property 'actionMessages' of bean 'action.HandleAction' by name: no matching bean found
2016-05-25 00:05:42  [ http-bio-8080-exec-6:5241538 ] - [ DEBUG ]  Not autowiring property 'fieldErrors' of bean 'action.HandleAction' by name: no matching bean found
2016-05-25 00:05:42  [ http-bio-8080-exec-6:5241539 ] - [ DEBUG ]  Returning cached instance of singleton bean 'registrationService'
2016-05-25 00:05:42  [ http-bio-8080-exec-6:5241539 ] - [ DEBUG ]  Added autowiring by name from bean name 'action.HandleAction' via property 'registrationService' to bean named 'registrationService'
2016-05-25 00:05:42  [ http-bio-8080-exec-6:5241539 ] - [ DEBUG ]  Returning cached instance of singleton bean 'scheduleService'
2016-05-25 00:05:42  [ http-bio-8080-exec-6:5241540 ] - [ DEBUG ]  Added autowiring by name from bean name 'action.HandleAction' via property 'scheduleService' to bean named 'scheduleService'
2016-05-25 00:05:42  [ http-bio-8080-exec-6:5241540 ] - [ DEBUG ]  Creating [java.util.LinkedHashMap]
2016-05-25 00:05:42  [ http-bio-8080-exec-6:5241540 ] - [ DEBUG ]  About to invoke write method [public void action.HandleAction.setRegistrationService(service.RegistrationService)] on object of class [action.HandleAction]
2016-05-25 00:05:42  [ http-bio-8080-exec-6:5241540 ] - [ DEBUG ]  Invoked write method [public void action.HandleAction.setRegistrationService(service.RegistrationService)] with value of type [service.RegistrationService]
2016-05-25 00:05:42  [ http-bio-8080-exec-6:5241541 ] - [ DEBUG ]  About to invoke write method [public void action.HandleAction.setScheduleService(service.ScheduleService)] on object of class [action.HandleAction]
2016-05-25 00:05:42  [ http-bio-8080-exec-6:5241541 ] - [ DEBUG ]  Invoked write method [public void action.HandleAction.setScheduleService(service.ScheduleService)] with value of type [service.ScheduleService]
2016-05-25 00:05:42  [ http-bio-8080-exec-6:5241541 ] - [ DEBUG ]  intercept '//getRegistrations' { 
2016-05-25 00:05:42  [ http-bio-8080-exec-6:5241541 ] - [ DEBUG ]  applied invocation context locale=zh_CN
2016-05-25 00:05:42  [ http-bio-8080-exec-6:5241541 ] - [ DEBUG ]  before Locale=zh_CN
2016-05-25 00:05:42  [ http-bio-8080-exec-6:5241542 ] - [ DEBUG ]  Entering nullPropertyValue [target=[action.HandleAction@69273aea, com.opensymphony.xwork2.DefaultTextProvider@64b8ecac], property=struts]
2016-05-25 00:05:42  [ http-bio-8080-exec-6:5241542 ] - [ DEBUG ]  Bypassing //getRegistrations
2016-05-25 00:05:42  [ http-bio-8080-exec-6:5241542 ] - [ DEBUG ]  Setting static parameters {}
2016-05-25 00:05:42  [ http-bio-8080-exec-6:5241542 ] - [ DEBUG ]  Setting params NONE
2016-05-25 00:05:42  [ http-bio-8080-exec-6:5241543 ] - [ DEBUG ]  Setting params doctorName => [ Ë¬¸ç ] periods => [ 2016-05-04 ÉÏÎç ] 
2016-05-25 00:05:42  [ http-bio-8080-exec-6:5241543 ] - [ DEBUG ]  Validating //getRegistrations with method getRegistrations.
2016-05-25 00:05:42  [ http-bio-8080-exec-6:5241544 ] - [ DEBUG ]  Invoking validate() on action action.HandleAction@69273aea
2016-05-25 00:05:42  [ http-bio-8080-exec-6:5241544 ] - [ DEBUG ]  cannot find method [validateGetRegistrations] in action [action.HandleAction@69273aea]
2016-05-25 00:05:42  [ http-bio-8080-exec-6:5241544 ] - [ DEBUG ]  cannot find method [validateDoGetRegistrations] in action [action.HandleAction@69273aea]
2016-05-25 00:05:42  [ http-bio-8080-exec-6:5241544 ] - [ DEBUG ]  Executing action method = getRegistrations
2016-05-25 00:05:42  [ http-bio-8080-exec-6:5241545 ] - [ DEBUG ]  Using transaction object [org.springframework.orm.hibernate3.HibernateTransactionManager$HibernateTransactionObject@3cb57f97]
2016-05-25 00:05:42  [ http-bio-8080-exec-6:5241545 ] - [ DEBUG ]  Creating new transaction with name [service.RegistrationService.findRegistrations]
2016-05-25 00:05:42  [ http-bio-8080-exec-6:5241545 ] - [ DEBUG ]  opened session at timestamp: 14641059422
2016-05-25 00:05:42  [ http-bio-8080-exec-6:5241545 ] - [ DEBUG ]  Opened new Session [org.hibernate.impl.SessionImpl@7f5d1f01] for Hibernate transaction
2016-05-25 00:05:42  [ http-bio-8080-exec-6:5241546 ] - [ DEBUG ]  Preparing JDBC Connection of Hibernate Session [org.hibernate.impl.SessionImpl@7f5d1f01]
2016-05-25 00:05:42  [ http-bio-8080-exec-6:5241546 ] - [ DEBUG ]  begin
2016-05-25 00:05:42  [ http-bio-8080-exec-6:5241546 ] - [ DEBUG ]  opening JDBC connection
2016-05-25 00:05:42  [ http-bio-8080-exec-6:5241547 ] - [ DEBUG ]  trace com.mchange.v2.resourcepool.BasicResourcePool@1ed5eb39 [managed: 3, unused: 2, excluded: 0] (e.g. com.mchange.v2.c3p0.impl.NewPooledConnection@7303eee0)
2016-05-25 00:05:42  [ http-bio-8080-exec-6:5241547 ] - [ DEBUG ]  current autocommit status: true
2016-05-25 00:05:42  [ http-bio-8080-exec-6:5241547 ] - [ DEBUG ]  disabling autocommit
2016-05-25 00:05:42  [ http-bio-8080-exec-6:5241549 ] - [ DEBUG ]  Exposing Hibernate transaction as JDBC transaction [com.mchange.v2.c3p0.impl.NewProxyConnection@887d6e8]
2016-05-25 00:05:42  [ http-bio-8080-exec-6:5241554 ] - [ DEBUG ]  Bound value [org.springframework.jdbc.datasource.ConnectionHolder@75a1224d] for key [com.mchange.v2.c3p0.ComboPooledDataSource@87409cf[ acquireIncrement -> 3, acquireRetryAttempts -> 30, acquireRetryDelay -> 1000, autoCommitOnClose -> false, automaticTestTable -> null, breakAfterAcquireFailure -> false, checkoutTimeout -> 0, connectionTesterClassName -> com.mchange.v2.c3p0.impl.DefaultConnectionTester, description -> null, driverClass -> com.mysql.jdbc.Driver, factoryClassLocation -> null, forceIgnoreUnresolvedTransactions -> false, identityToken -> 87409cf, idleConnectionTestPeriod -> -1, initialPoolSize -> 3, jdbcUrl -> jdbc:mysql://localhost:3306/hospital?characterEncoding=utf-8, loginTimeout -> 0, maxIdleTime -> 0, maxPoolSize -> 15, maxStatements -> 0, maxStatementsPerConnection -> 0, minPoolSize -> 3, numHelperThreads -> 3, preferredTestQuery -> null, properties -> {user=******, password=******}, propertyCycle -> 300, testConnectionOnCheckin -> false, testConnectionOnCheckout -> false, usesTraditionalReflectiveProxies -> false ]] to thread [http-bio-8080-exec-6]
2016-05-25 00:05:42  [ http-bio-8080-exec-6:5241554 ] - [ DEBUG ]  Bound value [org.springframework.orm.hibernate3.SessionHolder@4a4dc056] for key [org.hibernate.impl.SessionFactoryImpl@40fc29d7] to thread [http-bio-8080-exec-6]
2016-05-25 00:05:42  [ http-bio-8080-exec-6:5241554 ] - [ DEBUG ]  Initializing transaction synchronization
2016-05-25 00:05:42  [ http-bio-8080-exec-6:5241555 ] - [ DEBUG ]  Getting transaction for service.RegistrationService.findRegistrations
2016-05-25 00:05:42  [ http-bio-8080-exec-6:5241555 ] - [ DEBUG ]  Retrieved value [org.springframework.orm.hibernate3.SessionHolder@4a4dc056] for key [org.hibernate.impl.SessionFactoryImpl@40fc29d7] bound to thread [http-bio-8080-exec-6]
2016-05-25 00:05:42  [ http-bio-8080-exec-6:5241556 ] - [ DEBUG ]  about to open PreparedStatement (open PreparedStatements: 0, globally: 0)
2016-05-25 00:05:42  [ http-bio-8080-exec-6:5241557 ] - [ DEBUG ]  
    select
        r.id id,
        u.user_name userName ,
        p.begin_time beginTime 
    from
        registration r 
    join
        doctor do 
    join
        department de 
    join
        user u 
    join
        period p  
    where
        r.doctor_id=do.id 
        and r.department_id = de.id 
        and r.user_id=u.user_id 
        and r.period_id=p.id  
        and  do.name=? 
        and p.date=? 
        and  p.begin_time>=? 
        and p.begin_time<=?
2016-05-25 00:05:42  [ http-bio-8080-exec-6:5241559 ] - [ DEBUG ]  bindNamedParameters() 11:00:00 -> lastPeriodBegin [4]
2016-05-25 00:05:42  [ http-bio-8080-exec-6:5241559 ] - [ DEBUG ]  bindNamedParameters() Ë¬¸ç -> doctorName [1]
2016-05-25 00:05:42  [ http-bio-8080-exec-6:5241560 ] - [ DEBUG ]  bindNamedParameters() 2016-05-04 -> date [2]
2016-05-25 00:05:42  [ http-bio-8080-exec-6:5241560 ] - [ DEBUG ]  bindNamedParameters() 09:00:00 -> firstPeriodBegin [3]
2016-05-25 00:05:42  [ http-bio-8080-exec-6:5241561 ] - [ DEBUG ]  about to open ResultSet (open ResultSets: 0, globally: 0)
2016-05-25 00:05:42  [ http-bio-8080-exec-6:5241562 ] - [ DEBUG ]  result row: 
2016-05-25 00:05:42  [ http-bio-8080-exec-6:5241562 ] - [ DEBUG ]  result row: 
2016-05-25 00:05:42  [ http-bio-8080-exec-6:5241563 ] - [ DEBUG ]  about to close ResultSet (open ResultSets: 1, globally: 1)
2016-05-25 00:05:42  [ http-bio-8080-exec-6:5241563 ] - [ DEBUG ]  about to close PreparedStatement (open PreparedStatements: 1, globally: 1)
2016-05-25 00:05:42  [ http-bio-8080-exec-6:5241564 ] - [ DEBUG ]  initializing non-lazy collections
2016-05-25 00:05:42  [ http-bio-8080-exec-6:5241564 ] - [ DEBUG ]  Invoking commit for transaction on service.RegistrationService.findRegistrations
2016-05-25 00:05:42  [ http-bio-8080-exec-6:5241565 ] - [ DEBUG ]  Triggering beforeCommit synchronization
2016-05-25 00:05:42  [ http-bio-8080-exec-6:5241565 ] - [ DEBUG ]  Triggering beforeCompletion synchronization
2016-05-25 00:05:42  [ http-bio-8080-exec-6:5241565 ] - [ DEBUG ]  Initiating transaction commit
2016-05-25 00:05:42  [ http-bio-8080-exec-6:5241566 ] - [ DEBUG ]  Committing Hibernate transaction on Session [org.hibernate.impl.SessionImpl@7f5d1f01]
2016-05-25 00:05:42  [ http-bio-8080-exec-6:5241566 ] - [ DEBUG ]  commit
2016-05-25 00:05:42  [ http-bio-8080-exec-6:5241567 ] - [ DEBUG ]  re-enabling autocommit
2016-05-25 00:05:42  [ http-bio-8080-exec-6:5241568 ] - [ DEBUG ]  committed JDBC Connection
2016-05-25 00:05:42  [ http-bio-8080-exec-6:5241569 ] - [ DEBUG ]  transaction completed on session with on_close connection release mode; be sure to close the session to release JDBC resources!
2016-05-25 00:05:42  [ http-bio-8080-exec-6:5241569 ] - [ DEBUG ]  Triggering afterCommit synchronization
2016-05-25 00:05:42  [ http-bio-8080-exec-6:5241570 ] - [ DEBUG ]  Triggering afterCompletion synchronization
2016-05-25 00:05:42  [ http-bio-8080-exec-6:5241570 ] - [ DEBUG ]  Clearing transaction synchronization
2016-05-25 00:05:42  [ http-bio-8080-exec-6:5241571 ] - [ DEBUG ]  Removed value [org.springframework.orm.hibernate3.SessionHolder@4a4dc056] for key [org.hibernate.impl.SessionFactoryImpl@40fc29d7] from thread [http-bio-8080-exec-6]
2016-05-25 00:05:42  [ http-bio-8080-exec-6:5241575 ] - [ DEBUG ]  Removed value [org.springframework.jdbc.datasource.ConnectionHolder@75a1224d] for key [com.mchange.v2.c3p0.ComboPooledDataSource@87409cf[ acquireIncrement -> 3, acquireRetryAttempts -> 30, acquireRetryDelay -> 1000, autoCommitOnClose -> false, automaticTestTable -> null, breakAfterAcquireFailure -> false, checkoutTimeout -> 0, connectionTesterClassName -> com.mchange.v2.c3p0.impl.DefaultConnectionTester, description -> null, driverClass -> com.mysql.jdbc.Driver, factoryClassLocation -> null, forceIgnoreUnresolvedTransactions -> false, identityToken -> 87409cf, idleConnectionTestPeriod -> -1, initialPoolSize -> 3, jdbcUrl -> jdbc:mysql://localhost:3306/hospital?characterEncoding=utf-8, loginTimeout -> 0, maxIdleTime -> 0, maxPoolSize -> 15, maxStatements -> 0, maxStatementsPerConnection -> 0, minPoolSize -> 3, numHelperThreads -> 3, preferredTestQuery -> null, properties -> {user=******, password=******}, propertyCycle -> 300, testConnectionOnCheckin -> false, testConnectionOnCheckout -> false, usesTraditionalReflectiveProxies -> false ]] from thread [http-bio-8080-exec-6]
2016-05-25 00:05:42  [ http-bio-8080-exec-6:5241576 ] - [ DEBUG ]  Closing Hibernate Session [org.hibernate.impl.SessionImpl@7f5d1f01] after transaction
2016-05-25 00:05:42  [ http-bio-8080-exec-6:5241576 ] - [ DEBUG ]  Closing Hibernate Session
2016-05-25 00:05:42  [ http-bio-8080-exec-6:5241576 ] - [ DEBUG ]  releasing JDBC connection [ (open PreparedStatements: 0, globally: 0) (open ResultSets: 0, globally: 0)]
2016-05-25 00:05:42  [ http-bio-8080-exec-6:5241577 ] - [ DEBUG ]  trace com.mchange.v2.resourcepool.BasicResourcePool@1ed5eb39 [managed: 3, unused: 2, excluded: 0] (e.g. com.mchange.v2.c3p0.impl.NewPooledConnection@7303eee0)
2016-05-25 00:05:42  [ http-bio-8080-exec-6:5241577 ] - [ DEBUG ]  transaction completed on session with on_close connection release mode; be sure to close the session to release JDBC resources!
2016-05-25 00:05:42  [ http-bio-8080-exec-6:5241577 ] - [ DEBUG ]  No bean named 'org.apache.struts2.json.JSONResult' found in org.springframework.beans.factory.support.DefaultListableBeanFactory defining beans [dataSource,sessionFactory,userDao,doctorDao,departmentDao,hospitalDao,periodDao,scheduleDao,registrationDao,workTimeDao,doctorService,registrationService,periodService,scheduleService,workTimeService,transactionManager,transactionInterceptor,ProxyCreator,doctorName,sex,hospital,department,tel,getPeriods,getRegistrations,mark,insert]; root of BeanFactory hierarchy
2016-05-25 00:05:42  [ http-bio-8080-exec-6:5241578 ] - [ DEBUG ]  Creating [java.util.LinkedHashMap]
2016-05-25 00:05:42  [ http-bio-8080-exec-6:5241578 ] - [ DEBUG ]  Creating [java.util.LinkedHashMap]
2016-05-25 00:05:42  [ http-bio-8080-exec-6:5241578 ] - [ DEBUG ]  Using cached introspection results for class [org.apache.struts2.json.JSONResult]
2016-05-25 00:05:42  [ http-bio-8080-exec-6:5241579 ] - [ DEBUG ]  Bean 'org.apache.struts2.json.JSONResult' instantiated via constructor [public org.apache.struts2.json.JSONResult()]
2016-05-25 00:05:42  [ http-bio-8080-exec-6:5241579 ] - [ DEBUG ]  Invoking BeanPostProcessors before initialization of bean 'org.apache.struts2.json.JSONResult'
2016-05-25 00:05:42  [ http-bio-8080-exec-6:5241579 ] - [ DEBUG ]  Invoking BeanPostProcessors after initialization of bean 'org.apache.struts2.json.JSONResult'
2016-05-25 00:05:42  [ http-bio-8080-exec-6:5241580 ] - [ DEBUG ]  Using cached introspection results for class [org.apache.struts2.json.JSONResult]
2016-05-25 00:05:42  [ http-bio-8080-exec-6:5241580 ] - [ DEBUG ]  Creating [java.util.LinkedHashMap]
2016-05-25 00:05:42  [ http-bio-8080-exec-6:5241582 ] - [ DEBUG ]  Using transaction object [org.springframework.orm.hibernate3.HibernateTransactionManager$HibernateTransactionObject@b3be175]
2016-05-25 00:05:42  [ http-bio-8080-exec-6:5241582 ] - [ DEBUG ]  Creating new transaction with name [service.ScheduleService.findPeriods]
2016-05-25 00:05:42  [ http-bio-8080-exec-6:5241583 ] - [ DEBUG ]  opened session at timestamp: 14641059422
2016-05-25 00:05:42  [ http-bio-8080-exec-6:5241583 ] - [ DEBUG ]  Opened new Session [org.hibernate.impl.SessionImpl@15447f19] for Hibernate transaction
2016-05-25 00:05:42  [ http-bio-8080-exec-6:5241584 ] - [ DEBUG ]  Preparing JDBC Connection of Hibernate Session [org.hibernate.impl.SessionImpl@15447f19]
2016-05-25 00:05:42  [ http-bio-8080-exec-6:5241584 ] - [ DEBUG ]  begin
2016-05-25 00:05:42  [ http-bio-8080-exec-6:5241585 ] - [ DEBUG ]  opening JDBC connection
2016-05-25 00:05:42  [ http-bio-8080-exec-6:5241585 ] - [ DEBUG ]  trace com.mchange.v2.resourcepool.BasicResourcePool@1ed5eb39 [managed: 3, unused: 2, excluded: 0] (e.g. com.mchange.v2.c3p0.impl.NewPooledConnection@7303eee0)
2016-05-25 00:05:42  [ http-bio-8080-exec-6:5241585 ] - [ DEBUG ]  current autocommit status: true
2016-05-25 00:05:42  [ http-bio-8080-exec-6:5241585 ] - [ DEBUG ]  disabling autocommit
2016-05-25 00:05:42  [ http-bio-8080-exec-6:5241586 ] - [ DEBUG ]  Exposing Hibernate transaction as JDBC transaction [com.mchange.v2.c3p0.impl.NewProxyConnection@3d7047d3]
2016-05-25 00:05:42  [ http-bio-8080-exec-6:5241592 ] - [ DEBUG ]  Bound value [org.springframework.jdbc.datasource.ConnectionHolder@97048a0] for key [com.mchange.v2.c3p0.ComboPooledDataSource@87409cf[ acquireIncrement -> 3, acquireRetryAttempts -> 30, acquireRetryDelay -> 1000, autoCommitOnClose -> false, automaticTestTable -> null, breakAfterAcquireFailure -> false, checkoutTimeout -> 0, connectionTesterClassName -> com.mchange.v2.c3p0.impl.DefaultConnectionTester, description -> null, driverClass -> com.mysql.jdbc.Driver, factoryClassLocation -> null, forceIgnoreUnresolvedTransactions -> false, identityToken -> 87409cf, idleConnectionTestPeriod -> -1, initialPoolSize -> 3, jdbcUrl -> jdbc:mysql://localhost:3306/hospital?characterEncoding=utf-8, loginTimeout -> 0, maxIdleTime -> 0, maxPoolSize -> 15, maxStatements -> 0, maxStatementsPerConnection -> 0, minPoolSize -> 3, numHelperThreads -> 3, preferredTestQuery -> null, properties -> {user=******, password=******}, propertyCycle -> 300, testConnectionOnCheckin -> false, testConnectionOnCheckout -> false, usesTraditionalReflectiveProxies -> false ]] to thread [http-bio-8080-exec-6]
2016-05-25 00:05:42  [ http-bio-8080-exec-6:5241593 ] - [ DEBUG ]  Bound value [org.springframework.orm.hibernate3.SessionHolder@a2673c6] for key [org.hibernate.impl.SessionFactoryImpl@40fc29d7] to thread [http-bio-8080-exec-6]
2016-05-25 00:05:42  [ http-bio-8080-exec-6:5241593 ] - [ DEBUG ]  Initializing transaction synchronization
2016-05-25 00:05:42  [ http-bio-8080-exec-6:5241593 ] - [ DEBUG ]  Getting transaction for service.ScheduleService.findPeriods
2016-05-25 00:05:42  [ http-bio-8080-exec-6:5241594 ] - [ DEBUG ]  Retrieved value [org.springframework.orm.hibernate3.SessionHolder@a2673c6] for key [org.hibernate.impl.SessionFactoryImpl@40fc29d7] bound to thread [http-bio-8080-exec-6]
2016-05-25 00:05:42  [ http-bio-8080-exec-6:5241594 ] - [ DEBUG ]  about to open PreparedStatement (open PreparedStatements: 0, globally: 0)
2016-05-25 00:05:42  [ http-bio-8080-exec-6:5241594 ] - [ DEBUG ]  
    select
        p.* 
    from
        doctor d 
    join
        schedule s 
    join
        period p 
    where
        s.doctor_id=d.id 
        and s.period_id=p.id 
        and d.name= ?
2016-05-25 00:05:42  [ http-bio-8080-exec-6:5241595 ] - [ DEBUG ]  bindNamedParameters() Ë¬¸ç -> doctorName [1]
2016-05-25 00:05:42  [ http-bio-8080-exec-6:5241596 ] - [ DEBUG ]  about to open ResultSet (open ResultSets: 0, globally: 0)
2016-05-25 00:05:42  [ http-bio-8080-exec-6:5241597 ] - [ DEBUG ]  result row: EntityKey[persistance.Period#1]
2016-05-25 00:05:42  [ http-bio-8080-exec-6:5241597 ] - [ DEBUG ]  result row: EntityKey[persistance.Period#2]
2016-05-25 00:05:42  [ http-bio-8080-exec-6:5241598 ] - [ DEBUG ]  result row: EntityKey[persistance.Period#3]
2016-05-25 00:05:42  [ http-bio-8080-exec-6:5241598 ] - [ DEBUG ]  about to close ResultSet (open ResultSets: 1, globally: 1)
2016-05-25 00:05:42  [ http-bio-8080-exec-6:5241598 ] - [ DEBUG ]  about to close PreparedStatement (open PreparedStatements: 1, globally: 1)
2016-05-25 00:05:42  [ http-bio-8080-exec-6:5241599 ] - [ DEBUG ]  resolving associations for [persistance.Period#1]
2016-05-25 00:05:42  [ http-bio-8080-exec-6:5241599 ] - [ DEBUG ]  done materializing entity [persistance.Period#1]
2016-05-25 00:05:42  [ http-bio-8080-exec-6:5241600 ] - [ DEBUG ]  resolving associations for [persistance.Period#2]
2016-05-25 00:05:42  [ http-bio-8080-exec-6:5241600 ] - [ DEBUG ]  done materializing entity [persistance.Period#2]
2016-05-25 00:05:42  [ http-bio-8080-exec-6:5241600 ] - [ DEBUG ]  resolving associations for [persistance.Period#3]
2016-05-25 00:05:42  [ http-bio-8080-exec-6:5241601 ] - [ DEBUG ]  done materializing entity [persistance.Period#3]
2016-05-25 00:05:42  [ http-bio-8080-exec-6:5241601 ] - [ DEBUG ]  initializing non-lazy collections
2016-05-25 00:05:42  [ http-bio-8080-exec-6:5241602 ] - [ DEBUG ]  Invoking commit for transaction on service.ScheduleService.findPeriods
2016-05-25 00:05:42  [ http-bio-8080-exec-6:5241602 ] - [ DEBUG ]  Triggering beforeCommit synchronization
2016-05-25 00:05:42  [ http-bio-8080-exec-6:5241602 ] - [ DEBUG ]  Triggering beforeCompletion synchronization
2016-05-25 00:05:42  [ http-bio-8080-exec-6:5241602 ] - [ DEBUG ]  Initiating transaction commit
2016-05-25 00:05:42  [ http-bio-8080-exec-6:5241603 ] - [ DEBUG ]  Committing Hibernate transaction on Session [org.hibernate.impl.SessionImpl@15447f19]
2016-05-25 00:05:42  [ http-bio-8080-exec-6:5241603 ] - [ DEBUG ]  commit
2016-05-25 00:05:42  [ http-bio-8080-exec-6:5241603 ] - [ DEBUG ]  processing flush-time cascades
2016-05-25 00:05:42  [ http-bio-8080-exec-6:5241603 ] - [ DEBUG ]  dirty checking collections
2016-05-25 00:05:42  [ http-bio-8080-exec-6:5241604 ] - [ DEBUG ]  Collection found: [persistance.Period.schedules#1], was: [persistance.Period.schedules#1] (uninitialized)
2016-05-25 00:05:42  [ http-bio-8080-exec-6:5241604 ] - [ DEBUG ]  Collection found: [persistance.Period.workTimes#1], was: [persistance.Period.workTimes#1] (uninitialized)
2016-05-25 00:05:42  [ http-bio-8080-exec-6:5241604 ] - [ DEBUG ]  Collection found: [persistance.Period.registrations#1], was: [persistance.Period.registrations#1] (uninitialized)
2016-05-25 00:05:42  [ http-bio-8080-exec-6:5241605 ] - [ DEBUG ]  Collection found: [persistance.Period.schedules_1#1], was: [persistance.Period.schedules_1#1] (uninitialized)
2016-05-25 00:05:42  [ http-bio-8080-exec-6:5241605 ] - [ DEBUG ]  Collection found: [persistance.Period.registrations_1#1], was: [persistance.Period.registrations_1#1] (uninitialized)
2016-05-25 00:05:42  [ http-bio-8080-exec-6:5241605 ] - [ DEBUG ]  Collection found: [persistance.Period.schedules#2], was: [persistance.Period.schedules#2] (uninitialized)
2016-05-25 00:05:42  [ http-bio-8080-exec-6:5241606 ] - [ DEBUG ]  Collection found: [persistance.Period.workTimes#2], was: [persistance.Period.workTimes#2] (uninitialized)
2016-05-25 00:05:42  [ http-bio-8080-exec-6:5241606 ] - [ DEBUG ]  Collection found: [persistance.Period.registrations#2], was: [persistance.Period.registrations#2] (uninitialized)
2016-05-25 00:05:42  [ http-bio-8080-exec-6:5241606 ] - [ DEBUG ]  Collection found: [persistance.Period.schedules_1#2], was: [persistance.Period.schedules_1#2] (uninitialized)
2016-05-25 00:05:42  [ http-bio-8080-exec-6:5241607 ] - [ DEBUG ]  Collection found: [persistance.Period.registrations_1#2], was: [persistance.Period.registrations_1#2] (uninitialized)
2016-05-25 00:05:42  [ http-bio-8080-exec-6:5241607 ] - [ DEBUG ]  Collection found: [persistance.Period.schedules#3], was: [persistance.Period.schedules#3] (uninitialized)
2016-05-25 00:05:42  [ http-bio-8080-exec-6:5241607 ] - [ DEBUG ]  Collection found: [persistance.Period.workTimes#3], was: [persistance.Period.workTimes#3] (uninitialized)
2016-05-25 00:05:42  [ http-bio-8080-exec-6:5241608 ] - [ DEBUG ]  Collection found: [persistance.Period.registrations#3], was: [persistance.Period.registrations#3] (uninitialized)
2016-05-25 00:05:42  [ http-bio-8080-exec-6:5241608 ] - [ DEBUG ]  Collection found: [persistance.Period.schedules_1#3], was: [persistance.Period.schedules_1#3] (uninitialized)
2016-05-25 00:05:42  [ http-bio-8080-exec-6:5241608 ] - [ DEBUG ]  Collection found: [persistance.Period.registrations_1#3], was: [persistance.Period.registrations_1#3] (uninitialized)
2016-05-25 00:05:42  [ http-bio-8080-exec-6:5241608 ] - [ DEBUG ]  Flushed: 0 insertions, 0 updates, 0 deletions to 3 objects
2016-05-25 00:05:42  [ http-bio-8080-exec-6:5241609 ] - [ DEBUG ]  Flushed: 0 (re)creations, 0 updates, 0 removals to 15 collections
2016-05-25 00:05:42  [ http-bio-8080-exec-6:5241609 ] - [ DEBUG ]  listing entities:
2016-05-25 00:05:42  [ http-bio-8080-exec-6:5241609 ] - [ DEBUG ]  persistance.Period{id=3, registrations_1=<uninitialized>, schedules=<uninitialized>, schedules_1=<uninitialized>, workTimes=<uninitialized>, registrations=<uninitialized>, beginTime=09:00:00, endTime=10:00:00, date=2016-05-21 00:00:00}
2016-05-25 00:05:42  [ http-bio-8080-exec-6:5241610 ] - [ DEBUG ]  persistance.Period{id=1, registrations_1=<uninitialized>, schedules=<uninitialized>, schedules_1=<uninitialized>, workTimes=<uninitialized>, registrations=<uninitialized>, beginTime=09:00:00, endTime=10:00:00, date=2016-05-04 00:00:00}
2016-05-25 00:05:42  [ http-bio-8080-exec-6:5241610 ] - [ DEBUG ]  persistance.Period{id=2, registrations_1=<uninitialized>, schedules=<uninitialized>, schedules_1=<uninitialized>, workTimes=<uninitialized>, registrations=<uninitialized>, beginTime=10:00:00, endTime=11:00:00, date=2016-05-21 00:00:00}
2016-05-25 00:05:42  [ http-bio-8080-exec-6:5241611 ] - [ DEBUG ]  re-enabling autocommit
2016-05-25 00:05:42  [ http-bio-8080-exec-6:5241612 ] - [ DEBUG ]  committed JDBC Connection
2016-05-25 00:05:42  [ http-bio-8080-exec-6:5241612 ] - [ DEBUG ]  transaction completed on session with on_close connection release mode; be sure to close the session to release JDBC resources!
2016-05-25 00:05:42  [ http-bio-8080-exec-6:5241612 ] - [ DEBUG ]  Triggering afterCommit synchronization
2016-05-25 00:05:42  [ http-bio-8080-exec-6:5241612 ] - [ DEBUG ]  Triggering afterCompletion synchronization
2016-05-25 00:05:42  [ http-bio-8080-exec-6:5241613 ] - [ DEBUG ]  Clearing transaction synchronization
2016-05-25 00:05:42  [ http-bio-8080-exec-6:5241613 ] - [ DEBUG ]  Removed value [org.springframework.orm.hibernate3.SessionHolder@a2673c6] for key [org.hibernate.impl.SessionFactoryImpl@40fc29d7] from thread [http-bio-8080-exec-6]
2016-05-25 00:05:42  [ http-bio-8080-exec-6:5241617 ] - [ DEBUG ]  Removed value [org.springframework.jdbc.datasource.ConnectionHolder@97048a0] for key [com.mchange.v2.c3p0.ComboPooledDataSource@87409cf[ acquireIncrement -> 3, acquireRetryAttempts -> 30, acquireRetryDelay -> 1000, autoCommitOnClose -> false, automaticTestTable -> null, breakAfterAcquireFailure -> false, checkoutTimeout -> 0, connectionTesterClassName -> com.mchange.v2.c3p0.impl.DefaultConnectionTester, description -> null, driverClass -> com.mysql.jdbc.Driver, factoryClassLocation -> null, forceIgnoreUnresolvedTransactions -> false, identityToken -> 87409cf, idleConnectionTestPeriod -> -1, initialPoolSize -> 3, jdbcUrl -> jdbc:mysql://localhost:3306/hospital?characterEncoding=utf-8, loginTimeout -> 0, maxIdleTime -> 0, maxPoolSize -> 15, maxStatements -> 0, maxStatementsPerConnection -> 0, minPoolSize -> 3, numHelperThreads -> 3, preferredTestQuery -> null, properties -> {user=******, password=******}, propertyCycle -> 300, testConnectionOnCheckin -> false, testConnectionOnCheckout -> false, usesTraditionalReflectiveProxies -> false ]] from thread [http-bio-8080-exec-6]
2016-05-25 00:05:42  [ http-bio-8080-exec-6:5241617 ] - [ DEBUG ]  Closing Hibernate Session [org.hibernate.impl.SessionImpl@15447f19] after transaction
2016-05-25 00:05:42  [ http-bio-8080-exec-6:5241618 ] - [ DEBUG ]  Closing Hibernate Session
2016-05-25 00:05:42  [ http-bio-8080-exec-6:5241618 ] - [ DEBUG ]  releasing JDBC connection [ (open PreparedStatements: 0, globally: 0) (open ResultSets: 0, globally: 0)]
2016-05-25 00:05:42  [ http-bio-8080-exec-6:5241618 ] - [ DEBUG ]  trace com.mchange.v2.resourcepool.BasicResourcePool@1ed5eb39 [managed: 3, unused: 2, excluded: 0] (e.g. com.mchange.v2.c3p0.impl.NewPooledConnection@7303eee0)
2016-05-25 00:05:42  [ http-bio-8080-exec-6:5241619 ] - [ DEBUG ]  transaction completed on session with on_close connection release mode; be sure to close the session to release JDBC resources!
2016-05-25 00:05:42  [ http-bio-8080-exec-6:5241619 ] - [ DEBUG ]  Using transaction object [org.springframework.orm.hibernate3.HibernateTransactionManager$HibernateTransactionObject@6c001afa]
2016-05-25 00:05:42  [ http-bio-8080-exec-6:5241619 ] - [ DEBUG ]  Creating new transaction with name [service.RegistrationService.findRegistrations]
2016-05-25 00:05:42  [ http-bio-8080-exec-6:5241620 ] - [ DEBUG ]  opened session at timestamp: 14641059422
2016-05-25 00:05:42  [ http-bio-8080-exec-6:5241620 ] - [ DEBUG ]  Opened new Session [org.hibernate.impl.SessionImpl@2192f3a7] for Hibernate transaction
2016-05-25 00:05:42  [ http-bio-8080-exec-6:5241620 ] - [ DEBUG ]  Preparing JDBC Connection of Hibernate Session [org.hibernate.impl.SessionImpl@2192f3a7]
2016-05-25 00:05:42  [ http-bio-8080-exec-6:5241621 ] - [ DEBUG ]  begin
2016-05-25 00:05:42  [ http-bio-8080-exec-6:5241621 ] - [ DEBUG ]  opening JDBC connection
2016-05-25 00:05:42  [ http-bio-8080-exec-6:5241621 ] - [ DEBUG ]  trace com.mchange.v2.resourcepool.BasicResourcePool@1ed5eb39 [managed: 3, unused: 2, excluded: 0] (e.g. com.mchange.v2.c3p0.impl.NewPooledConnection@7303eee0)
2016-05-25 00:05:42  [ http-bio-8080-exec-6:5241621 ] - [ DEBUG ]  current autocommit status: true
2016-05-25 00:05:42  [ http-bio-8080-exec-6:5241622 ] - [ DEBUG ]  disabling autocommit
2016-05-25 00:05:42  [ http-bio-8080-exec-6:5241623 ] - [ DEBUG ]  Exposing Hibernate transaction as JDBC transaction [com.mchange.v2.c3p0.impl.NewProxyConnection@3c5f8929]
2016-05-25 00:05:42  [ http-bio-8080-exec-6:5241627 ] - [ DEBUG ]  Bound value [org.springframework.jdbc.datasource.ConnectionHolder@3b3a6644] for key [com.mchange.v2.c3p0.ComboPooledDataSource@87409cf[ acquireIncrement -> 3, acquireRetryAttempts -> 30, acquireRetryDelay -> 1000, autoCommitOnClose -> false, automaticTestTable -> null, breakAfterAcquireFailure -> false, checkoutTimeout -> 0, connectionTesterClassName -> com.mchange.v2.c3p0.impl.DefaultConnectionTester, description -> null, driverClass -> com.mysql.jdbc.Driver, factoryClassLocation -> null, forceIgnoreUnresolvedTransactions -> false, identityToken -> 87409cf, idleConnectionTestPeriod -> -1, initialPoolSize -> 3, jdbcUrl -> jdbc:mysql://localhost:3306/hospital?characterEncoding=utf-8, loginTimeout -> 0, maxIdleTime -> 0, maxPoolSize -> 15, maxStatements -> 0, maxStatementsPerConnection -> 0, minPoolSize -> 3, numHelperThreads -> 3, preferredTestQuery -> null, properties -> {user=******, password=******}, propertyCycle -> 300, testConnectionOnCheckin -> false, testConnectionOnCheckout -> false, usesTraditionalReflectiveProxies -> false ]] to thread [http-bio-8080-exec-6]
2016-05-25 00:05:42  [ http-bio-8080-exec-6:5241627 ] - [ DEBUG ]  Bound value [org.springframework.orm.hibernate3.SessionHolder@41c81bb5] for key [org.hibernate.impl.SessionFactoryImpl@40fc29d7] to thread [http-bio-8080-exec-6]
2016-05-25 00:05:42  [ http-bio-8080-exec-6:5241627 ] - [ DEBUG ]  Initializing transaction synchronization
2016-05-25 00:05:42  [ http-bio-8080-exec-6:5241628 ] - [ DEBUG ]  Getting transaction for service.RegistrationService.findRegistrations
2016-05-25 00:05:42  [ http-bio-8080-exec-6:5241628 ] - [ DEBUG ]  Retrieved value [org.springframework.orm.hibernate3.SessionHolder@41c81bb5] for key [org.hibernate.impl.SessionFactoryImpl@40fc29d7] bound to thread [http-bio-8080-exec-6]
2016-05-25 00:05:42  [ http-bio-8080-exec-6:5241628 ] - [ DEBUG ]  about to open PreparedStatement (open PreparedStatements: 0, globally: 0)
2016-05-25 00:05:42  [ http-bio-8080-exec-6:5241629 ] - [ DEBUG ]  
    select
        r.id id,
        u.user_name userName ,
        p.begin_time beginTime 
    from
        registration r 
    join
        doctor do 
    join
        department de 
    join
        user u 
    join
        period p  
    where
        r.doctor_id=do.id 
        and r.department_id = de.id 
        and r.user_id=u.user_id 
        and r.period_id=p.id  
        and  do.name=? 
        and p.date=? 
        and  p.begin_time>=? 
        and p.begin_time<=?
2016-05-25 00:05:42  [ http-bio-8080-exec-6:5241630 ] - [ DEBUG ]  bindNamedParameters() 11:00:00 -> lastPeriodBegin [4]
2016-05-25 00:05:42  [ http-bio-8080-exec-6:5241630 ] - [ DEBUG ]  bindNamedParameters() Ë¬¸ç -> doctorName [1]
2016-05-25 00:05:42  [ http-bio-8080-exec-6:5241630 ] - [ DEBUG ]  bindNamedParameters() 2016-05-04 -> date [2]
2016-05-25 00:05:42  [ http-bio-8080-exec-6:5241631 ] - [ DEBUG ]  bindNamedParameters() 09:00:00 -> firstPeriodBegin [3]
2016-05-25 00:05:42  [ http-bio-8080-exec-6:5241632 ] - [ DEBUG ]  about to open ResultSet (open ResultSets: 0, globally: 0)
2016-05-25 00:05:42  [ http-bio-8080-exec-6:5241632 ] - [ DEBUG ]  result row: 
2016-05-25 00:05:42  [ http-bio-8080-exec-6:5241632 ] - [ DEBUG ]  result row: 
2016-05-25 00:05:42  [ http-bio-8080-exec-6:5241633 ] - [ DEBUG ]  about to close ResultSet (open ResultSets: 1, globally: 1)
2016-05-25 00:05:42  [ http-bio-8080-exec-6:5241633 ] - [ DEBUG ]  about to close PreparedStatement (open PreparedStatements: 1, globally: 1)
2016-05-25 00:05:42  [ http-bio-8080-exec-6:5241633 ] - [ DEBUG ]  initializing non-lazy collections
2016-05-25 00:05:42  [ http-bio-8080-exec-6:5241634 ] - [ DEBUG ]  Invoking commit for transaction on service.RegistrationService.findRegistrations
2016-05-25 00:05:42  [ http-bio-8080-exec-6:5241634 ] - [ DEBUG ]  Triggering beforeCommit synchronization
2016-05-25 00:05:42  [ http-bio-8080-exec-6:5241635 ] - [ DEBUG ]  Triggering beforeCompletion synchronization
2016-05-25 00:05:42  [ http-bio-8080-exec-6:5241635 ] - [ DEBUG ]  Initiating transaction commit
2016-05-25 00:05:42  [ http-bio-8080-exec-6:5241635 ] - [ DEBUG ]  Committing Hibernate transaction on Session [org.hibernate.impl.SessionImpl@2192f3a7]
2016-05-25 00:05:42  [ http-bio-8080-exec-6:5241636 ] - [ DEBUG ]  commit
2016-05-25 00:05:42  [ http-bio-8080-exec-6:5241636 ] - [ DEBUG ]  re-enabling autocommit
2016-05-25 00:05:42  [ http-bio-8080-exec-6:5241637 ] - [ DEBUG ]  committed JDBC Connection
2016-05-25 00:05:42  [ http-bio-8080-exec-6:5241637 ] - [ DEBUG ]  transaction completed on session with on_close connection release mode; be sure to close the session to release JDBC resources!
2016-05-25 00:05:42  [ http-bio-8080-exec-6:5241638 ] - [ DEBUG ]  Triggering afterCommit synchronization
2016-05-25 00:05:42  [ http-bio-8080-exec-6:5241638 ] - [ DEBUG ]  Triggering afterCompletion synchronization
2016-05-25 00:05:42  [ http-bio-8080-exec-6:5241638 ] - [ DEBUG ]  Clearing transaction synchronization
2016-05-25 00:05:42  [ http-bio-8080-exec-6:5241639 ] - [ DEBUG ]  Removed value [org.springframework.orm.hibernate3.SessionHolder@41c81bb5] for key [org.hibernate.impl.SessionFactoryImpl@40fc29d7] from thread [http-bio-8080-exec-6]
2016-05-25 00:05:42  [ http-bio-8080-exec-6:5241643 ] - [ DEBUG ]  Removed value [org.springframework.jdbc.datasource.ConnectionHolder@3b3a6644] for key [com.mchange.v2.c3p0.ComboPooledDataSource@87409cf[ acquireIncrement -> 3, acquireRetryAttempts -> 30, acquireRetryDelay -> 1000, autoCommitOnClose -> false, automaticTestTable -> null, breakAfterAcquireFailure -> false, checkoutTimeout -> 0, connectionTesterClassName -> com.mchange.v2.c3p0.impl.DefaultConnectionTester, description -> null, driverClass -> com.mysql.jdbc.Driver, factoryClassLocation -> null, forceIgnoreUnresolvedTransactions -> false, identityToken -> 87409cf, idleConnectionTestPeriod -> -1, initialPoolSize -> 3, jdbcUrl -> jdbc:mysql://localhost:3306/hospital?characterEncoding=utf-8, loginTimeout -> 0, maxIdleTime -> 0, maxPoolSize -> 15, maxStatements -> 0, maxStatementsPerConnection -> 0, minPoolSize -> 3, numHelperThreads -> 3, preferredTestQuery -> null, properties -> {user=******, password=******}, propertyCycle -> 300, testConnectionOnCheckin -> false, testConnectionOnCheckout -> false, usesTraditionalReflectiveProxies -> false ]] from thread [http-bio-8080-exec-6]
2016-05-25 00:05:42  [ http-bio-8080-exec-6:5241643 ] - [ DEBUG ]  Closing Hibernate Session [org.hibernate.impl.SessionImpl@2192f3a7] after transaction
2016-05-25 00:05:42  [ http-bio-8080-exec-6:5241643 ] - [ DEBUG ]  Closing Hibernate Session
2016-05-25 00:05:42  [ http-bio-8080-exec-6:5241643 ] - [ DEBUG ]  releasing JDBC connection [ (open PreparedStatements: 0, globally: 0) (open ResultSets: 0, globally: 0)]
2016-05-25 00:05:42  [ http-bio-8080-exec-6:5241644 ] - [ DEBUG ]  trace com.mchange.v2.resourcepool.BasicResourcePool@1ed5eb39 [managed: 3, unused: 2, excluded: 0] (e.g. com.mchange.v2.c3p0.impl.NewPooledConnection@7303eee0)
2016-05-25 00:05:42  [ http-bio-8080-exec-6:5241644 ] - [ DEBUG ]  transaction completed on session with on_close connection release mode; be sure to close the session to release JDBC resources!
2016-05-25 00:05:42  [ http-bio-8080-exec-6:5241645 ] - [ DEBUG ]  [JSON]{"periods":"success","registrations":"success"}
2016-05-25 00:05:42  [ http-bio-8080-exec-6:5241645 ] - [ DEBUG ]  after Locale=zh_CN
2016-05-25 00:05:42  [ http-bio-8080-exec-6:5241645 ] - [ DEBUG ]  intercept } 
2016-05-25 00:05:54  [ http-bio-8080-exec-6:5254021 ] - [ DEBUG ]  Entering nullPropertyValue [target=[com.opensymphony.xwork2.DefaultTextProvider@64b8ecac], property=struts]
2016-05-25 00:05:54  [ http-bio-8080-exec-6:5254022 ] - [ DEBUG ]  Entering nullPropertyValue [target=[com.opensymphony.xwork2.DefaultTextProvider@64b8ecac], property=org]
2016-05-25 00:05:54  [ http-bio-8080-exec-6:5254111 ] - [ DEBUG ]  Entering nullPropertyValue [target=[com.opensymphony.xwork2.DefaultTextProvider@64b8ecac], property=struts]
2016-05-25 00:05:54  [ http-bio-8080-exec-6:5254112 ] - [ DEBUG ]  Entering nullPropertyValue [target=[com.opensymphony.xwork2.DefaultTextProvider@64b8ecac], property=struts]
2016-05-25 00:05:54  [ http-bio-8080-exec-6:5254112 ] - [ DEBUG ]  Creating an DefaultActionProxy for namespace / and action name getPeriods
2016-05-25 00:05:54  [ http-bio-8080-exec-6:5254112 ] - [ DEBUG ]  No bean named 'action.HandleAction' found in org.springframework.beans.factory.support.DefaultListableBeanFactory defining beans [dataSource,sessionFactory,userDao,doctorDao,departmentDao,hospitalDao,periodDao,scheduleDao,registrationDao,workTimeDao,doctorService,registrationService,periodService,scheduleService,workTimeService,transactionManager,transactionInterceptor,ProxyCreator,doctorName,sex,hospital,department,tel,getPeriods,getRegistrations,mark,insert]; root of BeanFactory hierarchy
2016-05-25 00:05:54  [ http-bio-8080-exec-6:5254113 ] - [ DEBUG ]  Creating [java.util.LinkedHashMap]
2016-05-25 00:05:54  [ http-bio-8080-exec-6:5254113 ] - [ DEBUG ]  Creating [java.util.LinkedHashMap]
2016-05-25 00:05:54  [ http-bio-8080-exec-6:5254114 ] - [ DEBUG ]  Using cached introspection results for class [action.HandleAction]
2016-05-25 00:05:54  [ http-bio-8080-exec-6:5254114 ] - [ DEBUG ]  Bean 'action.HandleAction' instantiated via constructor [public action.HandleAction()]
2016-05-25 00:05:54  [ http-bio-8080-exec-6:5254114 ] - [ DEBUG ]  Invoking BeanPostProcessors before initialization of bean 'action.HandleAction'
2016-05-25 00:05:54  [ http-bio-8080-exec-6:5254114 ] - [ DEBUG ]  Invoking BeanPostProcessors after initialization of bean 'action.HandleAction'
2016-05-25 00:05:54  [ http-bio-8080-exec-6:5254115 ] - [ DEBUG ]  Using cached introspection results for class [action.HandleAction]
2016-05-25 00:05:54  [ http-bio-8080-exec-6:5254115 ] - [ DEBUG ]  Not autowiring property 'actionErrors' of bean 'action.HandleAction' by name: no matching bean found
2016-05-25 00:05:54  [ http-bio-8080-exec-6:5254115 ] - [ DEBUG ]  Not autowiring property 'actionMessages' of bean 'action.HandleAction' by name: no matching bean found
2016-05-25 00:05:54  [ http-bio-8080-exec-6:5254115 ] - [ DEBUG ]  Not autowiring property 'fieldErrors' of bean 'action.HandleAction' by name: no matching bean found
2016-05-25 00:05:54  [ http-bio-8080-exec-6:5254116 ] - [ DEBUG ]  Returning cached instance of singleton bean 'registrationService'
2016-05-25 00:05:54  [ http-bio-8080-exec-6:5254116 ] - [ DEBUG ]  Added autowiring by name from bean name 'action.HandleAction' via property 'registrationService' to bean named 'registrationService'
2016-05-25 00:05:54  [ http-bio-8080-exec-6:5254116 ] - [ DEBUG ]  Returning cached instance of singleton bean 'scheduleService'
2016-05-25 00:05:54  [ http-bio-8080-exec-6:5254116 ] - [ DEBUG ]  Added autowiring by name from bean name 'action.HandleAction' via property 'scheduleService' to bean named 'scheduleService'
2016-05-25 00:05:54  [ http-bio-8080-exec-6:5254117 ] - [ DEBUG ]  Creating [java.util.LinkedHashMap]
2016-05-25 00:05:54  [ http-bio-8080-exec-6:5254118 ] - [ DEBUG ]  About to invoke write method [public void action.HandleAction.setRegistrationService(service.RegistrationService)] on object of class [action.HandleAction]
2016-05-25 00:05:54  [ http-bio-8080-exec-6:5254118 ] - [ DEBUG ]  Invoked write method [public void action.HandleAction.setRegistrationService(service.RegistrationService)] with value of type [service.RegistrationService]
2016-05-25 00:05:54  [ http-bio-8080-exec-6:5254119 ] - [ DEBUG ]  About to invoke write method [public void action.HandleAction.setScheduleService(service.ScheduleService)] on object of class [action.HandleAction]
2016-05-25 00:05:54  [ http-bio-8080-exec-6:5254119 ] - [ DEBUG ]  Invoked write method [public void action.HandleAction.setScheduleService(service.ScheduleService)] with value of type [service.ScheduleService]
2016-05-25 00:05:54  [ http-bio-8080-exec-6:5254119 ] - [ DEBUG ]  intercept '//getPeriods' { 
2016-05-25 00:05:54  [ http-bio-8080-exec-6:5254120 ] - [ DEBUG ]  applied invocation context locale=zh_CN
2016-05-25 00:05:54  [ http-bio-8080-exec-6:5254120 ] - [ DEBUG ]  before Locale=zh_CN
2016-05-25 00:05:54  [ http-bio-8080-exec-6:5254120 ] - [ DEBUG ]  Entering nullPropertyValue [target=[action.HandleAction@28690035, com.opensymphony.xwork2.DefaultTextProvider@64b8ecac], property=struts]
2016-05-25 00:05:54  [ http-bio-8080-exec-6:5254121 ] - [ DEBUG ]  Bypassing //getPeriods
2016-05-25 00:05:54  [ http-bio-8080-exec-6:5254121 ] - [ DEBUG ]  Setting static parameters {}
2016-05-25 00:05:54  [ http-bio-8080-exec-6:5254123 ] - [ DEBUG ]  Setting params NONE
2016-05-25 00:05:54  [ http-bio-8080-exec-6:5254123 ] - [ DEBUG ]  Setting params doctorName => [ Ë¬¸ç ] 
2016-05-25 00:05:54  [ http-bio-8080-exec-6:5254124 ] - [ DEBUG ]  Validating //getPeriods with method getPeriods.
2016-05-25 00:05:54  [ http-bio-8080-exec-6:5254125 ] - [ DEBUG ]  Invoking validate() on action action.HandleAction@28690035
2016-05-25 00:05:54  [ http-bio-8080-exec-6:5254125 ] - [ DEBUG ]  cannot find method [validateGetPeriods] in action [action.HandleAction@28690035]
2016-05-25 00:05:54  [ http-bio-8080-exec-6:5254126 ] - [ DEBUG ]  cannot find method [validateDoGetPeriods] in action [action.HandleAction@28690035]
2016-05-25 00:05:54  [ http-bio-8080-exec-6:5254126 ] - [ DEBUG ]  Executing action method = getPeriods
2016-05-25 00:05:54  [ http-bio-8080-exec-6:5254126 ] - [ DEBUG ]  Using transaction object [org.springframework.orm.hibernate3.HibernateTransactionManager$HibernateTransactionObject@f84ebc5]
2016-05-25 00:05:54  [ http-bio-8080-exec-6:5254127 ] - [ DEBUG ]  Creating new transaction with name [service.ScheduleService.findPeriods]
2016-05-25 00:05:54  [ http-bio-8080-exec-6:5254127 ] - [ DEBUG ]  opened session at timestamp: 14641059548
2016-05-25 00:05:54  [ http-bio-8080-exec-6:5254128 ] - [ DEBUG ]  Opened new Session [org.hibernate.impl.SessionImpl@22431896] for Hibernate transaction
2016-05-25 00:05:54  [ http-bio-8080-exec-6:5254128 ] - [ DEBUG ]  Preparing JDBC Connection of Hibernate Session [org.hibernate.impl.SessionImpl@22431896]
2016-05-25 00:05:54  [ http-bio-8080-exec-6:5254128 ] - [ DEBUG ]  begin
2016-05-25 00:05:54  [ http-bio-8080-exec-6:5254129 ] - [ DEBUG ]  opening JDBC connection
2016-05-25 00:05:54  [ http-bio-8080-exec-6:5254129 ] - [ DEBUG ]  trace com.mchange.v2.resourcepool.BasicResourcePool@1ed5eb39 [managed: 3, unused: 2, excluded: 0] (e.g. com.mchange.v2.c3p0.impl.NewPooledConnection@7303eee0)
2016-05-25 00:05:54  [ http-bio-8080-exec-6:5254130 ] - [ DEBUG ]  current autocommit status: true
2016-05-25 00:05:54  [ http-bio-8080-exec-6:5254130 ] - [ DEBUG ]  disabling autocommit
2016-05-25 00:05:54  [ http-bio-8080-exec-6:5254131 ] - [ DEBUG ]  Exposing Hibernate transaction as JDBC transaction [com.mchange.v2.c3p0.impl.NewProxyConnection@1abb25ce]
2016-05-25 00:05:54  [ http-bio-8080-exec-6:5254136 ] - [ DEBUG ]  Bound value [org.springframework.jdbc.datasource.ConnectionHolder@e7764da] for key [com.mchange.v2.c3p0.ComboPooledDataSource@87409cf[ acquireIncrement -> 3, acquireRetryAttempts -> 30, acquireRetryDelay -> 1000, autoCommitOnClose -> false, automaticTestTable -> null, breakAfterAcquireFailure -> false, checkoutTimeout -> 0, connectionTesterClassName -> com.mchange.v2.c3p0.impl.DefaultConnectionTester, description -> null, driverClass -> com.mysql.jdbc.Driver, factoryClassLocation -> null, forceIgnoreUnresolvedTransactions -> false, identityToken -> 87409cf, idleConnectionTestPeriod -> -1, initialPoolSize -> 3, jdbcUrl -> jdbc:mysql://localhost:3306/hospital?characterEncoding=utf-8, loginTimeout -> 0, maxIdleTime -> 0, maxPoolSize -> 15, maxStatements -> 0, maxStatementsPerConnection -> 0, minPoolSize -> 3, numHelperThreads -> 3, preferredTestQuery -> null, properties -> {user=******, password=******}, propertyCycle -> 300, testConnectionOnCheckin -> false, testConnectionOnCheckout -> false, usesTraditionalReflectiveProxies -> false ]] to thread [http-bio-8080-exec-6]
2016-05-25 00:05:54  [ http-bio-8080-exec-6:5254136 ] - [ DEBUG ]  Bound value [org.springframework.orm.hibernate3.SessionHolder@1b62781b] for key [org.hibernate.impl.SessionFactoryImpl@40fc29d7] to thread [http-bio-8080-exec-6]
2016-05-25 00:05:54  [ http-bio-8080-exec-6:5254137 ] - [ DEBUG ]  Initializing transaction synchronization
2016-05-25 00:05:54  [ http-bio-8080-exec-6:5254137 ] - [ DEBUG ]  Getting transaction for service.ScheduleService.findPeriods
2016-05-25 00:05:54  [ http-bio-8080-exec-6:5254137 ] - [ DEBUG ]  Retrieved value [org.springframework.orm.hibernate3.SessionHolder@1b62781b] for key [org.hibernate.impl.SessionFactoryImpl@40fc29d7] bound to thread [http-bio-8080-exec-6]
2016-05-25 00:05:54  [ http-bio-8080-exec-6:5254138 ] - [ DEBUG ]  about to open PreparedStatement (open PreparedStatements: 0, globally: 0)
2016-05-25 00:05:54  [ http-bio-8080-exec-6:5254138 ] - [ DEBUG ]  
    select
        p.* 
    from
        doctor d 
    join
        schedule s 
    join
        period p 
    where
        s.doctor_id=d.id 
        and s.period_id=p.id 
        and d.name= ?
2016-05-25 00:05:54  [ http-bio-8080-exec-6:5254139 ] - [ DEBUG ]  bindNamedParameters() Ë¬¸ç -> doctorName [1]
2016-05-25 00:05:54  [ http-bio-8080-exec-6:5254141 ] - [ DEBUG ]  about to open ResultSet (open ResultSets: 0, globally: 0)
2016-05-25 00:05:54  [ http-bio-8080-exec-6:5254142 ] - [ DEBUG ]  result row: EntityKey[persistance.Period#1]
2016-05-25 00:05:54  [ http-bio-8080-exec-6:5254143 ] - [ DEBUG ]  result row: EntityKey[persistance.Period#2]
2016-05-25 00:05:54  [ http-bio-8080-exec-6:5254143 ] - [ DEBUG ]  result row: EntityKey[persistance.Period#3]
2016-05-25 00:05:54  [ http-bio-8080-exec-6:5254144 ] - [ DEBUG ]  about to close ResultSet (open ResultSets: 1, globally: 1)
2016-05-25 00:05:54  [ http-bio-8080-exec-6:5254144 ] - [ DEBUG ]  about to close PreparedStatement (open PreparedStatements: 1, globally: 1)
2016-05-25 00:05:54  [ http-bio-8080-exec-6:5254146 ] - [ DEBUG ]  resolving associations for [persistance.Period#1]
2016-05-25 00:05:54  [ http-bio-8080-exec-6:5254146 ] - [ DEBUG ]  done materializing entity [persistance.Period#1]
2016-05-25 00:05:54  [ http-bio-8080-exec-6:5254147 ] - [ DEBUG ]  resolving associations for [persistance.Period#2]
2016-05-25 00:05:54  [ http-bio-8080-exec-6:5254148 ] - [ DEBUG ]  done materializing entity [persistance.Period#2]
2016-05-25 00:05:54  [ http-bio-8080-exec-6:5254149 ] - [ DEBUG ]  resolving associations for [persistance.Period#3]
2016-05-25 00:05:54  [ http-bio-8080-exec-6:5254149 ] - [ DEBUG ]  done materializing entity [persistance.Period#3]
2016-05-25 00:05:54  [ http-bio-8080-exec-6:5254150 ] - [ DEBUG ]  initializing non-lazy collections
2016-05-25 00:05:54  [ http-bio-8080-exec-6:5254152 ] - [ DEBUG ]  Invoking commit for transaction on service.ScheduleService.findPeriods
2016-05-25 00:05:54  [ http-bio-8080-exec-6:5254152 ] - [ DEBUG ]  Triggering beforeCommit synchronization
2016-05-25 00:05:54  [ http-bio-8080-exec-6:5254153 ] - [ DEBUG ]  Triggering beforeCompletion synchronization
2016-05-25 00:05:54  [ http-bio-8080-exec-6:5254153 ] - [ DEBUG ]  Initiating transaction commit
2016-05-25 00:05:54  [ http-bio-8080-exec-6:5254153 ] - [ DEBUG ]  Committing Hibernate transaction on Session [org.hibernate.impl.SessionImpl@22431896]
2016-05-25 00:05:54  [ http-bio-8080-exec-6:5254154 ] - [ DEBUG ]  commit
2016-05-25 00:05:54  [ http-bio-8080-exec-6:5254154 ] - [ DEBUG ]  processing flush-time cascades
2016-05-25 00:05:54  [ http-bio-8080-exec-6:5254155 ] - [ DEBUG ]  dirty checking collections
2016-05-25 00:05:54  [ http-bio-8080-exec-6:5254155 ] - [ DEBUG ]  Collection found: [persistance.Period.schedules#1], was: [persistance.Period.schedules#1] (uninitialized)
2016-05-25 00:05:54  [ http-bio-8080-exec-6:5254156 ] - [ DEBUG ]  Collection found: [persistance.Period.workTimes#1], was: [persistance.Period.workTimes#1] (uninitialized)
2016-05-25 00:05:54  [ http-bio-8080-exec-6:5254156 ] - [ DEBUG ]  Collection found: [persistance.Period.registrations#1], was: [persistance.Period.registrations#1] (uninitialized)
2016-05-25 00:05:54  [ http-bio-8080-exec-6:5254157 ] - [ DEBUG ]  Collection found: [persistance.Period.schedules_1#1], was: [persistance.Period.schedules_1#1] (uninitialized)
2016-05-25 00:05:54  [ http-bio-8080-exec-6:5254157 ] - [ DEBUG ]  Collection found: [persistance.Period.registrations_1#1], was: [persistance.Period.registrations_1#1] (uninitialized)
2016-05-25 00:05:54  [ http-bio-8080-exec-6:5254159 ] - [ DEBUG ]  Collection found: [persistance.Period.schedules#2], was: [persistance.Period.schedules#2] (uninitialized)
2016-05-25 00:05:54  [ http-bio-8080-exec-6:5254159 ] - [ DEBUG ]  Collection found: [persistance.Period.workTimes#2], was: [persistance.Period.workTimes#2] (uninitialized)
2016-05-25 00:05:54  [ http-bio-8080-exec-6:5254160 ] - [ DEBUG ]  Collection found: [persistance.Period.registrations#2], was: [persistance.Period.registrations#2] (uninitialized)
2016-05-25 00:05:54  [ http-bio-8080-exec-6:5254160 ] - [ DEBUG ]  Collection found: [persistance.Period.schedules_1#2], was: [persistance.Period.schedules_1#2] (uninitialized)
2016-05-25 00:05:54  [ http-bio-8080-exec-6:5254161 ] - [ DEBUG ]  Collection found: [persistance.Period.registrations_1#2], was: [persistance.Period.registrations_1#2] (uninitialized)
2016-05-25 00:05:54  [ http-bio-8080-exec-6:5254161 ] - [ DEBUG ]  Collection found: [persistance.Period.schedules#3], was: [persistance.Period.schedules#3] (uninitialized)
2016-05-25 00:05:54  [ http-bio-8080-exec-6:5254162 ] - [ DEBUG ]  Collection found: [persistance.Period.workTimes#3], was: [persistance.Period.workTimes#3] (uninitialized)
2016-05-25 00:05:54  [ http-bio-8080-exec-6:5254162 ] - [ DEBUG ]  Collection found: [persistance.Period.registrations#3], was: [persistance.Period.registrations#3] (uninitialized)
2016-05-25 00:05:54  [ http-bio-8080-exec-6:5254162 ] - [ DEBUG ]  Collection found: [persistance.Period.schedules_1#3], was: [persistance.Period.schedules_1#3] (uninitialized)
2016-05-25 00:05:54  [ http-bio-8080-exec-6:5254163 ] - [ DEBUG ]  Collection found: [persistance.Period.registrations_1#3], was: [persistance.Period.registrations_1#3] (uninitialized)
2016-05-25 00:05:54  [ http-bio-8080-exec-6:5254163 ] - [ DEBUG ]  Flushed: 0 insertions, 0 updates, 0 deletions to 3 objects
2016-05-25 00:05:54  [ http-bio-8080-exec-6:5254164 ] - [ DEBUG ]  Flushed: 0 (re)creations, 0 updates, 0 removals to 15 collections
2016-05-25 00:05:54  [ http-bio-8080-exec-6:5254164 ] - [ DEBUG ]  listing entities:
2016-05-25 00:05:54  [ http-bio-8080-exec-6:5254165 ] - [ DEBUG ]  persistance.Period{id=3, registrations_1=<uninitialized>, schedules=<uninitialized>, schedules_1=<uninitialized>, workTimes=<uninitialized>, registrations=<uninitialized>, beginTime=09:00:00, endTime=10:00:00, date=2016-05-21 00:00:00}
2016-05-25 00:05:54  [ http-bio-8080-exec-6:5254166 ] - [ DEBUG ]  persistance.Period{id=1, registrations_1=<uninitialized>, schedules=<uninitialized>, schedules_1=<uninitialized>, workTimes=<uninitialized>, registrations=<uninitialized>, beginTime=09:00:00, endTime=10:00:00, date=2016-05-04 00:00:00}
2016-05-25 00:05:54  [ http-bio-8080-exec-6:5254166 ] - [ DEBUG ]  persistance.Period{id=2, registrations_1=<uninitialized>, schedules=<uninitialized>, schedules_1=<uninitialized>, workTimes=<uninitialized>, registrations=<uninitialized>, beginTime=10:00:00, endTime=11:00:00, date=2016-05-21 00:00:00}
2016-05-25 00:05:54  [ http-bio-8080-exec-6:5254167 ] - [ DEBUG ]  re-enabling autocommit
2016-05-25 00:05:54  [ http-bio-8080-exec-6:5254169 ] - [ DEBUG ]  committed JDBC Connection
2016-05-25 00:05:54  [ http-bio-8080-exec-6:5254170 ] - [ DEBUG ]  transaction completed on session with on_close connection release mode; be sure to close the session to release JDBC resources!
2016-05-25 00:05:54  [ http-bio-8080-exec-6:5254170 ] - [ DEBUG ]  Triggering afterCommit synchronization
2016-05-25 00:05:54  [ http-bio-8080-exec-6:5254171 ] - [ DEBUG ]  Triggering afterCompletion synchronization
2016-05-25 00:05:54  [ http-bio-8080-exec-6:5254171 ] - [ DEBUG ]  Clearing transaction synchronization
2016-05-25 00:05:54  [ http-bio-8080-exec-6:5254172 ] - [ DEBUG ]  Removed value [org.springframework.orm.hibernate3.SessionHolder@1b62781b] for key [org.hibernate.impl.SessionFactoryImpl@40fc29d7] from thread [http-bio-8080-exec-6]
2016-05-25 00:05:54  [ http-bio-8080-exec-6:5254177 ] - [ DEBUG ]  Removed value [org.springframework.jdbc.datasource.ConnectionHolder@e7764da] for key [com.mchange.v2.c3p0.ComboPooledDataSource@87409cf[ acquireIncrement -> 3, acquireRetryAttempts -> 30, acquireRetryDelay -> 1000, autoCommitOnClose -> false, automaticTestTable -> null, breakAfterAcquireFailure -> false, checkoutTimeout -> 0, connectionTesterClassName -> com.mchange.v2.c3p0.impl.DefaultConnectionTester, description -> null, driverClass -> com.mysql.jdbc.Driver, factoryClassLocation -> null, forceIgnoreUnresolvedTransactions -> false, identityToken -> 87409cf, idleConnectionTestPeriod -> -1, initialPoolSize -> 3, jdbcUrl -> jdbc:mysql://localhost:3306/hospital?characterEncoding=utf-8, loginTimeout -> 0, maxIdleTime -> 0, maxPoolSize -> 15, maxStatements -> 0, maxStatementsPerConnection -> 0, minPoolSize -> 3, numHelperThreads -> 3, preferredTestQuery -> null, properties -> {user=******, password=******}, propertyCycle -> 300, testConnectionOnCheckin -> false, testConnectionOnCheckout -> false, usesTraditionalReflectiveProxies -> false ]] from thread [http-bio-8080-exec-6]
2016-05-25 00:05:54  [ http-bio-8080-exec-6:5254178 ] - [ DEBUG ]  Closing Hibernate Session [org.hibernate.impl.SessionImpl@22431896] after transaction
2016-05-25 00:05:54  [ http-bio-8080-exec-6:5254178 ] - [ DEBUG ]  Closing Hibernate Session
2016-05-25 00:05:54  [ http-bio-8080-exec-6:5254179 ] - [ DEBUG ]  releasing JDBC connection [ (open PreparedStatements: 0, globally: 0) (open ResultSets: 0, globally: 0)]
2016-05-25 00:05:54  [ http-bio-8080-exec-6:5254179 ] - [ DEBUG ]  trace com.mchange.v2.resourcepool.BasicResourcePool@1ed5eb39 [managed: 3, unused: 2, excluded: 0] (e.g. com.mchange.v2.c3p0.impl.NewPooledConnection@7303eee0)
2016-05-25 00:05:54  [ http-bio-8080-exec-6:5254180 ] - [ DEBUG ]  transaction completed on session with on_close connection release mode; be sure to close the session to release JDBC resources!
2016-05-25 00:05:54  [ http-bio-8080-exec-6:5254181 ] - [ DEBUG ]  No bean named 'org.apache.struts2.json.JSONResult' found in org.springframework.beans.factory.support.DefaultListableBeanFactory defining beans [dataSource,sessionFactory,userDao,doctorDao,departmentDao,hospitalDao,periodDao,scheduleDao,registrationDao,workTimeDao,doctorService,registrationService,periodService,scheduleService,workTimeService,transactionManager,transactionInterceptor,ProxyCreator,doctorName,sex,hospital,department,tel,getPeriods,getRegistrations,mark,insert]; root of BeanFactory hierarchy
2016-05-25 00:05:54  [ http-bio-8080-exec-6:5254181 ] - [ DEBUG ]  Creating [java.util.LinkedHashMap]
2016-05-25 00:05:54  [ http-bio-8080-exec-6:5254182 ] - [ DEBUG ]  Creating [java.util.LinkedHashMap]
2016-05-25 00:05:54  [ http-bio-8080-exec-6:5254182 ] - [ DEBUG ]  Using cached introspection results for class [org.apache.struts2.json.JSONResult]
2016-05-25 00:05:54  [ http-bio-8080-exec-6:5254183 ] - [ DEBUG ]  Bean 'org.apache.struts2.json.JSONResult' instantiated via constructor [public org.apache.struts2.json.JSONResult()]
2016-05-25 00:05:54  [ http-bio-8080-exec-6:5254183 ] - [ DEBUG ]  Invoking BeanPostProcessors before initialization of bean 'org.apache.struts2.json.JSONResult'
2016-05-25 00:05:54  [ http-bio-8080-exec-6:5254184 ] - [ DEBUG ]  Invoking BeanPostProcessors after initialization of bean 'org.apache.struts2.json.JSONResult'
2016-05-25 00:05:54  [ http-bio-8080-exec-6:5254184 ] - [ DEBUG ]  Using cached introspection results for class [org.apache.struts2.json.JSONResult]
2016-05-25 00:05:54  [ http-bio-8080-exec-6:5254185 ] - [ DEBUG ]  Creating [java.util.LinkedHashMap]
2016-05-25 00:05:54  [ http-bio-8080-exec-6:5254188 ] - [ DEBUG ]  Using transaction object [org.springframework.orm.hibernate3.HibernateTransactionManager$HibernateTransactionObject@2131c3c]
2016-05-25 00:05:54  [ http-bio-8080-exec-6:5254189 ] - [ DEBUG ]  Creating new transaction with name [service.ScheduleService.findPeriods]
2016-05-25 00:05:54  [ http-bio-8080-exec-6:5254189 ] - [ DEBUG ]  opened session at timestamp: 14641059548
2016-05-25 00:05:54  [ http-bio-8080-exec-6:5254190 ] - [ DEBUG ]  Opened new Session [org.hibernate.impl.SessionImpl@4bd509db] for Hibernate transaction
2016-05-25 00:05:54  [ http-bio-8080-exec-6:5254191 ] - [ DEBUG ]  Preparing JDBC Connection of Hibernate Session [org.hibernate.impl.SessionImpl@4bd509db]
2016-05-25 00:05:54  [ http-bio-8080-exec-6:5254191 ] - [ DEBUG ]  begin
2016-05-25 00:05:54  [ http-bio-8080-exec-6:5254192 ] - [ DEBUG ]  opening JDBC connection
2016-05-25 00:05:54  [ http-bio-8080-exec-6:5254192 ] - [ DEBUG ]  trace com.mchange.v2.resourcepool.BasicResourcePool@1ed5eb39 [managed: 3, unused: 2, excluded: 0] (e.g. com.mchange.v2.c3p0.impl.NewPooledConnection@7303eee0)
2016-05-25 00:05:54  [ http-bio-8080-exec-6:5254192 ] - [ DEBUG ]  current autocommit status: true
2016-05-25 00:05:54  [ http-bio-8080-exec-6:5254193 ] - [ DEBUG ]  disabling autocommit
2016-05-25 00:05:54  [ http-bio-8080-exec-6:5254193 ] - [ DEBUG ]  Exposing Hibernate transaction as JDBC transaction [com.mchange.v2.c3p0.impl.NewProxyConnection@15f4fe61]
2016-05-25 00:05:54  [ http-bio-8080-exec-6:5254199 ] - [ DEBUG ]  Bound value [org.springframework.jdbc.datasource.ConnectionHolder@653ed2d2] for key [com.mchange.v2.c3p0.ComboPooledDataSource@87409cf[ acquireIncrement -> 3, acquireRetryAttempts -> 30, acquireRetryDelay -> 1000, autoCommitOnClose -> false, automaticTestTable -> null, breakAfterAcquireFailure -> false, checkoutTimeout -> 0, connectionTesterClassName -> com.mchange.v2.c3p0.impl.DefaultConnectionTester, description -> null, driverClass -> com.mysql.jdbc.Driver, factoryClassLocation -> null, forceIgnoreUnresolvedTransactions -> false, identityToken -> 87409cf, idleConnectionTestPeriod -> -1, initialPoolSize -> 3, jdbcUrl -> jdbc:mysql://localhost:3306/hospital?characterEncoding=utf-8, loginTimeout -> 0, maxIdleTime -> 0, maxPoolSize -> 15, maxStatements -> 0, maxStatementsPerConnection -> 0, minPoolSize -> 3, numHelperThreads -> 3, preferredTestQuery -> null, properties -> {user=******, password=******}, propertyCycle -> 300, testConnectionOnCheckin -> false, testConnectionOnCheckout -> false, usesTraditionalReflectiveProxies -> false ]] to thread [http-bio-8080-exec-6]
2016-05-25 00:05:54  [ http-bio-8080-exec-6:5254200 ] - [ DEBUG ]  Bound value [org.springframework.orm.hibernate3.SessionHolder@74c559b3] for key [org.hibernate.impl.SessionFactoryImpl@40fc29d7] to thread [http-bio-8080-exec-6]
2016-05-25 00:05:54  [ http-bio-8080-exec-6:5254200 ] - [ DEBUG ]  Initializing transaction synchronization
2016-05-25 00:05:54  [ http-bio-8080-exec-6:5254201 ] - [ DEBUG ]  Getting transaction for service.ScheduleService.findPeriods
2016-05-25 00:05:54  [ http-bio-8080-exec-6:5254201 ] - [ DEBUG ]  Retrieved value [org.springframework.orm.hibernate3.SessionHolder@74c559b3] for key [org.hibernate.impl.SessionFactoryImpl@40fc29d7] bound to thread [http-bio-8080-exec-6]
2016-05-25 00:05:54  [ http-bio-8080-exec-6:5254202 ] - [ DEBUG ]  about to open PreparedStatement (open PreparedStatements: 0, globally: 0)
2016-05-25 00:05:54  [ http-bio-8080-exec-6:5254202 ] - [ DEBUG ]  
    select
        p.* 
    from
        doctor d 
    join
        schedule s 
    join
        period p 
    where
        s.doctor_id=d.id 
        and s.period_id=p.id 
        and d.name= ?
2016-05-25 00:05:54  [ http-bio-8080-exec-6:5254204 ] - [ DEBUG ]  bindNamedParameters() Ë¬¸ç -> doctorName [1]
2016-05-25 00:05:54  [ http-bio-8080-exec-6:5254205 ] - [ DEBUG ]  about to open ResultSet (open ResultSets: 0, globally: 0)
2016-05-25 00:05:54  [ http-bio-8080-exec-6:5254205 ] - [ DEBUG ]  result row: EntityKey[persistance.Period#1]
2016-05-25 00:05:54  [ http-bio-8080-exec-6:5254206 ] - [ DEBUG ]  result row: EntityKey[persistance.Period#2]
2016-05-25 00:05:54  [ http-bio-8080-exec-6:5254207 ] - [ DEBUG ]  result row: EntityKey[persistance.Period#3]
2016-05-25 00:05:54  [ http-bio-8080-exec-6:5254207 ] - [ DEBUG ]  about to close ResultSet (open ResultSets: 1, globally: 1)
2016-05-25 00:05:54  [ http-bio-8080-exec-6:5254208 ] - [ DEBUG ]  about to close PreparedStatement (open PreparedStatements: 1, globally: 1)
2016-05-25 00:05:54  [ http-bio-8080-exec-6:5254208 ] - [ DEBUG ]  resolving associations for [persistance.Period#1]
2016-05-25 00:05:54  [ http-bio-8080-exec-6:5254209 ] - [ DEBUG ]  done materializing entity [persistance.Period#1]
2016-05-25 00:05:54  [ http-bio-8080-exec-6:5254209 ] - [ DEBUG ]  resolving associations for [persistance.Period#2]
2016-05-25 00:05:54  [ http-bio-8080-exec-6:5254209 ] - [ DEBUG ]  done materializing entity [persistance.Period#2]
2016-05-25 00:05:54  [ http-bio-8080-exec-6:5254210 ] - [ DEBUG ]  resolving associations for [persistance.Period#3]
2016-05-25 00:05:54  [ http-bio-8080-exec-6:5254210 ] - [ DEBUG ]  done materializing entity [persistance.Period#3]
2016-05-25 00:05:54  [ http-bio-8080-exec-6:5254210 ] - [ DEBUG ]  initializing non-lazy collections
2016-05-25 00:05:54  [ http-bio-8080-exec-6:5254211 ] - [ DEBUG ]  Invoking commit for transaction on service.ScheduleService.findPeriods
2016-05-25 00:05:54  [ http-bio-8080-exec-6:5254212 ] - [ DEBUG ]  Triggering beforeCommit synchronization
2016-05-25 00:05:54  [ http-bio-8080-exec-6:5254212 ] - [ DEBUG ]  Triggering beforeCompletion synchronization
2016-05-25 00:05:54  [ http-bio-8080-exec-6:5254212 ] - [ DEBUG ]  Initiating transaction commit
2016-05-25 00:05:54  [ http-bio-8080-exec-6:5254213 ] - [ DEBUG ]  Committing Hibernate transaction on Session [org.hibernate.impl.SessionImpl@4bd509db]
2016-05-25 00:05:54  [ http-bio-8080-exec-6:5254213 ] - [ DEBUG ]  commit
2016-05-25 00:05:54  [ http-bio-8080-exec-6:5254214 ] - [ DEBUG ]  processing flush-time cascades
2016-05-25 00:05:54  [ http-bio-8080-exec-6:5254214 ] - [ DEBUG ]  dirty checking collections
2016-05-25 00:05:54  [ http-bio-8080-exec-6:5254214 ] - [ DEBUG ]  Collection found: [persistance.Period.schedules#1], was: [persistance.Period.schedules#1] (uninitialized)
2016-05-25 00:05:54  [ http-bio-8080-exec-6:5254215 ] - [ DEBUG ]  Collection found: [persistance.Period.workTimes#1], was: [persistance.Period.workTimes#1] (uninitialized)
2016-05-25 00:05:54  [ http-bio-8080-exec-6:5254215 ] - [ DEBUG ]  Collection found: [persistance.Period.registrations#1], was: [persistance.Period.registrations#1] (uninitialized)
2016-05-25 00:05:54  [ http-bio-8080-exec-6:5254215 ] - [ DEBUG ]  Collection found: [persistance.Period.schedules_1#1], was: [persistance.Period.schedules_1#1] (uninitialized)
2016-05-25 00:05:54  [ http-bio-8080-exec-6:5254216 ] - [ DEBUG ]  Collection found: [persistance.Period.registrations_1#1], was: [persistance.Period.registrations_1#1] (uninitialized)
2016-05-25 00:05:54  [ http-bio-8080-exec-6:5254216 ] - [ DEBUG ]  Collection found: [persistance.Period.schedules#2], was: [persistance.Period.schedules#2] (uninitialized)
2016-05-25 00:05:54  [ http-bio-8080-exec-6:5254217 ] - [ DEBUG ]  Collection found: [persistance.Period.workTimes#2], was: [persistance.Period.workTimes#2] (uninitialized)
2016-05-25 00:05:54  [ http-bio-8080-exec-6:5254217 ] - [ DEBUG ]  Collection found: [persistance.Period.registrations#2], was: [persistance.Period.registrations#2] (uninitialized)
2016-05-25 00:05:54  [ http-bio-8080-exec-6:5254218 ] - [ DEBUG ]  Collection found: [persistance.Period.schedules_1#2], was: [persistance.Period.schedules_1#2] (uninitialized)
2016-05-25 00:05:54  [ http-bio-8080-exec-6:5254218 ] - [ DEBUG ]  Collection found: [persistance.Period.registrations_1#2], was: [persistance.Period.registrations_1#2] (uninitialized)
2016-05-25 00:05:54  [ http-bio-8080-exec-6:5254219 ] - [ DEBUG ]  Collection found: [persistance.Period.schedules#3], was: [persistance.Period.schedules#3] (uninitialized)
2016-05-25 00:05:54  [ http-bio-8080-exec-6:5254219 ] - [ DEBUG ]  Collection found: [persistance.Period.workTimes#3], was: [persistance.Period.workTimes#3] (uninitialized)
2016-05-25 00:05:54  [ http-bio-8080-exec-6:5254220 ] - [ DEBUG ]  Collection found: [persistance.Period.registrations#3], was: [persistance.Period.registrations#3] (uninitialized)
2016-05-25 00:05:54  [ http-bio-8080-exec-6:5254220 ] - [ DEBUG ]  Collection found: [persistance.Period.schedules_1#3], was: [persistance.Period.schedules_1#3] (uninitialized)
2016-05-25 00:05:54  [ http-bio-8080-exec-6:5254221 ] - [ DEBUG ]  Collection found: [persistance.Period.registrations_1#3], was: [persistance.Period.registrations_1#3] (uninitialized)
2016-05-25 00:05:54  [ http-bio-8080-exec-6:5254221 ] - [ DEBUG ]  Flushed: 0 insertions, 0 updates, 0 deletions to 3 objects
2016-05-25 00:05:54  [ http-bio-8080-exec-6:5254222 ] - [ DEBUG ]  Flushed: 0 (re)creations, 0 updates, 0 removals to 15 collections
2016-05-25 00:05:54  [ http-bio-8080-exec-6:5254222 ] - [ DEBUG ]  listing entities:
2016-05-25 00:05:54  [ http-bio-8080-exec-6:5254223 ] - [ DEBUG ]  persistance.Period{id=3, registrations_1=<uninitialized>, schedules=<uninitialized>, schedules_1=<uninitialized>, workTimes=<uninitialized>, registrations=<uninitialized>, beginTime=09:00:00, endTime=10:00:00, date=2016-05-21 00:00:00}
2016-05-25 00:05:54  [ http-bio-8080-exec-6:5254223 ] - [ DEBUG ]  persistance.Period{id=1, registrations_1=<uninitialized>, schedules=<uninitialized>, schedules_1=<uninitialized>, workTimes=<uninitialized>, registrations=<uninitialized>, beginTime=09:00:00, endTime=10:00:00, date=2016-05-04 00:00:00}
2016-05-25 00:05:54  [ http-bio-8080-exec-6:5254224 ] - [ DEBUG ]  persistance.Period{id=2, registrations_1=<uninitialized>, schedules=<uninitialized>, schedules_1=<uninitialized>, workTimes=<uninitialized>, registrations=<uninitialized>, beginTime=10:00:00, endTime=11:00:00, date=2016-05-21 00:00:00}
2016-05-25 00:05:54  [ http-bio-8080-exec-6:5254225 ] - [ DEBUG ]  re-enabling autocommit
2016-05-25 00:05:54  [ http-bio-8080-exec-6:5254225 ] - [ DEBUG ]  committed JDBC Connection
2016-05-25 00:05:54  [ http-bio-8080-exec-6:5254226 ] - [ DEBUG ]  transaction completed on session with on_close connection release mode; be sure to close the session to release JDBC resources!
2016-05-25 00:05:54  [ http-bio-8080-exec-6:5254226 ] - [ DEBUG ]  Triggering afterCommit synchronization
2016-05-25 00:05:54  [ http-bio-8080-exec-6:5254227 ] - [ DEBUG ]  Triggering afterCompletion synchronization
2016-05-25 00:05:54  [ http-bio-8080-exec-6:5254227 ] - [ DEBUG ]  Clearing transaction synchronization
2016-05-25 00:05:54  [ http-bio-8080-exec-6:5254227 ] - [ DEBUG ]  Removed value [org.springframework.orm.hibernate3.SessionHolder@74c559b3] for key [org.hibernate.impl.SessionFactoryImpl@40fc29d7] from thread [http-bio-8080-exec-6]
2016-05-25 00:05:54  [ http-bio-8080-exec-6:5254232 ] - [ DEBUG ]  Removed value [org.springframework.jdbc.datasource.ConnectionHolder@653ed2d2] for key [com.mchange.v2.c3p0.ComboPooledDataSource@87409cf[ acquireIncrement -> 3, acquireRetryAttempts -> 30, acquireRetryDelay -> 1000, autoCommitOnClose -> false, automaticTestTable -> null, breakAfterAcquireFailure -> false, checkoutTimeout -> 0, connectionTesterClassName -> com.mchange.v2.c3p0.impl.DefaultConnectionTester, description -> null, driverClass -> com.mysql.jdbc.Driver, factoryClassLocation -> null, forceIgnoreUnresolvedTransactions -> false, identityToken -> 87409cf, idleConnectionTestPeriod -> -1, initialPoolSize -> 3, jdbcUrl -> jdbc:mysql://localhost:3306/hospital?characterEncoding=utf-8, loginTimeout -> 0, maxIdleTime -> 0, maxPoolSize -> 15, maxStatements -> 0, maxStatementsPerConnection -> 0, minPoolSize -> 3, numHelperThreads -> 3, preferredTestQuery -> null, properties -> {user=******, password=******}, propertyCycle -> 300, testConnectionOnCheckin -> false, testConnectionOnCheckout -> false, usesTraditionalReflectiveProxies -> false ]] from thread [http-bio-8080-exec-6]
2016-05-25 00:05:54  [ http-bio-8080-exec-6:5254232 ] - [ DEBUG ]  Closing Hibernate Session [org.hibernate.impl.SessionImpl@4bd509db] after transaction
2016-05-25 00:05:54  [ http-bio-8080-exec-6:5254233 ] - [ DEBUG ]  Closing Hibernate Session
2016-05-25 00:05:54  [ http-bio-8080-exec-6:5254233 ] - [ DEBUG ]  releasing JDBC connection [ (open PreparedStatements: 0, globally: 0) (open ResultSets: 0, globally: 0)]
2016-05-25 00:05:54  [ http-bio-8080-exec-6:5254233 ] - [ DEBUG ]  trace com.mchange.v2.resourcepool.BasicResourcePool@1ed5eb39 [managed: 3, unused: 2, excluded: 0] (e.g. com.mchange.v2.c3p0.impl.NewPooledConnection@7303eee0)
2016-05-25 00:05:54  [ http-bio-8080-exec-6:5254234 ] - [ DEBUG ]  transaction completed on session with on_close connection release mode; be sure to close the session to release JDBC resources!
2016-05-25 00:05:54  [ http-bio-8080-exec-6:5254235 ] - [ DEBUG ]  [JSON]{"periods":"success","registrations":"success"}
2016-05-25 00:05:54  [ http-bio-8080-exec-6:5254235 ] - [ DEBUG ]  after Locale=zh_CN
2016-05-25 00:05:54  [ http-bio-8080-exec-6:5254236 ] - [ DEBUG ]  intercept } 
2016-05-25 00:05:57  [ http-bio-8080-exec-6:5256777 ] - [ DEBUG ]  Entering nullPropertyValue [target=[com.opensymphony.xwork2.DefaultTextProvider@64b8ecac], property=struts]
2016-05-25 00:05:57  [ http-bio-8080-exec-6:5256779 ] - [ DEBUG ]  Entering nullPropertyValue [target=[com.opensymphony.xwork2.DefaultTextProvider@64b8ecac], property=struts]
2016-05-25 00:05:57  [ http-bio-8080-exec-6:5256779 ] - [ DEBUG ]  Creating an DefaultActionProxy for namespace / and action name getRegistrations
2016-05-25 00:05:57  [ http-bio-8080-exec-6:5256779 ] - [ DEBUG ]  No bean named 'action.HandleAction' found in org.springframework.beans.factory.support.DefaultListableBeanFactory defining beans [dataSource,sessionFactory,userDao,doctorDao,departmentDao,hospitalDao,periodDao,scheduleDao,registrationDao,workTimeDao,doctorService,registrationService,periodService,scheduleService,workTimeService,transactionManager,transactionInterceptor,ProxyCreator,doctorName,sex,hospital,department,tel,getPeriods,getRegistrations,mark,insert]; root of BeanFactory hierarchy
2016-05-25 00:05:57  [ http-bio-8080-exec-6:5256780 ] - [ DEBUG ]  Creating [java.util.LinkedHashMap]
2016-05-25 00:05:57  [ http-bio-8080-exec-6:5256780 ] - [ DEBUG ]  Creating [java.util.LinkedHashMap]
2016-05-25 00:05:57  [ http-bio-8080-exec-6:5256781 ] - [ DEBUG ]  Using cached introspection results for class [action.HandleAction]
2016-05-25 00:05:57  [ http-bio-8080-exec-6:5256781 ] - [ DEBUG ]  Bean 'action.HandleAction' instantiated via constructor [public action.HandleAction()]
2016-05-25 00:05:57  [ http-bio-8080-exec-6:5256781 ] - [ DEBUG ]  Invoking BeanPostProcessors before initialization of bean 'action.HandleAction'
2016-05-25 00:05:57  [ http-bio-8080-exec-6:5256782 ] - [ DEBUG ]  Invoking BeanPostProcessors after initialization of bean 'action.HandleAction'
2016-05-25 00:05:57  [ http-bio-8080-exec-6:5256783 ] - [ DEBUG ]  Using cached introspection results for class [action.HandleAction]
2016-05-25 00:05:57  [ http-bio-8080-exec-6:5256783 ] - [ DEBUG ]  Not autowiring property 'actionErrors' of bean 'action.HandleAction' by name: no matching bean found
2016-05-25 00:05:57  [ http-bio-8080-exec-6:5256784 ] - [ DEBUG ]  Not autowiring property 'actionMessages' of bean 'action.HandleAction' by name: no matching bean found
2016-05-25 00:05:57  [ http-bio-8080-exec-6:5256784 ] - [ DEBUG ]  Not autowiring property 'fieldErrors' of bean 'action.HandleAction' by name: no matching bean found
2016-05-25 00:05:57  [ http-bio-8080-exec-6:5256784 ] - [ DEBUG ]  Returning cached instance of singleton bean 'registrationService'
2016-05-25 00:05:57  [ http-bio-8080-exec-6:5256784 ] - [ DEBUG ]  Added autowiring by name from bean name 'action.HandleAction' via property 'registrationService' to bean named 'registrationService'
2016-05-25 00:05:57  [ http-bio-8080-exec-6:5256785 ] - [ DEBUG ]  Returning cached instance of singleton bean 'scheduleService'
2016-05-25 00:05:57  [ http-bio-8080-exec-6:5256785 ] - [ DEBUG ]  Added autowiring by name from bean name 'action.HandleAction' via property 'scheduleService' to bean named 'scheduleService'
2016-05-25 00:05:57  [ http-bio-8080-exec-6:5256785 ] - [ DEBUG ]  Creating [java.util.LinkedHashMap]
2016-05-25 00:05:57  [ http-bio-8080-exec-6:5256786 ] - [ DEBUG ]  About to invoke write method [public void action.HandleAction.setRegistrationService(service.RegistrationService)] on object of class [action.HandleAction]
2016-05-25 00:05:57  [ http-bio-8080-exec-6:5256786 ] - [ DEBUG ]  Invoked write method [public void action.HandleAction.setRegistrationService(service.RegistrationService)] with value of type [service.RegistrationService]
2016-05-25 00:05:57  [ http-bio-8080-exec-6:5256786 ] - [ DEBUG ]  About to invoke write method [public void action.HandleAction.setScheduleService(service.ScheduleService)] on object of class [action.HandleAction]
2016-05-25 00:05:57  [ http-bio-8080-exec-6:5256787 ] - [ DEBUG ]  Invoked write method [public void action.HandleAction.setScheduleService(service.ScheduleService)] with value of type [service.ScheduleService]
2016-05-25 00:05:57  [ http-bio-8080-exec-6:5256787 ] - [ DEBUG ]  intercept '//getRegistrations' { 
2016-05-25 00:05:57  [ http-bio-8080-exec-6:5256788 ] - [ DEBUG ]  applied invocation context locale=zh_CN
2016-05-25 00:05:57  [ http-bio-8080-exec-6:5256792 ] - [ DEBUG ]  before Locale=zh_CN
2016-05-25 00:05:57  [ http-bio-8080-exec-6:5256792 ] - [ DEBUG ]  Entering nullPropertyValue [target=[action.HandleAction@400c1b90, com.opensymphony.xwork2.DefaultTextProvider@64b8ecac], property=struts]
2016-05-25 00:05:57  [ http-bio-8080-exec-6:5256794 ] - [ DEBUG ]  Bypassing //getRegistrations
2016-05-25 00:05:57  [ http-bio-8080-exec-6:5256794 ] - [ DEBUG ]  Setting static parameters {}
2016-05-25 00:05:57  [ http-bio-8080-exec-6:5256795 ] - [ DEBUG ]  Setting params NONE
2016-05-25 00:05:57  [ http-bio-8080-exec-6:5256795 ] - [ DEBUG ]  Setting params doctorName => [ Ë¬¸ç ] periods => [ 2016-05-04 ÉÏÎç ] 
2016-05-25 00:05:57  [ http-bio-8080-exec-6:5256796 ] - [ DEBUG ]  Validating //getRegistrations with method getRegistrations.
2016-05-25 00:05:57  [ http-bio-8080-exec-6:5256797 ] - [ DEBUG ]  Invoking validate() on action action.HandleAction@400c1b90
2016-05-25 00:05:57  [ http-bio-8080-exec-6:5256797 ] - [ DEBUG ]  cannot find method [validateGetRegistrations] in action [action.HandleAction@400c1b90]
2016-05-25 00:05:57  [ http-bio-8080-exec-6:5256797 ] - [ DEBUG ]  cannot find method [validateDoGetRegistrations] in action [action.HandleAction@400c1b90]
2016-05-25 00:05:57  [ http-bio-8080-exec-6:5256798 ] - [ DEBUG ]  Executing action method = getRegistrations
2016-05-25 00:05:57  [ http-bio-8080-exec-6:5256798 ] - [ DEBUG ]  Using transaction object [org.springframework.orm.hibernate3.HibernateTransactionManager$HibernateTransactionObject@3e7dce7c]
2016-05-25 00:05:57  [ http-bio-8080-exec-6:5256799 ] - [ DEBUG ]  Creating new transaction with name [service.RegistrationService.findRegistrations]
2016-05-25 00:05:57  [ http-bio-8080-exec-6:5256799 ] - [ DEBUG ]  opened session at timestamp: 14641059574
2016-05-25 00:05:57  [ http-bio-8080-exec-6:5256800 ] - [ DEBUG ]  Opened new Session [org.hibernate.impl.SessionImpl@58a715be] for Hibernate transaction
2016-05-25 00:05:57  [ http-bio-8080-exec-6:5256800 ] - [ DEBUG ]  Preparing JDBC Connection of Hibernate Session [org.hibernate.impl.SessionImpl@58a715be]
2016-05-25 00:05:57  [ http-bio-8080-exec-6:5256801 ] - [ DEBUG ]  begin
2016-05-25 00:05:57  [ http-bio-8080-exec-6:5256801 ] - [ DEBUG ]  opening JDBC connection
2016-05-25 00:05:57  [ http-bio-8080-exec-6:5256802 ] - [ DEBUG ]  trace com.mchange.v2.resourcepool.BasicResourcePool@1ed5eb39 [managed: 3, unused: 2, excluded: 0] (e.g. com.mchange.v2.c3p0.impl.NewPooledConnection@7303eee0)
2016-05-25 00:05:57  [ http-bio-8080-exec-6:5256802 ] - [ DEBUG ]  current autocommit status: true
2016-05-25 00:05:57  [ http-bio-8080-exec-6:5256803 ] - [ DEBUG ]  disabling autocommit
2016-05-25 00:05:57  [ http-bio-8080-exec-6:5256804 ] - [ DEBUG ]  Exposing Hibernate transaction as JDBC transaction [com.mchange.v2.c3p0.impl.NewProxyConnection@144b4345]
2016-05-25 00:05:57  [ http-bio-8080-exec-6:5256813 ] - [ DEBUG ]  Bound value [org.springframework.jdbc.datasource.ConnectionHolder@3671558a] for key [com.mchange.v2.c3p0.ComboPooledDataSource@87409cf[ acquireIncrement -> 3, acquireRetryAttempts -> 30, acquireRetryDelay -> 1000, autoCommitOnClose -> false, automaticTestTable -> null, breakAfterAcquireFailure -> false, checkoutTimeout -> 0, connectionTesterClassName -> com.mchange.v2.c3p0.impl.DefaultConnectionTester, description -> null, driverClass -> com.mysql.jdbc.Driver, factoryClassLocation -> null, forceIgnoreUnresolvedTransactions -> false, identityToken -> 87409cf, idleConnectionTestPeriod -> -1, initialPoolSize -> 3, jdbcUrl -> jdbc:mysql://localhost:3306/hospital?characterEncoding=utf-8, loginTimeout -> 0, maxIdleTime -> 0, maxPoolSize -> 15, maxStatements -> 0, maxStatementsPerConnection -> 0, minPoolSize -> 3, numHelperThreads -> 3, preferredTestQuery -> null, properties -> {user=******, password=******}, propertyCycle -> 300, testConnectionOnCheckin -> false, testConnectionOnCheckout -> false, usesTraditionalReflectiveProxies -> false ]] to thread [http-bio-8080-exec-6]
2016-05-25 00:05:57  [ http-bio-8080-exec-6:5256814 ] - [ DEBUG ]  Bound value [org.springframework.orm.hibernate3.SessionHolder@16981428] for key [org.hibernate.impl.SessionFactoryImpl@40fc29d7] to thread [http-bio-8080-exec-6]
2016-05-25 00:05:57  [ http-bio-8080-exec-6:5256814 ] - [ DEBUG ]  Initializing transaction synchronization
2016-05-25 00:05:57  [ http-bio-8080-exec-6:5256814 ] - [ DEBUG ]  Getting transaction for service.RegistrationService.findRegistrations
2016-05-25 00:05:57  [ http-bio-8080-exec-6:5256815 ] - [ DEBUG ]  Retrieved value [org.springframework.orm.hibernate3.SessionHolder@16981428] for key [org.hibernate.impl.SessionFactoryImpl@40fc29d7] bound to thread [http-bio-8080-exec-6]
2016-05-25 00:05:57  [ http-bio-8080-exec-6:5256815 ] - [ DEBUG ]  about to open PreparedStatement (open PreparedStatements: 0, globally: 0)
2016-05-25 00:05:57  [ http-bio-8080-exec-6:5256816 ] - [ DEBUG ]  
    select
        r.id id,
        u.user_name userName ,
        p.begin_time beginTime 
    from
        registration r 
    join
        doctor do 
    join
        department de 
    join
        user u 
    join
        period p  
    where
        r.doctor_id=do.id 
        and r.department_id = de.id 
        and r.user_id=u.user_id 
        and r.period_id=p.id  
        and  do.name=? 
        and p.date=? 
        and  p.begin_time>=? 
        and p.begin_time<=?
2016-05-25 00:05:57  [ http-bio-8080-exec-6:5256818 ] - [ DEBUG ]  bindNamedParameters() 11:00:00 -> lastPeriodBegin [4]
2016-05-25 00:05:57  [ http-bio-8080-exec-6:5256818 ] - [ DEBUG ]  bindNamedParameters() Ë¬¸ç -> doctorName [1]
2016-05-25 00:05:57  [ http-bio-8080-exec-6:5256819 ] - [ DEBUG ]  bindNamedParameters() 2016-05-04 -> date [2]
2016-05-25 00:05:57  [ http-bio-8080-exec-6:5256819 ] - [ DEBUG ]  bindNamedParameters() 09:00:00 -> firstPeriodBegin [3]
2016-05-25 00:05:57  [ http-bio-8080-exec-6:5256820 ] - [ DEBUG ]  about to open ResultSet (open ResultSets: 0, globally: 0)
2016-05-25 00:05:57  [ http-bio-8080-exec-6:5256821 ] - [ DEBUG ]  result row: 
2016-05-25 00:05:57  [ http-bio-8080-exec-6:5256822 ] - [ DEBUG ]  result row: 
2016-05-25 00:05:57  [ http-bio-8080-exec-6:5256822 ] - [ DEBUG ]  about to close ResultSet (open ResultSets: 1, globally: 1)
2016-05-25 00:05:57  [ http-bio-8080-exec-6:5256823 ] - [ DEBUG ]  about to close PreparedStatement (open PreparedStatements: 1, globally: 1)
2016-05-25 00:05:57  [ http-bio-8080-exec-6:5256824 ] - [ DEBUG ]  initializing non-lazy collections
2016-05-25 00:05:57  [ http-bio-8080-exec-6:5256825 ] - [ DEBUG ]  Invoking commit for transaction on service.RegistrationService.findRegistrations
2016-05-25 00:05:57  [ http-bio-8080-exec-6:5256826 ] - [ DEBUG ]  Triggering beforeCommit synchronization
2016-05-25 00:05:57  [ http-bio-8080-exec-6:5256826 ] - [ DEBUG ]  Triggering beforeCompletion synchronization
2016-05-25 00:05:57  [ http-bio-8080-exec-6:5256827 ] - [ DEBUG ]  Initiating transaction commit
2016-05-25 00:05:57  [ http-bio-8080-exec-6:5256827 ] - [ DEBUG ]  Committing Hibernate transaction on Session [org.hibernate.impl.SessionImpl@58a715be]
2016-05-25 00:05:57  [ http-bio-8080-exec-6:5256827 ] - [ DEBUG ]  commit
2016-05-25 00:05:57  [ http-bio-8080-exec-6:5256828 ] - [ DEBUG ]  re-enabling autocommit
2016-05-25 00:05:57  [ http-bio-8080-exec-6:5256828 ] - [ DEBUG ]  committed JDBC Connection
2016-05-25 00:05:57  [ http-bio-8080-exec-6:5256829 ] - [ DEBUG ]  transaction completed on session with on_close connection release mode; be sure to close the session to release JDBC resources!
2016-05-25 00:05:57  [ http-bio-8080-exec-6:5256829 ] - [ DEBUG ]  Triggering afterCommit synchronization
2016-05-25 00:05:57  [ http-bio-8080-exec-6:5256829 ] - [ DEBUG ]  Triggering afterCompletion synchronization
2016-05-25 00:05:57  [ http-bio-8080-exec-6:5256829 ] - [ DEBUG ]  Clearing transaction synchronization
2016-05-25 00:05:57  [ http-bio-8080-exec-6:5256830 ] - [ DEBUG ]  Removed value [org.springframework.orm.hibernate3.SessionHolder@16981428] for key [org.hibernate.impl.SessionFactoryImpl@40fc29d7] from thread [http-bio-8080-exec-6]
2016-05-25 00:05:57  [ http-bio-8080-exec-6:5256833 ] - [ DEBUG ]  Removed value [org.springframework.jdbc.datasource.ConnectionHolder@3671558a] for key [com.mchange.v2.c3p0.ComboPooledDataSource@87409cf[ acquireIncrement -> 3, acquireRetryAttempts -> 30, acquireRetryDelay -> 1000, autoCommitOnClose -> false, automaticTestTable -> null, breakAfterAcquireFailure -> false, checkoutTimeout -> 0, connectionTesterClassName -> com.mchange.v2.c3p0.impl.DefaultConnectionTester, description -> null, driverClass -> com.mysql.jdbc.Driver, factoryClassLocation -> null, forceIgnoreUnresolvedTransactions -> false, identityToken -> 87409cf, idleConnectionTestPeriod -> -1, initialPoolSize -> 3, jdbcUrl -> jdbc:mysql://localhost:3306/hospital?characterEncoding=utf-8, loginTimeout -> 0, maxIdleTime -> 0, maxPoolSize -> 15, maxStatements -> 0, maxStatementsPerConnection -> 0, minPoolSize -> 3, numHelperThreads -> 3, preferredTestQuery -> null, properties -> {user=******, password=******}, propertyCycle -> 300, testConnectionOnCheckin -> false, testConnectionOnCheckout -> false, usesTraditionalReflectiveProxies -> false ]] from thread [http-bio-8080-exec-6]
2016-05-25 00:05:57  [ http-bio-8080-exec-6:5256834 ] - [ DEBUG ]  Closing Hibernate Session [org.hibernate.impl.SessionImpl@58a715be] after transaction
2016-05-25 00:05:57  [ http-bio-8080-exec-6:5256834 ] - [ DEBUG ]  Closing Hibernate Session
2016-05-25 00:05:57  [ http-bio-8080-exec-6:5256834 ] - [ DEBUG ]  releasing JDBC connection [ (open PreparedStatements: 0, globally: 0) (open ResultSets: 0, globally: 0)]
2016-05-25 00:05:57  [ http-bio-8080-exec-6:5256834 ] - [ DEBUG ]  trace com.mchange.v2.resourcepool.BasicResourcePool@1ed5eb39 [managed: 3, unused: 2, excluded: 0] (e.g. com.mchange.v2.c3p0.impl.NewPooledConnection@7303eee0)
2016-05-25 00:05:57  [ http-bio-8080-exec-6:5256835 ] - [ DEBUG ]  transaction completed on session with on_close connection release mode; be sure to close the session to release JDBC resources!
2016-05-25 00:05:57  [ http-bio-8080-exec-6:5256835 ] - [ DEBUG ]  No bean named 'org.apache.struts2.json.JSONResult' found in org.springframework.beans.factory.support.DefaultListableBeanFactory defining beans [dataSource,sessionFactory,userDao,doctorDao,departmentDao,hospitalDao,periodDao,scheduleDao,registrationDao,workTimeDao,doctorService,registrationService,periodService,scheduleService,workTimeService,transactionManager,transactionInterceptor,ProxyCreator,doctorName,sex,hospital,department,tel,getPeriods,getRegistrations,mark,insert]; root of BeanFactory hierarchy
2016-05-25 00:05:57  [ http-bio-8080-exec-6:5256836 ] - [ DEBUG ]  Creating [java.util.LinkedHashMap]
2016-05-25 00:05:57  [ http-bio-8080-exec-6:5256836 ] - [ DEBUG ]  Creating [java.util.LinkedHashMap]
2016-05-25 00:05:57  [ http-bio-8080-exec-6:5256837 ] - [ DEBUG ]  Using cached introspection results for class [org.apache.struts2.json.JSONResult]
2016-05-25 00:05:57  [ http-bio-8080-exec-6:5256837 ] - [ DEBUG ]  Bean 'org.apache.struts2.json.JSONResult' instantiated via constructor [public org.apache.struts2.json.JSONResult()]
2016-05-25 00:05:57  [ http-bio-8080-exec-6:5256837 ] - [ DEBUG ]  Invoking BeanPostProcessors before initialization of bean 'org.apache.struts2.json.JSONResult'
2016-05-25 00:05:57  [ http-bio-8080-exec-6:5256838 ] - [ DEBUG ]  Invoking BeanPostProcessors after initialization of bean 'org.apache.struts2.json.JSONResult'
2016-05-25 00:05:57  [ http-bio-8080-exec-6:5256838 ] - [ DEBUG ]  Using cached introspection results for class [org.apache.struts2.json.JSONResult]
2016-05-25 00:05:57  [ http-bio-8080-exec-6:5256839 ] - [ DEBUG ]  Creating [java.util.LinkedHashMap]
2016-05-25 00:05:57  [ http-bio-8080-exec-6:5256842 ] - [ DEBUG ]  Using transaction object [org.springframework.orm.hibernate3.HibernateTransactionManager$HibernateTransactionObject@7dee59f2]
2016-05-25 00:05:57  [ http-bio-8080-exec-6:5256842 ] - [ DEBUG ]  Creating new transaction with name [service.ScheduleService.findPeriods]
2016-05-25 00:05:57  [ http-bio-8080-exec-6:5256843 ] - [ DEBUG ]  opened session at timestamp: 14641059575
2016-05-25 00:05:57  [ http-bio-8080-exec-6:5256843 ] - [ DEBUG ]  Opened new Session [org.hibernate.impl.SessionImpl@7b2e3978] for Hibernate transaction
2016-05-25 00:05:57  [ http-bio-8080-exec-6:5256844 ] - [ DEBUG ]  Preparing JDBC Connection of Hibernate Session [org.hibernate.impl.SessionImpl@7b2e3978]
2016-05-25 00:05:57  [ http-bio-8080-exec-6:5256844 ] - [ DEBUG ]  begin
2016-05-25 00:05:57  [ http-bio-8080-exec-6:5256845 ] - [ DEBUG ]  opening JDBC connection
2016-05-25 00:05:57  [ http-bio-8080-exec-6:5256845 ] - [ DEBUG ]  trace com.mchange.v2.resourcepool.BasicResourcePool@1ed5eb39 [managed: 3, unused: 2, excluded: 0] (e.g. com.mchange.v2.c3p0.impl.NewPooledConnection@7303eee0)
2016-05-25 00:05:57  [ http-bio-8080-exec-6:5256846 ] - [ DEBUG ]  current autocommit status: true
2016-05-25 00:05:57  [ http-bio-8080-exec-6:5256846 ] - [ DEBUG ]  disabling autocommit
2016-05-25 00:05:57  [ http-bio-8080-exec-6:5256847 ] - [ DEBUG ]  Exposing Hibernate transaction as JDBC transaction [com.mchange.v2.c3p0.impl.NewProxyConnection@6a3b2841]
2016-05-25 00:05:57  [ http-bio-8080-exec-6:5256852 ] - [ DEBUG ]  Bound value [org.springframework.jdbc.datasource.ConnectionHolder@2d1ed00b] for key [com.mchange.v2.c3p0.ComboPooledDataSource@87409cf[ acquireIncrement -> 3, acquireRetryAttempts -> 30, acquireRetryDelay -> 1000, autoCommitOnClose -> false, automaticTestTable -> null, breakAfterAcquireFailure -> false, checkoutTimeout -> 0, connectionTesterClassName -> com.mchange.v2.c3p0.impl.DefaultConnectionTester, description -> null, driverClass -> com.mysql.jdbc.Driver, factoryClassLocation -> null, forceIgnoreUnresolvedTransactions -> false, identityToken -> 87409cf, idleConnectionTestPeriod -> -1, initialPoolSize -> 3, jdbcUrl -> jdbc:mysql://localhost:3306/hospital?characterEncoding=utf-8, loginTimeout -> 0, maxIdleTime -> 0, maxPoolSize -> 15, maxStatements -> 0, maxStatementsPerConnection -> 0, minPoolSize -> 3, numHelperThreads -> 3, preferredTestQuery -> null, properties -> {user=******, password=******}, propertyCycle -> 300, testConnectionOnCheckin -> false, testConnectionOnCheckout -> false, usesTraditionalReflectiveProxies -> false ]] to thread [http-bio-8080-exec-6]
2016-05-25 00:05:57  [ http-bio-8080-exec-6:5256852 ] - [ DEBUG ]  Bound value [org.springframework.orm.hibernate3.SessionHolder@1445b6a7] for key [org.hibernate.impl.SessionFactoryImpl@40fc29d7] to thread [http-bio-8080-exec-6]
2016-05-25 00:05:57  [ http-bio-8080-exec-6:5256853 ] - [ DEBUG ]  Initializing transaction synchronization
2016-05-25 00:05:57  [ http-bio-8080-exec-6:5256853 ] - [ DEBUG ]  Getting transaction for service.ScheduleService.findPeriods
2016-05-25 00:05:57  [ http-bio-8080-exec-6:5256853 ] - [ DEBUG ]  Retrieved value [org.springframework.orm.hibernate3.SessionHolder@1445b6a7] for key [org.hibernate.impl.SessionFactoryImpl@40fc29d7] bound to thread [http-bio-8080-exec-6]
2016-05-25 00:05:57  [ http-bio-8080-exec-6:5256854 ] - [ DEBUG ]  about to open PreparedStatement (open PreparedStatements: 0, globally: 0)
2016-05-25 00:05:57  [ http-bio-8080-exec-6:5256854 ] - [ DEBUG ]  
    select
        p.* 
    from
        doctor d 
    join
        schedule s 
    join
        period p 
    where
        s.doctor_id=d.id 
        and s.period_id=p.id 
        and d.name= ?
2016-05-25 00:05:57  [ http-bio-8080-exec-6:5256855 ] - [ DEBUG ]  bindNamedParameters() Ë¬¸ç -> doctorName [1]
2016-05-25 00:05:57  [ http-bio-8080-exec-6:5256856 ] - [ DEBUG ]  about to open ResultSet (open ResultSets: 0, globally: 0)
2016-05-25 00:05:57  [ http-bio-8080-exec-6:5256857 ] - [ DEBUG ]  result row: EntityKey[persistance.Period#1]
2016-05-25 00:05:57  [ http-bio-8080-exec-6:5256857 ] - [ DEBUG ]  result row: EntityKey[persistance.Period#2]
2016-05-25 00:05:57  [ http-bio-8080-exec-6:5256858 ] - [ DEBUG ]  result row: EntityKey[persistance.Period#3]
2016-05-25 00:05:57  [ http-bio-8080-exec-6:5256858 ] - [ DEBUG ]  about to close ResultSet (open ResultSets: 1, globally: 1)
2016-05-25 00:05:57  [ http-bio-8080-exec-6:5256858 ] - [ DEBUG ]  about to close PreparedStatement (open PreparedStatements: 1, globally: 1)
2016-05-25 00:05:57  [ http-bio-8080-exec-6:5256859 ] - [ DEBUG ]  resolving associations for [persistance.Period#1]
2016-05-25 00:05:57  [ http-bio-8080-exec-6:5256859 ] - [ DEBUG ]  done materializing entity [persistance.Period#1]
2016-05-25 00:05:57  [ http-bio-8080-exec-6:5256860 ] - [ DEBUG ]  resolving associations for [persistance.Period#2]
2016-05-25 00:05:57  [ http-bio-8080-exec-6:5256860 ] - [ DEBUG ]  done materializing entity [persistance.Period#2]
2016-05-25 00:05:57  [ http-bio-8080-exec-6:5256860 ] - [ DEBUG ]  resolving associations for [persistance.Period#3]
2016-05-25 00:05:57  [ http-bio-8080-exec-6:5256861 ] - [ DEBUG ]  done materializing entity [persistance.Period#3]
2016-05-25 00:05:57  [ http-bio-8080-exec-6:5256861 ] - [ DEBUG ]  initializing non-lazy collections
2016-05-25 00:05:57  [ http-bio-8080-exec-6:5256862 ] - [ DEBUG ]  Invoking commit for transaction on service.ScheduleService.findPeriods
2016-05-25 00:05:57  [ http-bio-8080-exec-6:5256862 ] - [ DEBUG ]  Triggering beforeCommit synchronization
2016-05-25 00:05:57  [ http-bio-8080-exec-6:5256862 ] - [ DEBUG ]  Triggering beforeCompletion synchronization
2016-05-25 00:05:57  [ http-bio-8080-exec-6:5256862 ] - [ DEBUG ]  Initiating transaction commit
2016-05-25 00:05:57  [ http-bio-8080-exec-6:5256863 ] - [ DEBUG ]  Committing Hibernate transaction on Session [org.hibernate.impl.SessionImpl@7b2e3978]
2016-05-25 00:05:57  [ http-bio-8080-exec-6:5256863 ] - [ DEBUG ]  commit
2016-05-25 00:05:57  [ http-bio-8080-exec-6:5256863 ] - [ DEBUG ]  processing flush-time cascades
2016-05-25 00:05:57  [ http-bio-8080-exec-6:5256863 ] - [ DEBUG ]  dirty checking collections
2016-05-25 00:05:57  [ http-bio-8080-exec-6:5256864 ] - [ DEBUG ]  Collection found: [persistance.Period.schedules#1], was: [persistance.Period.schedules#1] (uninitialized)
2016-05-25 00:05:57  [ http-bio-8080-exec-6:5256864 ] - [ DEBUG ]  Collection found: [persistance.Period.workTimes#1], was: [persistance.Period.workTimes#1] (uninitialized)
2016-05-25 00:05:57  [ http-bio-8080-exec-6:5256865 ] - [ DEBUG ]  Collection found: [persistance.Period.registrations#1], was: [persistance.Period.registrations#1] (uninitialized)
2016-05-25 00:05:57  [ http-bio-8080-exec-6:5256865 ] - [ DEBUG ]  Collection found: [persistance.Period.schedules_1#1], was: [persistance.Period.schedules_1#1] (uninitialized)
2016-05-25 00:05:57  [ http-bio-8080-exec-6:5256865 ] - [ DEBUG ]  Collection found: [persistance.Period.registrations_1#1], was: [persistance.Period.registrations_1#1] (uninitialized)
2016-05-25 00:05:57  [ http-bio-8080-exec-6:5256866 ] - [ DEBUG ]  Collection found: [persistance.Period.schedules#2], was: [persistance.Period.schedules#2] (uninitialized)
2016-05-25 00:05:57  [ http-bio-8080-exec-6:5256866 ] - [ DEBUG ]  Collection found: [persistance.Period.workTimes#2], was: [persistance.Period.workTimes#2] (uninitialized)
2016-05-25 00:05:57  [ http-bio-8080-exec-6:5256866 ] - [ DEBUG ]  Collection found: [persistance.Period.registrations#2], was: [persistance.Period.registrations#2] (uninitialized)
2016-05-25 00:05:57  [ http-bio-8080-exec-6:5256867 ] - [ DEBUG ]  Collection found: [persistance.Period.schedules_1#2], was: [persistance.Period.schedules_1#2] (uninitialized)
2016-05-25 00:05:57  [ http-bio-8080-exec-6:5256867 ] - [ DEBUG ]  Collection found: [persistance.Period.registrations_1#2], was: [persistance.Period.registrations_1#2] (uninitialized)
2016-05-25 00:05:57  [ http-bio-8080-exec-6:5256867 ] - [ DEBUG ]  Collection found: [persistance.Period.schedules#3], was: [persistance.Period.schedules#3] (uninitialized)
2016-05-25 00:05:57  [ http-bio-8080-exec-6:5256868 ] - [ DEBUG ]  Collection found: [persistance.Period.workTimes#3], was: [persistance.Period.workTimes#3] (uninitialized)
2016-05-25 00:05:57  [ http-bio-8080-exec-6:5256868 ] - [ DEBUG ]  Collection found: [persistance.Period.registrations#3], was: [persistance.Period.registrations#3] (uninitialized)
2016-05-25 00:05:57  [ http-bio-8080-exec-6:5256868 ] - [ DEBUG ]  Collection found: [persistance.Period.schedules_1#3], was: [persistance.Period.schedules_1#3] (uninitialized)
2016-05-25 00:05:57  [ http-bio-8080-exec-6:5256869 ] - [ DEBUG ]  Collection found: [persistance.Period.registrations_1#3], was: [persistance.Period.registrations_1#3] (uninitialized)
2016-05-25 00:05:57  [ http-bio-8080-exec-6:5256869 ] - [ DEBUG ]  Flushed: 0 insertions, 0 updates, 0 deletions to 3 objects
2016-05-25 00:05:57  [ http-bio-8080-exec-6:5256869 ] - [ DEBUG ]  Flushed: 0 (re)creations, 0 updates, 0 removals to 15 collections
2016-05-25 00:05:57  [ http-bio-8080-exec-6:5256870 ] - [ DEBUG ]  listing entities:
2016-05-25 00:05:57  [ http-bio-8080-exec-6:5256870 ] - [ DEBUG ]  persistance.Period{id=3, registrations_1=<uninitialized>, schedules=<uninitialized>, schedules_1=<uninitialized>, workTimes=<uninitialized>, registrations=<uninitialized>, beginTime=09:00:00, endTime=10:00:00, date=2016-05-21 00:00:00}
2016-05-25 00:05:57  [ http-bio-8080-exec-6:5256870 ] - [ DEBUG ]  persistance.Period{id=1, registrations_1=<uninitialized>, schedules=<uninitialized>, schedules_1=<uninitialized>, workTimes=<uninitialized>, registrations=<uninitialized>, beginTime=09:00:00, endTime=10:00:00, date=2016-05-04 00:00:00}
2016-05-25 00:05:57  [ http-bio-8080-exec-6:5256873 ] - [ DEBUG ]  persistance.Period{id=2, registrations_1=<uninitialized>, schedules=<uninitialized>, schedules_1=<uninitialized>, workTimes=<uninitialized>, registrations=<uninitialized>, beginTime=10:00:00, endTime=11:00:00, date=2016-05-21 00:00:00}
2016-05-25 00:05:57  [ http-bio-8080-exec-6:5256874 ] - [ DEBUG ]  re-enabling autocommit
2016-05-25 00:05:57  [ http-bio-8080-exec-6:5256875 ] - [ DEBUG ]  committed JDBC Connection
2016-05-25 00:05:57  [ http-bio-8080-exec-6:5256875 ] - [ DEBUG ]  transaction completed on session with on_close connection release mode; be sure to close the session to release JDBC resources!
2016-05-25 00:05:57  [ http-bio-8080-exec-6:5256875 ] - [ DEBUG ]  Triggering afterCommit synchronization
2016-05-25 00:05:57  [ http-bio-8080-exec-6:5256875 ] - [ DEBUG ]  Triggering afterCompletion synchronization
2016-05-25 00:05:57  [ http-bio-8080-exec-6:5256876 ] - [ DEBUG ]  Clearing transaction synchronization
2016-05-25 00:05:57  [ http-bio-8080-exec-6:5256876 ] - [ DEBUG ]  Removed value [org.springframework.orm.hibernate3.SessionHolder@1445b6a7] for key [org.hibernate.impl.SessionFactoryImpl@40fc29d7] from thread [http-bio-8080-exec-6]
2016-05-25 00:05:57  [ http-bio-8080-exec-6:5256880 ] - [ DEBUG ]  Removed value [org.springframework.jdbc.datasource.ConnectionHolder@2d1ed00b] for key [com.mchange.v2.c3p0.ComboPooledDataSource@87409cf[ acquireIncrement -> 3, acquireRetryAttempts -> 30, acquireRetryDelay -> 1000, autoCommitOnClose -> false, automaticTestTable -> null, breakAfterAcquireFailure -> false, checkoutTimeout -> 0, connectionTesterClassName -> com.mchange.v2.c3p0.impl.DefaultConnectionTester, description -> null, driverClass -> com.mysql.jdbc.Driver, factoryClassLocation -> null, forceIgnoreUnresolvedTransactions -> false, identityToken -> 87409cf, idleConnectionTestPeriod -> -1, initialPoolSize -> 3, jdbcUrl -> jdbc:mysql://localhost:3306/hospital?characterEncoding=utf-8, loginTimeout -> 0, maxIdleTime -> 0, maxPoolSize -> 15, maxStatements -> 0, maxStatementsPerConnection -> 0, minPoolSize -> 3, numHelperThreads -> 3, preferredTestQuery -> null, properties -> {user=******, password=******}, propertyCycle -> 300, testConnectionOnCheckin -> false, testConnectionOnCheckout -> false, usesTraditionalReflectiveProxies -> false ]] from thread [http-bio-8080-exec-6]
2016-05-25 00:05:57  [ http-bio-8080-exec-6:5256880 ] - [ DEBUG ]  Closing Hibernate Session [org.hibernate.impl.SessionImpl@7b2e3978] after transaction
2016-05-25 00:05:57  [ http-bio-8080-exec-6:5256881 ] - [ DEBUG ]  Closing Hibernate Session
2016-05-25 00:05:57  [ http-bio-8080-exec-6:5256881 ] - [ DEBUG ]  releasing JDBC connection [ (open PreparedStatements: 0, globally: 0) (open ResultSets: 0, globally: 0)]
2016-05-25 00:05:57  [ http-bio-8080-exec-6:5256881 ] - [ DEBUG ]  trace com.mchange.v2.resourcepool.BasicResourcePool@1ed5eb39 [managed: 3, unused: 2, excluded: 0] (e.g. com.mchange.v2.c3p0.impl.NewPooledConnection@7303eee0)
2016-05-25 00:05:57  [ http-bio-8080-exec-6:5256882 ] - [ DEBUG ]  transaction completed on session with on_close connection release mode; be sure to close the session to release JDBC resources!
2016-05-25 00:05:57  [ http-bio-8080-exec-6:5256882 ] - [ DEBUG ]  Using transaction object [org.springframework.orm.hibernate3.HibernateTransactionManager$HibernateTransactionObject@33407620]
2016-05-25 00:05:57  [ http-bio-8080-exec-6:5256882 ] - [ DEBUG ]  Creating new transaction with name [service.RegistrationService.findRegistrations]
2016-05-25 00:05:57  [ http-bio-8080-exec-6:5256883 ] - [ DEBUG ]  opened session at timestamp: 14641059575
2016-05-25 00:05:57  [ http-bio-8080-exec-6:5256883 ] - [ DEBUG ]  Opened new Session [org.hibernate.impl.SessionImpl@4a3e94cc] for Hibernate transaction
2016-05-25 00:05:57  [ http-bio-8080-exec-6:5256883 ] - [ DEBUG ]  Preparing JDBC Connection of Hibernate Session [org.hibernate.impl.SessionImpl@4a3e94cc]
2016-05-25 00:05:57  [ http-bio-8080-exec-6:5256883 ] - [ DEBUG ]  begin
2016-05-25 00:05:57  [ http-bio-8080-exec-6:5256884 ] - [ DEBUG ]  opening JDBC connection
2016-05-25 00:05:57  [ http-bio-8080-exec-6:5256884 ] - [ DEBUG ]  trace com.mchange.v2.resourcepool.BasicResourcePool@1ed5eb39 [managed: 3, unused: 2, excluded: 0] (e.g. com.mchange.v2.c3p0.impl.NewPooledConnection@7303eee0)
2016-05-25 00:05:57  [ http-bio-8080-exec-6:5256884 ] - [ DEBUG ]  current autocommit status: true
2016-05-25 00:05:57  [ http-bio-8080-exec-6:5256885 ] - [ DEBUG ]  disabling autocommit
2016-05-25 00:05:57  [ http-bio-8080-exec-6:5256885 ] - [ DEBUG ]  Exposing Hibernate transaction as JDBC transaction [com.mchange.v2.c3p0.impl.NewProxyConnection@63c57f95]
2016-05-25 00:05:57  [ http-bio-8080-exec-6:5256890 ] - [ DEBUG ]  Bound value [org.springframework.jdbc.datasource.ConnectionHolder@2f82895a] for key [com.mchange.v2.c3p0.ComboPooledDataSource@87409cf[ acquireIncrement -> 3, acquireRetryAttempts -> 30, acquireRetryDelay -> 1000, autoCommitOnClose -> false, automaticTestTable -> null, breakAfterAcquireFailure -> false, checkoutTimeout -> 0, connectionTesterClassName -> com.mchange.v2.c3p0.impl.DefaultConnectionTester, description -> null, driverClass -> com.mysql.jdbc.Driver, factoryClassLocation -> null, forceIgnoreUnresolvedTransactions -> false, identityToken -> 87409cf, idleConnectionTestPeriod -> -1, initialPoolSize -> 3, jdbcUrl -> jdbc:mysql://localhost:3306/hospital?characterEncoding=utf-8, loginTimeout -> 0, maxIdleTime -> 0, maxPoolSize -> 15, maxStatements -> 0, maxStatementsPerConnection -> 0, minPoolSize -> 3, numHelperThreads -> 3, preferredTestQuery -> null, properties -> {user=******, password=******}, propertyCycle -> 300, testConnectionOnCheckin -> false, testConnectionOnCheckout -> false, usesTraditionalReflectiveProxies -> false ]] to thread [http-bio-8080-exec-6]
2016-05-25 00:05:57  [ http-bio-8080-exec-6:5256890 ] - [ DEBUG ]  Bound value [org.springframework.orm.hibernate3.SessionHolder@447d8703] for key [org.hibernate.impl.SessionFactoryImpl@40fc29d7] to thread [http-bio-8080-exec-6]
2016-05-25 00:05:57  [ http-bio-8080-exec-6:5256890 ] - [ DEBUG ]  Initializing transaction synchronization
2016-05-25 00:05:57  [ http-bio-8080-exec-6:5256891 ] - [ DEBUG ]  Getting transaction for service.RegistrationService.findRegistrations
2016-05-25 00:05:57  [ http-bio-8080-exec-6:5256891 ] - [ DEBUG ]  Retrieved value [org.springframework.orm.hibernate3.SessionHolder@447d8703] for key [org.hibernate.impl.SessionFactoryImpl@40fc29d7] bound to thread [http-bio-8080-exec-6]
2016-05-25 00:05:57  [ http-bio-8080-exec-6:5256891 ] - [ DEBUG ]  about to open PreparedStatement (open PreparedStatements: 0, globally: 0)
2016-05-25 00:05:57  [ http-bio-8080-exec-6:5256892 ] - [ DEBUG ]  
    select
        r.id id,
        u.user_name userName ,
        p.begin_time beginTime 
    from
        registration r 
    join
        doctor do 
    join
        department de 
    join
        user u 
    join
        period p  
    where
        r.doctor_id=do.id 
        and r.department_id = de.id 
        and r.user_id=u.user_id 
        and r.period_id=p.id  
        and  do.name=? 
        and p.date=? 
        and  p.begin_time>=? 
        and p.begin_time<=?
2016-05-25 00:05:57  [ http-bio-8080-exec-6:5256893 ] - [ DEBUG ]  bindNamedParameters() 11:00:00 -> lastPeriodBegin [4]
2016-05-25 00:05:57  [ http-bio-8080-exec-6:5256893 ] - [ DEBUG ]  bindNamedParameters() Ë¬¸ç -> doctorName [1]
2016-05-25 00:05:57  [ http-bio-8080-exec-6:5256894 ] - [ DEBUG ]  bindNamedParameters() 2016-05-04 -> date [2]
2016-05-25 00:05:57  [ http-bio-8080-exec-6:5256894 ] - [ DEBUG ]  bindNamedParameters() 09:00:00 -> firstPeriodBegin [3]
2016-05-25 00:05:57  [ http-bio-8080-exec-6:5256895 ] - [ DEBUG ]  about to open ResultSet (open ResultSets: 0, globally: 0)
2016-05-25 00:05:57  [ http-bio-8080-exec-6:5256895 ] - [ DEBUG ]  result row: 
2016-05-25 00:05:57  [ http-bio-8080-exec-6:5256896 ] - [ DEBUG ]  result row: 
2016-05-25 00:05:57  [ http-bio-8080-exec-6:5256896 ] - [ DEBUG ]  about to close ResultSet (open ResultSets: 1, globally: 1)
2016-05-25 00:05:57  [ http-bio-8080-exec-6:5256896 ] - [ DEBUG ]  about to close PreparedStatement (open PreparedStatements: 1, globally: 1)
2016-05-25 00:05:57  [ http-bio-8080-exec-6:5256897 ] - [ DEBUG ]  initializing non-lazy collections
2016-05-25 00:05:57  [ http-bio-8080-exec-6:5256897 ] - [ DEBUG ]  Invoking commit for transaction on service.RegistrationService.findRegistrations
2016-05-25 00:05:57  [ http-bio-8080-exec-6:5256897 ] - [ DEBUG ]  Triggering beforeCommit synchronization
2016-05-25 00:05:57  [ http-bio-8080-exec-6:5256898 ] - [ DEBUG ]  Triggering beforeCompletion synchronization
2016-05-25 00:05:57  [ http-bio-8080-exec-6:5256898 ] - [ DEBUG ]  Initiating transaction commit
2016-05-25 00:05:57  [ http-bio-8080-exec-6:5256898 ] - [ DEBUG ]  Committing Hibernate transaction on Session [org.hibernate.impl.SessionImpl@4a3e94cc]
2016-05-25 00:05:57  [ http-bio-8080-exec-6:5256898 ] - [ DEBUG ]  commit
2016-05-25 00:05:57  [ http-bio-8080-exec-6:5256899 ] - [ DEBUG ]  re-enabling autocommit
2016-05-25 00:05:57  [ http-bio-8080-exec-6:5256900 ] - [ DEBUG ]  committed JDBC Connection
2016-05-25 00:05:57  [ http-bio-8080-exec-6:5256900 ] - [ DEBUG ]  transaction completed on session with on_close connection release mode; be sure to close the session to release JDBC resources!
2016-05-25 00:05:57  [ http-bio-8080-exec-6:5256901 ] - [ DEBUG ]  Triggering afterCommit synchronization
2016-05-25 00:05:57  [ http-bio-8080-exec-6:5256901 ] - [ DEBUG ]  Triggering afterCompletion synchronization
2016-05-25 00:05:57  [ http-bio-8080-exec-6:5256901 ] - [ DEBUG ]  Clearing transaction synchronization
2016-05-25 00:05:57  [ http-bio-8080-exec-6:5256902 ] - [ DEBUG ]  Removed value [org.springframework.orm.hibernate3.SessionHolder@447d8703] for key [org.hibernate.impl.SessionFactoryImpl@40fc29d7] from thread [http-bio-8080-exec-6]
2016-05-25 00:05:57  [ http-bio-8080-exec-6:5256906 ] - [ DEBUG ]  Removed value [org.springframework.jdbc.datasource.ConnectionHolder@2f82895a] for key [com.mchange.v2.c3p0.ComboPooledDataSource@87409cf[ acquireIncrement -> 3, acquireRetryAttempts -> 30, acquireRetryDelay -> 1000, autoCommitOnClose -> false, automaticTestTable -> null, breakAfterAcquireFailure -> false, checkoutTimeout -> 0, connectionTesterClassName -> com.mchange.v2.c3p0.impl.DefaultConnectionTester, description -> null, driverClass -> com.mysql.jdbc.Driver, factoryClassLocation -> null, forceIgnoreUnresolvedTransactions -> false, identityToken -> 87409cf, idleConnectionTestPeriod -> -1, initialPoolSize -> 3, jdbcUrl -> jdbc:mysql://localhost:3306/hospital?characterEncoding=utf-8, loginTimeout -> 0, maxIdleTime -> 0, maxPoolSize -> 15, maxStatements -> 0, maxStatementsPerConnection -> 0, minPoolSize -> 3, numHelperThreads -> 3, preferredTestQuery -> null, properties -> {user=******, password=******}, propertyCycle -> 300, testConnectionOnCheckin -> false, testConnectionOnCheckout -> false, usesTraditionalReflectiveProxies -> false ]] from thread [http-bio-8080-exec-6]
2016-05-25 00:05:57  [ http-bio-8080-exec-6:5256906 ] - [ DEBUG ]  Closing Hibernate Session [org.hibernate.impl.SessionImpl@4a3e94cc] after transaction
2016-05-25 00:05:57  [ http-bio-8080-exec-6:5256907 ] - [ DEBUG ]  Closing Hibernate Session
2016-05-25 00:05:57  [ http-bio-8080-exec-6:5256907 ] - [ DEBUG ]  releasing JDBC connection [ (open PreparedStatements: 0, globally: 0) (open ResultSets: 0, globally: 0)]
2016-05-25 00:05:57  [ http-bio-8080-exec-6:5256907 ] - [ DEBUG ]  trace com.mchange.v2.resourcepool.BasicResourcePool@1ed5eb39 [managed: 3, unused: 2, excluded: 0] (e.g. com.mchange.v2.c3p0.impl.NewPooledConnection@7303eee0)
2016-05-25 00:05:57  [ http-bio-8080-exec-6:5256908 ] - [ DEBUG ]  transaction completed on session with on_close connection release mode; be sure to close the session to release JDBC resources!
2016-05-25 00:05:57  [ http-bio-8080-exec-6:5256908 ] - [ DEBUG ]  [JSON]{"periods":"success","registrations":"success"}
2016-05-25 00:05:57  [ http-bio-8080-exec-6:5256909 ] - [ DEBUG ]  after Locale=zh_CN
2016-05-25 00:05:57  [ http-bio-8080-exec-6:5256909 ] - [ DEBUG ]  intercept } 
2016-05-25 00:05:59  [ http-bio-8080-exec-6:5259253 ] - [ DEBUG ]  Entering nullPropertyValue [target=[com.opensymphony.xwork2.DefaultTextProvider@64b8ecac], property=struts]
2016-05-25 00:05:59  [ http-bio-8080-exec-6:5259254 ] - [ DEBUG ]  Entering nullPropertyValue [target=[com.opensymphony.xwork2.DefaultTextProvider@64b8ecac], property=struts]
2016-05-25 00:05:59  [ http-bio-8080-exec-6:5259255 ] - [ DEBUG ]  Creating an DefaultActionProxy for namespace / and action name mark
2016-05-25 00:05:59  [ http-bio-8080-exec-6:5259255 ] - [ DEBUG ]  No bean named 'action.HandleAction' found in org.springframework.beans.factory.support.DefaultListableBeanFactory defining beans [dataSource,sessionFactory,userDao,doctorDao,departmentDao,hospitalDao,periodDao,scheduleDao,registrationDao,workTimeDao,doctorService,registrationService,periodService,scheduleService,workTimeService,transactionManager,transactionInterceptor,ProxyCreator,doctorName,sex,hospital,department,tel,getPeriods,getRegistrations,mark,insert]; root of BeanFactory hierarchy
2016-05-25 00:05:59  [ http-bio-8080-exec-6:5259257 ] - [ DEBUG ]  Creating [java.util.LinkedHashMap]
2016-05-25 00:05:59  [ http-bio-8080-exec-6:5259258 ] - [ DEBUG ]  Creating [java.util.LinkedHashMap]
2016-05-25 00:05:59  [ http-bio-8080-exec-6:5259259 ] - [ DEBUG ]  Using cached introspection results for class [action.HandleAction]
2016-05-25 00:05:59  [ http-bio-8080-exec-6:5259260 ] - [ DEBUG ]  Bean 'action.HandleAction' instantiated via constructor [public action.HandleAction()]
2016-05-25 00:05:59  [ http-bio-8080-exec-6:5259260 ] - [ DEBUG ]  Invoking BeanPostProcessors before initialization of bean 'action.HandleAction'
2016-05-25 00:05:59  [ http-bio-8080-exec-6:5259260 ] - [ DEBUG ]  Invoking BeanPostProcessors after initialization of bean 'action.HandleAction'
2016-05-25 00:05:59  [ http-bio-8080-exec-6:5259261 ] - [ DEBUG ]  Using cached introspection results for class [action.HandleAction]
2016-05-25 00:05:59  [ http-bio-8080-exec-6:5259264 ] - [ DEBUG ]  Not autowiring property 'actionErrors' of bean 'action.HandleAction' by name: no matching bean found
2016-05-25 00:05:59  [ http-bio-8080-exec-6:5259265 ] - [ DEBUG ]  Not autowiring property 'actionMessages' of bean 'action.HandleAction' by name: no matching bean found
2016-05-25 00:05:59  [ http-bio-8080-exec-6:5259265 ] - [ DEBUG ]  Not autowiring property 'fieldErrors' of bean 'action.HandleAction' by name: no matching bean found
2016-05-25 00:05:59  [ http-bio-8080-exec-6:5259266 ] - [ DEBUG ]  Returning cached instance of singleton bean 'registrationService'
2016-05-25 00:05:59  [ http-bio-8080-exec-6:5259266 ] - [ DEBUG ]  Added autowiring by name from bean name 'action.HandleAction' via property 'registrationService' to bean named 'registrationService'
2016-05-25 00:05:59  [ http-bio-8080-exec-6:5259267 ] - [ DEBUG ]  Returning cached instance of singleton bean 'scheduleService'
2016-05-25 00:05:59  [ http-bio-8080-exec-6:5259267 ] - [ DEBUG ]  Added autowiring by name from bean name 'action.HandleAction' via property 'scheduleService' to bean named 'scheduleService'
2016-05-25 00:05:59  [ http-bio-8080-exec-6:5259268 ] - [ DEBUG ]  Creating [java.util.LinkedHashMap]
2016-05-25 00:05:59  [ http-bio-8080-exec-6:5259269 ] - [ DEBUG ]  About to invoke write method [public void action.HandleAction.setRegistrationService(service.RegistrationService)] on object of class [action.HandleAction]
2016-05-25 00:05:59  [ http-bio-8080-exec-6:5259269 ] - [ DEBUG ]  Invoked write method [public void action.HandleAction.setRegistrationService(service.RegistrationService)] with value of type [service.RegistrationService]
2016-05-25 00:05:59  [ http-bio-8080-exec-6:5259269 ] - [ DEBUG ]  About to invoke write method [public void action.HandleAction.setScheduleService(service.ScheduleService)] on object of class [action.HandleAction]
2016-05-25 00:05:59  [ http-bio-8080-exec-6:5259270 ] - [ DEBUG ]  Invoked write method [public void action.HandleAction.setScheduleService(service.ScheduleService)] with value of type [service.ScheduleService]
2016-05-25 00:05:59  [ http-bio-8080-exec-6:5259273 ] - [ DEBUG ]  intercept '//mark' { 
2016-05-25 00:05:59  [ http-bio-8080-exec-6:5259273 ] - [ DEBUG ]  applied invocation context locale=zh_CN
2016-05-25 00:05:59  [ http-bio-8080-exec-6:5259273 ] - [ DEBUG ]  before Locale=zh_CN
2016-05-25 00:05:59  [ http-bio-8080-exec-6:5259274 ] - [ DEBUG ]  Entering nullPropertyValue [target=[action.HandleAction@1307f559, com.opensymphony.xwork2.DefaultTextProvider@64b8ecac], property=struts]
2016-05-25 00:05:59  [ http-bio-8080-exec-6:5259274 ] - [ DEBUG ]  Bypassing //mark
2016-05-25 00:05:59  [ http-bio-8080-exec-6:5259275 ] - [ DEBUG ]  Setting static parameters {}
2016-05-25 00:05:59  [ http-bio-8080-exec-6:5259275 ] - [ DEBUG ]  Setting params NONE
2016-05-25 00:05:59  [ http-bio-8080-exec-6:5259276 ] - [ DEBUG ]  Setting params period => [ 09:00:00 ] userId => [ 1 ] userName => [ whx ] 
2016-05-25 00:05:59  [ http-bio-8080-exec-6:5259279 ] - [ DEBUG ]  Validating //mark with method mark.
2016-05-25 00:05:59  [ http-bio-8080-exec-6:5259280 ] - [ DEBUG ]  Invoking validate() on action action.HandleAction@1307f559
2016-05-25 00:05:59  [ http-bio-8080-exec-6:5259280 ] - [ DEBUG ]  cannot find method [validateMark] in action [action.HandleAction@1307f559]
2016-05-25 00:05:59  [ http-bio-8080-exec-6:5259281 ] - [ DEBUG ]  cannot find method [validateDoMark] in action [action.HandleAction@1307f559]
2016-05-25 00:05:59  [ http-bio-8080-exec-6:5259281 ] - [ DEBUG ]  Executing action method = mark
2016-05-25 00:05:59  [ http-bio-8080-exec-6:5259281 ] - [ DEBUG ]  Using transaction object [org.springframework.orm.hibernate3.HibernateTransactionManager$HibernateTransactionObject@2c58ecd2]
2016-05-25 00:05:59  [ http-bio-8080-exec-6:5259282 ] - [ DEBUG ]  Creating new transaction with name [service.RegistrationService.mark]
2016-05-25 00:05:59  [ http-bio-8080-exec-6:5259282 ] - [ DEBUG ]  opened session at timestamp: 14641059599
2016-05-25 00:05:59  [ http-bio-8080-exec-6:5259282 ] - [ DEBUG ]  Opened new Session [org.hibernate.impl.SessionImpl@a81b7b9] for Hibernate transaction
2016-05-25 00:05:59  [ http-bio-8080-exec-6:5259282 ] - [ DEBUG ]  Preparing JDBC Connection of Hibernate Session [org.hibernate.impl.SessionImpl@a81b7b9]
2016-05-25 00:05:59  [ http-bio-8080-exec-6:5259283 ] - [ DEBUG ]  begin
2016-05-25 00:05:59  [ http-bio-8080-exec-6:5259284 ] - [ DEBUG ]  opening JDBC connection
2016-05-25 00:05:59  [ http-bio-8080-exec-6:5259284 ] - [ DEBUG ]  trace com.mchange.v2.resourcepool.BasicResourcePool@1ed5eb39 [managed: 3, unused: 2, excluded: 0] (e.g. com.mchange.v2.c3p0.impl.NewPooledConnection@7303eee0)
2016-05-25 00:05:59  [ http-bio-8080-exec-6:5259285 ] - [ DEBUG ]  current autocommit status: true
2016-05-25 00:05:59  [ http-bio-8080-exec-6:5259286 ] - [ DEBUG ]  disabling autocommit
2016-05-25 00:05:59  [ http-bio-8080-exec-6:5259287 ] - [ DEBUG ]  Exposing Hibernate transaction as JDBC transaction [com.mchange.v2.c3p0.impl.NewProxyConnection@226c29ff]
2016-05-25 00:05:59  [ http-bio-8080-exec-6:5259292 ] - [ DEBUG ]  Bound value [org.springframework.jdbc.datasource.ConnectionHolder@790870fe] for key [com.mchange.v2.c3p0.ComboPooledDataSource@87409cf[ acquireIncrement -> 3, acquireRetryAttempts -> 30, acquireRetryDelay -> 1000, autoCommitOnClose -> false, automaticTestTable -> null, breakAfterAcquireFailure -> false, checkoutTimeout -> 0, connectionTesterClassName -> com.mchange.v2.c3p0.impl.DefaultConnectionTester, description -> null, driverClass -> com.mysql.jdbc.Driver, factoryClassLocation -> null, forceIgnoreUnresolvedTransactions -> false, identityToken -> 87409cf, idleConnectionTestPeriod -> -1, initialPoolSize -> 3, jdbcUrl -> jdbc:mysql://localhost:3306/hospital?characterEncoding=utf-8, loginTimeout -> 0, maxIdleTime -> 0, maxPoolSize -> 15, maxStatements -> 0, maxStatementsPerConnection -> 0, minPoolSize -> 3, numHelperThreads -> 3, preferredTestQuery -> null, properties -> {user=******, password=******}, propertyCycle -> 300, testConnectionOnCheckin -> false, testConnectionOnCheckout -> false, usesTraditionalReflectiveProxies -> false ]] to thread [http-bio-8080-exec-6]
2016-05-25 00:05:59  [ http-bio-8080-exec-6:5259292 ] - [ DEBUG ]  Bound value [org.springframework.orm.hibernate3.SessionHolder@3ecb8b16] for key [org.hibernate.impl.SessionFactoryImpl@40fc29d7] to thread [http-bio-8080-exec-6]
2016-05-25 00:05:59  [ http-bio-8080-exec-6:5259293 ] - [ DEBUG ]  Initializing transaction synchronization
2016-05-25 00:05:59  [ http-bio-8080-exec-6:5259293 ] - [ DEBUG ]  Getting transaction for service.RegistrationService.mark
2016-05-25 00:05:59  [ http-bio-8080-exec-6:5259294 ] - [ DEBUG ]  Retrieved value [org.springframework.orm.hibernate3.SessionHolder@3ecb8b16] for key [org.hibernate.impl.SessionFactoryImpl@40fc29d7] bound to thread [http-bio-8080-exec-6]
2016-05-25 00:05:59  [ http-bio-8080-exec-6:5259295 ] - [ DEBUG ]  about to open PreparedStatement (open PreparedStatements: 0, globally: 0)
2016-05-25 00:05:59  [ http-bio-8080-exec-6:5259295 ] - [ DEBUG ]  
    update
        registration 
    set
        state=? 
    where
        user_id=? 
2016-05-25 00:05:59  [ http-bio-8080-exec-6:5259296 ] - [ DEBUG ]  bindNamedParameters() 1 -> userId [2]
2016-05-25 00:05:59  [ http-bio-8080-exec-6:5259297 ] - [ DEBUG ]  bindNamedParameters() ÒÑ¾ÍÕï -> handled [1]
2016-05-25 00:06:00  [ http-bio-8080-exec-6:5259372 ] - [ DEBUG ]  about to close PreparedStatement (open PreparedStatements: 1, globally: 1)
2016-05-25 00:06:00  [ http-bio-8080-exec-6:5259373 ] - [ DEBUG ]  Invoking commit for transaction on service.RegistrationService.mark
2016-05-25 00:06:00  [ http-bio-8080-exec-6:5259374 ] - [ DEBUG ]  Triggering beforeCommit synchronization
2016-05-25 00:06:00  [ http-bio-8080-exec-6:5259375 ] - [ DEBUG ]  Triggering beforeCompletion synchronization
2016-05-25 00:06:00  [ http-bio-8080-exec-6:5259376 ] - [ DEBUG ]  Initiating transaction commit
2016-05-25 00:06:00  [ http-bio-8080-exec-6:5259378 ] - [ DEBUG ]  Committing Hibernate transaction on Session [org.hibernate.impl.SessionImpl@a81b7b9]
2016-05-25 00:06:00  [ http-bio-8080-exec-6:5259378 ] - [ DEBUG ]  commit
2016-05-25 00:06:00  [ http-bio-8080-exec-6:5259381 ] - [ DEBUG ]  re-enabling autocommit
2016-05-25 00:06:00  [ http-bio-8080-exec-6:5259383 ] - [ DEBUG ]  committed JDBC Connection
2016-05-25 00:06:00  [ http-bio-8080-exec-6:5259384 ] - [ DEBUG ]  transaction completed on session with on_close connection release mode; be sure to close the session to release JDBC resources!
2016-05-25 00:06:00  [ http-bio-8080-exec-6:5259385 ] - [ DEBUG ]  Triggering afterCommit synchronization
2016-05-25 00:06:00  [ http-bio-8080-exec-6:5259386 ] - [ DEBUG ]  Triggering afterCompletion synchronization
2016-05-25 00:06:00  [ http-bio-8080-exec-6:5259387 ] - [ DEBUG ]  Clearing transaction synchronization
2016-05-25 00:06:00  [ http-bio-8080-exec-6:5259388 ] - [ DEBUG ]  Removed value [org.springframework.orm.hibernate3.SessionHolder@3ecb8b16] for key [org.hibernate.impl.SessionFactoryImpl@40fc29d7] from thread [http-bio-8080-exec-6]
2016-05-25 00:06:00  [ http-bio-8080-exec-6:5259396 ] - [ DEBUG ]  Removed value [org.springframework.jdbc.datasource.ConnectionHolder@790870fe] for key [com.mchange.v2.c3p0.ComboPooledDataSource@87409cf[ acquireIncrement -> 3, acquireRetryAttempts -> 30, acquireRetryDelay -> 1000, autoCommitOnClose -> false, automaticTestTable -> null, breakAfterAcquireFailure -> false, checkoutTimeout -> 0, connectionTesterClassName -> com.mchange.v2.c3p0.impl.DefaultConnectionTester, description -> null, driverClass -> com.mysql.jdbc.Driver, factoryClassLocation -> null, forceIgnoreUnresolvedTransactions -> false, identityToken -> 87409cf, idleConnectionTestPeriod -> -1, initialPoolSize -> 3, jdbcUrl -> jdbc:mysql://localhost:3306/hospital?characterEncoding=utf-8, loginTimeout -> 0, maxIdleTime -> 0, maxPoolSize -> 15, maxStatements -> 0, maxStatementsPerConnection -> 0, minPoolSize -> 3, numHelperThreads -> 3, preferredTestQuery -> null, properties -> {user=******, password=******}, propertyCycle -> 300, testConnectionOnCheckin -> false, testConnectionOnCheckout -> false, usesTraditionalReflectiveProxies -> false ]] from thread [http-bio-8080-exec-6]
2016-05-25 00:06:00  [ http-bio-8080-exec-6:5259397 ] - [ DEBUG ]  Closing Hibernate Session [org.hibernate.impl.SessionImpl@a81b7b9] after transaction
2016-05-25 00:06:00  [ http-bio-8080-exec-6:5259397 ] - [ DEBUG ]  Closing Hibernate Session
2016-05-25 00:06:00  [ http-bio-8080-exec-6:5259398 ] - [ DEBUG ]  releasing JDBC connection [ (open PreparedStatements: 0, globally: 0) (open ResultSets: 0, globally: 0)]
2016-05-25 00:06:00  [ http-bio-8080-exec-6:5259398 ] - [ DEBUG ]  trace com.mchange.v2.resourcepool.BasicResourcePool@1ed5eb39 [managed: 3, unused: 2, excluded: 0] (e.g. com.mchange.v2.c3p0.impl.NewPooledConnection@7303eee0)
2016-05-25 00:06:00  [ http-bio-8080-exec-6:5259399 ] - [ DEBUG ]  transaction completed on session with on_close connection release mode; be sure to close the session to release JDBC resources!
2016-05-25 00:06:00  [ http-bio-8080-exec-6:5259400 ] - [ DEBUG ]  No bean named 'org.apache.struts2.json.JSONResult' found in org.springframework.beans.factory.support.DefaultListableBeanFactory defining beans [dataSource,sessionFactory,userDao,doctorDao,departmentDao,hospitalDao,periodDao,scheduleDao,registrationDao,workTimeDao,doctorService,registrationService,periodService,scheduleService,workTimeService,transactionManager,transactionInterceptor,ProxyCreator,doctorName,sex,hospital,department,tel,getPeriods,getRegistrations,mark,insert]; root of BeanFactory hierarchy
2016-05-25 00:06:00  [ http-bio-8080-exec-6:5259400 ] - [ DEBUG ]  Creating [java.util.LinkedHashMap]
2016-05-25 00:06:00  [ http-bio-8080-exec-6:5259401 ] - [ DEBUG ]  Creating [java.util.LinkedHashMap]
2016-05-25 00:06:00  [ http-bio-8080-exec-6:5259401 ] - [ DEBUG ]  Using cached introspection results for class [org.apache.struts2.json.JSONResult]
2016-05-25 00:06:00  [ http-bio-8080-exec-6:5259402 ] - [ DEBUG ]  Bean 'org.apache.struts2.json.JSONResult' instantiated via constructor [public org.apache.struts2.json.JSONResult()]
2016-05-25 00:06:00  [ http-bio-8080-exec-6:5259402 ] - [ DEBUG ]  Invoking BeanPostProcessors before initialization of bean 'org.apache.struts2.json.JSONResult'
2016-05-25 00:06:00  [ http-bio-8080-exec-6:5259403 ] - [ DEBUG ]  Invoking BeanPostProcessors after initialization of bean 'org.apache.struts2.json.JSONResult'
2016-05-25 00:06:00  [ http-bio-8080-exec-6:5259403 ] - [ DEBUG ]  Using cached introspection results for class [org.apache.struts2.json.JSONResult]
2016-05-25 00:06:00  [ http-bio-8080-exec-6:5259404 ] - [ DEBUG ]  Creating [java.util.LinkedHashMap]
2016-05-25 00:06:00  [ http-bio-8080-exec-6:5259408 ] - [ DEBUG ]  Using transaction object [org.springframework.orm.hibernate3.HibernateTransactionManager$HibernateTransactionObject@d5d35f2]
2016-05-25 00:06:00  [ http-bio-8080-exec-6:5259409 ] - [ DEBUG ]  Creating new transaction with name [service.ScheduleService.findPeriods]
2016-05-25 00:06:00  [ http-bio-8080-exec-6:5259409 ] - [ DEBUG ]  opened session at timestamp: 14641059600
2016-05-25 00:06:00  [ http-bio-8080-exec-6:5259410 ] - [ DEBUG ]  Opened new Session [org.hibernate.impl.SessionImpl@e0d5539] for Hibernate transaction
2016-05-25 00:06:00  [ http-bio-8080-exec-6:5259410 ] - [ DEBUG ]  Preparing JDBC Connection of Hibernate Session [org.hibernate.impl.SessionImpl@e0d5539]
2016-05-25 00:06:00  [ http-bio-8080-exec-6:5259411 ] - [ DEBUG ]  begin
2016-05-25 00:06:00  [ http-bio-8080-exec-6:5259411 ] - [ DEBUG ]  opening JDBC connection
2016-05-25 00:06:00  [ http-bio-8080-exec-6:5259412 ] - [ DEBUG ]  trace com.mchange.v2.resourcepool.BasicResourcePool@1ed5eb39 [managed: 3, unused: 2, excluded: 0] (e.g. com.mchange.v2.c3p0.impl.NewPooledConnection@7303eee0)
2016-05-25 00:06:00  [ http-bio-8080-exec-6:5259412 ] - [ DEBUG ]  current autocommit status: true
2016-05-25 00:06:00  [ http-bio-8080-exec-6:5259413 ] - [ DEBUG ]  disabling autocommit
2016-05-25 00:06:00  [ http-bio-8080-exec-6:5259414 ] - [ DEBUG ]  Exposing Hibernate transaction as JDBC transaction [com.mchange.v2.c3p0.impl.NewProxyConnection@34c96cad]
2016-05-25 00:06:00  [ http-bio-8080-exec-6:5259421 ] - [ DEBUG ]  Bound value [org.springframework.jdbc.datasource.ConnectionHolder@3ce0783] for key [com.mchange.v2.c3p0.ComboPooledDataSource@87409cf[ acquireIncrement -> 3, acquireRetryAttempts -> 30, acquireRetryDelay -> 1000, autoCommitOnClose -> false, automaticTestTable -> null, breakAfterAcquireFailure -> false, checkoutTimeout -> 0, connectionTesterClassName -> com.mchange.v2.c3p0.impl.DefaultConnectionTester, description -> null, driverClass -> com.mysql.jdbc.Driver, factoryClassLocation -> null, forceIgnoreUnresolvedTransactions -> false, identityToken -> 87409cf, idleConnectionTestPeriod -> -1, initialPoolSize -> 3, jdbcUrl -> jdbc:mysql://localhost:3306/hospital?characterEncoding=utf-8, loginTimeout -> 0, maxIdleTime -> 0, maxPoolSize -> 15, maxStatements -> 0, maxStatementsPerConnection -> 0, minPoolSize -> 3, numHelperThreads -> 3, preferredTestQuery -> null, properties -> {user=******, password=******}, propertyCycle -> 300, testConnectionOnCheckin -> false, testConnectionOnCheckout -> false, usesTraditionalReflectiveProxies -> false ]] to thread [http-bio-8080-exec-6]
2016-05-25 00:06:00  [ http-bio-8080-exec-6:5259421 ] - [ DEBUG ]  Bound value [org.springframework.orm.hibernate3.SessionHolder@3aaadf78] for key [org.hibernate.impl.SessionFactoryImpl@40fc29d7] to thread [http-bio-8080-exec-6]
2016-05-25 00:06:00  [ http-bio-8080-exec-6:5259422 ] - [ DEBUG ]  Initializing transaction synchronization
2016-05-25 00:06:00  [ http-bio-8080-exec-6:5259422 ] - [ DEBUG ]  Getting transaction for service.ScheduleService.findPeriods
2016-05-25 00:06:00  [ http-bio-8080-exec-6:5259422 ] - [ DEBUG ]  Retrieved value [org.springframework.orm.hibernate3.SessionHolder@3aaadf78] for key [org.hibernate.impl.SessionFactoryImpl@40fc29d7] bound to thread [http-bio-8080-exec-6]
2016-05-25 00:06:00  [ http-bio-8080-exec-6:5259423 ] - [ DEBUG ]  about to open PreparedStatement (open PreparedStatements: 0, globally: 0)
2016-05-25 00:06:00  [ http-bio-8080-exec-6:5259424 ] - [ DEBUG ]  
    select
        p.* 
    from
        doctor d 
    join
        schedule s 
    join
        period p 
    where
        s.doctor_id=d.id 
        and s.period_id=p.id 
        and d.name= ?
2016-05-25 00:06:00  [ http-bio-8080-exec-6:5259426 ] - [ DEBUG ]  bindNamedParameters() null -> doctorName [1]
2016-05-25 00:06:00  [ http-bio-8080-exec-6:5259427 ] - [ DEBUG ]  about to open ResultSet (open ResultSets: 0, globally: 0)
2016-05-25 00:06:00  [ http-bio-8080-exec-6:5259427 ] - [ DEBUG ]  about to close ResultSet (open ResultSets: 1, globally: 1)
2016-05-25 00:06:00  [ http-bio-8080-exec-6:5259428 ] - [ DEBUG ]  about to close PreparedStatement (open PreparedStatements: 1, globally: 1)
2016-05-25 00:06:00  [ http-bio-8080-exec-6:5259428 ] - [ DEBUG ]  initializing non-lazy collections
2016-05-25 00:06:00  [ http-bio-8080-exec-6:5259429 ] - [ DEBUG ]  Invoking commit for transaction on service.ScheduleService.findPeriods
2016-05-25 00:06:00  [ http-bio-8080-exec-6:5259429 ] - [ DEBUG ]  Triggering beforeCommit synchronization
2016-05-25 00:06:00  [ http-bio-8080-exec-6:5259429 ] - [ DEBUG ]  Triggering beforeCompletion synchronization
2016-05-25 00:06:00  [ http-bio-8080-exec-6:5259429 ] - [ DEBUG ]  Initiating transaction commit
2016-05-25 00:06:00  [ http-bio-8080-exec-6:5259430 ] - [ DEBUG ]  Committing Hibernate transaction on Session [org.hibernate.impl.SessionImpl@e0d5539]
2016-05-25 00:06:00  [ http-bio-8080-exec-6:5259430 ] - [ DEBUG ]  commit
2016-05-25 00:06:00  [ http-bio-8080-exec-6:5259431 ] - [ DEBUG ]  re-enabling autocommit
2016-05-25 00:06:00  [ http-bio-8080-exec-6:5259431 ] - [ DEBUG ]  committed JDBC Connection
2016-05-25 00:06:00  [ http-bio-8080-exec-6:5259432 ] - [ DEBUG ]  transaction completed on session with on_close connection release mode; be sure to close the session to release JDBC resources!
2016-05-25 00:06:00  [ http-bio-8080-exec-6:5259432 ] - [ DEBUG ]  Triggering afterCommit synchronization
2016-05-25 00:06:00  [ http-bio-8080-exec-6:5259433 ] - [ DEBUG ]  Triggering afterCompletion synchronization
2016-05-25 00:06:00  [ http-bio-8080-exec-6:5259433 ] - [ DEBUG ]  Clearing transaction synchronization
2016-05-25 00:06:00  [ http-bio-8080-exec-6:5259433 ] - [ DEBUG ]  Removed value [org.springframework.orm.hibernate3.SessionHolder@3aaadf78] for key [org.hibernate.impl.SessionFactoryImpl@40fc29d7] from thread [http-bio-8080-exec-6]
2016-05-25 00:06:00  [ http-bio-8080-exec-6:5259439 ] - [ DEBUG ]  Removed value [org.springframework.jdbc.datasource.ConnectionHolder@3ce0783] for key [com.mchange.v2.c3p0.ComboPooledDataSource@87409cf[ acquireIncrement -> 3, acquireRetryAttempts -> 30, acquireRetryDelay -> 1000, autoCommitOnClose -> false, automaticTestTable -> null, breakAfterAcquireFailure -> false, checkoutTimeout -> 0, connectionTesterClassName -> com.mchange.v2.c3p0.impl.DefaultConnectionTester, description -> null, driverClass -> com.mysql.jdbc.Driver, factoryClassLocation -> null, forceIgnoreUnresolvedTransactions -> false, identityToken -> 87409cf, idleConnectionTestPeriod -> -1, initialPoolSize -> 3, jdbcUrl -> jdbc:mysql://localhost:3306/hospital?characterEncoding=utf-8, loginTimeout -> 0, maxIdleTime -> 0, maxPoolSize -> 15, maxStatements -> 0, maxStatementsPerConnection -> 0, minPoolSize -> 3, numHelperThreads -> 3, preferredTestQuery -> null, properties -> {user=******, password=******}, propertyCycle -> 300, testConnectionOnCheckin -> false, testConnectionOnCheckout -> false, usesTraditionalReflectiveProxies -> false ]] from thread [http-bio-8080-exec-6]
2016-05-25 00:06:00  [ http-bio-8080-exec-6:5259439 ] - [ DEBUG ]  Closing Hibernate Session [org.hibernate.impl.SessionImpl@e0d5539] after transaction
2016-05-25 00:06:00  [ http-bio-8080-exec-6:5259439 ] - [ DEBUG ]  Closing Hibernate Session
2016-05-25 00:06:00  [ http-bio-8080-exec-6:5259440 ] - [ DEBUG ]  releasing JDBC connection [ (open PreparedStatements: 0, globally: 0) (open ResultSets: 0, globally: 0)]
2016-05-25 00:06:00  [ http-bio-8080-exec-6:5259441 ] - [ DEBUG ]  trace com.mchange.v2.resourcepool.BasicResourcePool@1ed5eb39 [managed: 3, unused: 2, excluded: 0] (e.g. com.mchange.v2.c3p0.impl.NewPooledConnection@7303eee0)
2016-05-25 00:06:00  [ http-bio-8080-exec-6:5259442 ] - [ DEBUG ]  transaction completed on session with on_close connection release mode; be sure to close the session to release JDBC resources!
2016-05-25 00:06:00  [ http-bio-8080-exec-6:5259442 ] - [ DEBUG ]  [JSON]{"periods":"success","registrations":"success"}
2016-05-25 00:06:00  [ http-bio-8080-exec-6:5259443 ] - [ DEBUG ]  after Locale=zh_CN
2016-05-25 00:06:00  [ http-bio-8080-exec-6:5259443 ] - [ DEBUG ]  intercept } 
2016-05-25 00:08:12  [ http-bio-8080-exec-9:5391673 ] - [ DEBUG ]  Entering nullPropertyValue [target=[com.opensymphony.xwork2.DefaultTextProvider@64b8ecac], property=struts]
2016-05-25 00:08:12  [ http-bio-8080-exec-9:5391675 ] - [ DEBUG ]  Entering nullPropertyValue [target=[com.opensymphony.xwork2.DefaultTextProvider@64b8ecac], property=org]
2016-05-25 00:08:12  [ http-bio-8080-exec-9:5391768 ] - [ DEBUG ]  Entering nullPropertyValue [target=[com.opensymphony.xwork2.DefaultTextProvider@64b8ecac], property=struts]
2016-05-25 00:08:12  [ http-bio-8080-exec-9:5391768 ] - [ DEBUG ]  Entering nullPropertyValue [target=[com.opensymphony.xwork2.DefaultTextProvider@64b8ecac], property=struts]
2016-05-25 00:08:12  [ http-bio-8080-exec-9:5391769 ] - [ DEBUG ]  Creating an DefaultActionProxy for namespace / and action name getPeriods
2016-05-25 00:08:12  [ http-bio-8080-exec-9:5391769 ] - [ DEBUG ]  No bean named 'action.HandleAction' found in org.springframework.beans.factory.support.DefaultListableBeanFactory defining beans [dataSource,sessionFactory,userDao,doctorDao,departmentDao,hospitalDao,periodDao,scheduleDao,registrationDao,workTimeDao,doctorService,registrationService,periodService,scheduleService,workTimeService,transactionManager,transactionInterceptor,ProxyCreator,doctorName,sex,hospital,department,tel,getPeriods,getRegistrations,mark,insert]; root of BeanFactory hierarchy
2016-05-25 00:08:12  [ http-bio-8080-exec-9:5391769 ] - [ DEBUG ]  Creating [java.util.LinkedHashMap]
2016-05-25 00:08:12  [ http-bio-8080-exec-9:5391769 ] - [ DEBUG ]  Creating [java.util.LinkedHashMap]
2016-05-25 00:08:12  [ http-bio-8080-exec-9:5391770 ] - [ DEBUG ]  Using cached introspection results for class [action.HandleAction]
2016-05-25 00:08:12  [ http-bio-8080-exec-9:5391770 ] - [ DEBUG ]  Bean 'action.HandleAction' instantiated via constructor [public action.HandleAction()]
2016-05-25 00:08:12  [ http-bio-8080-exec-9:5391770 ] - [ DEBUG ]  Invoking BeanPostProcessors before initialization of bean 'action.HandleAction'
2016-05-25 00:08:12  [ http-bio-8080-exec-9:5391770 ] - [ DEBUG ]  Invoking BeanPostProcessors after initialization of bean 'action.HandleAction'
2016-05-25 00:08:12  [ http-bio-8080-exec-9:5391770 ] - [ DEBUG ]  Using cached introspection results for class [action.HandleAction]
2016-05-25 00:08:12  [ http-bio-8080-exec-9:5391771 ] - [ DEBUG ]  Not autowiring property 'actionErrors' of bean 'action.HandleAction' by name: no matching bean found
2016-05-25 00:08:12  [ http-bio-8080-exec-9:5391771 ] - [ DEBUG ]  Not autowiring property 'actionMessages' of bean 'action.HandleAction' by name: no matching bean found
2016-05-25 00:08:12  [ http-bio-8080-exec-9:5391771 ] - [ DEBUG ]  Not autowiring property 'fieldErrors' of bean 'action.HandleAction' by name: no matching bean found
2016-05-25 00:08:12  [ http-bio-8080-exec-9:5391771 ] - [ DEBUG ]  Returning cached instance of singleton bean 'registrationService'
2016-05-25 00:08:12  [ http-bio-8080-exec-9:5391771 ] - [ DEBUG ]  Added autowiring by name from bean name 'action.HandleAction' via property 'registrationService' to bean named 'registrationService'
2016-05-25 00:08:12  [ http-bio-8080-exec-9:5391771 ] - [ DEBUG ]  Returning cached instance of singleton bean 'scheduleService'
2016-05-25 00:08:12  [ http-bio-8080-exec-9:5391771 ] - [ DEBUG ]  Added autowiring by name from bean name 'action.HandleAction' via property 'scheduleService' to bean named 'scheduleService'
2016-05-25 00:08:12  [ http-bio-8080-exec-9:5391772 ] - [ DEBUG ]  Creating [java.util.LinkedHashMap]
2016-05-25 00:08:12  [ http-bio-8080-exec-9:5391772 ] - [ DEBUG ]  About to invoke write method [public void action.HandleAction.setRegistrationService(service.RegistrationService)] on object of class [action.HandleAction]
2016-05-25 00:08:12  [ http-bio-8080-exec-9:5391772 ] - [ DEBUG ]  Invoked write method [public void action.HandleAction.setRegistrationService(service.RegistrationService)] with value of type [service.RegistrationService]
2016-05-25 00:08:12  [ http-bio-8080-exec-9:5391772 ] - [ DEBUG ]  About to invoke write method [public void action.HandleAction.setScheduleService(service.ScheduleService)] on object of class [action.HandleAction]
2016-05-25 00:08:12  [ http-bio-8080-exec-9:5391772 ] - [ DEBUG ]  Invoked write method [public void action.HandleAction.setScheduleService(service.ScheduleService)] with value of type [service.ScheduleService]
2016-05-25 00:08:12  [ http-bio-8080-exec-9:5391773 ] - [ DEBUG ]  intercept '//getPeriods' { 
2016-05-25 00:08:12  [ http-bio-8080-exec-9:5391773 ] - [ DEBUG ]  applied invocation context locale=zh_CN
2016-05-25 00:08:12  [ http-bio-8080-exec-9:5391773 ] - [ DEBUG ]  before Locale=zh_CN
2016-05-25 00:08:12  [ http-bio-8080-exec-9:5391773 ] - [ DEBUG ]  Entering nullPropertyValue [target=[action.HandleAction@64334077, com.opensymphony.xwork2.DefaultTextProvider@64b8ecac], property=struts]
2016-05-25 00:08:12  [ http-bio-8080-exec-9:5391774 ] - [ DEBUG ]  Bypassing //getPeriods
2016-05-25 00:08:12  [ http-bio-8080-exec-9:5391774 ] - [ DEBUG ]  Setting static parameters {}
2016-05-25 00:08:12  [ http-bio-8080-exec-9:5391775 ] - [ DEBUG ]  Setting params NONE
2016-05-25 00:08:12  [ http-bio-8080-exec-9:5391775 ] - [ DEBUG ]  Setting params doctorName => [ Ë¬¸ç ] 
2016-05-25 00:08:12  [ http-bio-8080-exec-9:5391776 ] - [ DEBUG ]  Validating //getPeriods with method getPeriods.
2016-05-25 00:08:12  [ http-bio-8080-exec-9:5391776 ] - [ DEBUG ]  Invoking validate() on action action.HandleAction@64334077
2016-05-25 00:08:12  [ http-bio-8080-exec-9:5391776 ] - [ DEBUG ]  cannot find method [validateGetPeriods] in action [action.HandleAction@64334077]
2016-05-25 00:08:12  [ http-bio-8080-exec-9:5391776 ] - [ DEBUG ]  cannot find method [validateDoGetPeriods] in action [action.HandleAction@64334077]
2016-05-25 00:08:12  [ http-bio-8080-exec-9:5391777 ] - [ DEBUG ]  Executing action method = getPeriods
2016-05-25 00:08:12  [ http-bio-8080-exec-9:5391777 ] - [ DEBUG ]  Using transaction object [org.springframework.orm.hibernate3.HibernateTransactionManager$HibernateTransactionObject@645c3d98]
2016-05-25 00:08:12  [ http-bio-8080-exec-9:5391777 ] - [ DEBUG ]  Creating new transaction with name [service.ScheduleService.findPeriods]
2016-05-25 00:08:12  [ http-bio-8080-exec-9:5391778 ] - [ DEBUG ]  opened session at timestamp: 14641060924
2016-05-25 00:08:12  [ http-bio-8080-exec-9:5391778 ] - [ DEBUG ]  Opened new Session [org.hibernate.impl.SessionImpl@7484fad1] for Hibernate transaction
2016-05-25 00:08:12  [ http-bio-8080-exec-9:5391778 ] - [ DEBUG ]  Preparing JDBC Connection of Hibernate Session [org.hibernate.impl.SessionImpl@7484fad1]
2016-05-25 00:08:12  [ http-bio-8080-exec-9:5391778 ] - [ DEBUG ]  begin
2016-05-25 00:08:12  [ http-bio-8080-exec-9:5391779 ] - [ DEBUG ]  opening JDBC connection
2016-05-25 00:08:12  [ http-bio-8080-exec-9:5391779 ] - [ DEBUG ]  trace com.mchange.v2.resourcepool.BasicResourcePool@1ed5eb39 [managed: 3, unused: 2, excluded: 0] (e.g. com.mchange.v2.c3p0.impl.NewPooledConnection@7303eee0)
2016-05-25 00:08:12  [ http-bio-8080-exec-9:5391780 ] - [ DEBUG ]  current autocommit status: true
2016-05-25 00:08:12  [ http-bio-8080-exec-9:5391780 ] - [ DEBUG ]  disabling autocommit
2016-05-25 00:08:12  [ http-bio-8080-exec-9:5391781 ] - [ DEBUG ]  Exposing Hibernate transaction as JDBC transaction [com.mchange.v2.c3p0.impl.NewProxyConnection@263bbb2]
2016-05-25 00:08:12  [ http-bio-8080-exec-9:5391790 ] - [ DEBUG ]  Bound value [org.springframework.jdbc.datasource.ConnectionHolder@5f867ddf] for key [com.mchange.v2.c3p0.ComboPooledDataSource@87409cf[ acquireIncrement -> 3, acquireRetryAttempts -> 30, acquireRetryDelay -> 1000, autoCommitOnClose -> false, automaticTestTable -> null, breakAfterAcquireFailure -> false, checkoutTimeout -> 0, connectionTesterClassName -> com.mchange.v2.c3p0.impl.DefaultConnectionTester, description -> null, driverClass -> com.mysql.jdbc.Driver, factoryClassLocation -> null, forceIgnoreUnresolvedTransactions -> false, identityToken -> 87409cf, idleConnectionTestPeriod -> -1, initialPoolSize -> 3, jdbcUrl -> jdbc:mysql://localhost:3306/hospital?characterEncoding=utf-8, loginTimeout -> 0, maxIdleTime -> 0, maxPoolSize -> 15, maxStatements -> 0, maxStatementsPerConnection -> 0, minPoolSize -> 3, numHelperThreads -> 3, preferredTestQuery -> null, properties -> {user=******, password=******}, propertyCycle -> 300, testConnectionOnCheckin -> false, testConnectionOnCheckout -> false, usesTraditionalReflectiveProxies -> false ]] to thread [http-bio-8080-exec-9]
2016-05-25 00:08:12  [ http-bio-8080-exec-9:5391790 ] - [ DEBUG ]  Bound value [org.springframework.orm.hibernate3.SessionHolder@1b1bb582] for key [org.hibernate.impl.SessionFactoryImpl@40fc29d7] to thread [http-bio-8080-exec-9]
2016-05-25 00:08:12  [ http-bio-8080-exec-9:5391791 ] - [ DEBUG ]  Initializing transaction synchronization
2016-05-25 00:08:12  [ http-bio-8080-exec-9:5391791 ] - [ DEBUG ]  Getting transaction for service.ScheduleService.findPeriods
2016-05-25 00:08:12  [ http-bio-8080-exec-9:5391792 ] - [ DEBUG ]  Retrieved value [org.springframework.orm.hibernate3.SessionHolder@1b1bb582] for key [org.hibernate.impl.SessionFactoryImpl@40fc29d7] bound to thread [http-bio-8080-exec-9]
2016-05-25 00:08:12  [ http-bio-8080-exec-9:5391793 ] - [ DEBUG ]  about to open PreparedStatement (open PreparedStatements: 0, globally: 0)
2016-05-25 00:08:12  [ http-bio-8080-exec-9:5391819 ] - [ DEBUG ]  
    select
        p.* 
    from
        doctor d 
    join
        schedule s 
    join
        period p 
    where
        s.doctor_id=d.id 
        and s.period_id=p.id 
        and d.name= ?
2016-05-25 00:08:12  [ http-bio-8080-exec-9:5391821 ] - [ DEBUG ]  bindNamedParameters() Ë¬¸ç -> doctorName [1]
2016-05-25 00:08:12  [ http-bio-8080-exec-9:5391824 ] - [ DEBUG ]  about to open ResultSet (open ResultSets: 0, globally: 0)
2016-05-25 00:08:12  [ http-bio-8080-exec-9:5391825 ] - [ DEBUG ]  result row: EntityKey[persistance.Period#1]
2016-05-25 00:08:12  [ http-bio-8080-exec-9:5391825 ] - [ DEBUG ]  result row: EntityKey[persistance.Period#2]
2016-05-25 00:08:12  [ http-bio-8080-exec-9:5391826 ] - [ DEBUG ]  result row: EntityKey[persistance.Period#3]
2016-05-25 00:08:12  [ http-bio-8080-exec-9:5391826 ] - [ DEBUG ]  about to close ResultSet (open ResultSets: 1, globally: 1)
2016-05-25 00:08:12  [ http-bio-8080-exec-9:5391827 ] - [ DEBUG ]  about to close PreparedStatement (open PreparedStatements: 1, globally: 1)
2016-05-25 00:08:12  [ http-bio-8080-exec-9:5391828 ] - [ DEBUG ]  resolving associations for [persistance.Period#1]
2016-05-25 00:08:12  [ http-bio-8080-exec-9:5391828 ] - [ DEBUG ]  done materializing entity [persistance.Period#1]
2016-05-25 00:08:12  [ http-bio-8080-exec-9:5391829 ] - [ DEBUG ]  resolving associations for [persistance.Period#2]
2016-05-25 00:08:12  [ http-bio-8080-exec-9:5391829 ] - [ DEBUG ]  done materializing entity [persistance.Period#2]
2016-05-25 00:08:12  [ http-bio-8080-exec-9:5391830 ] - [ DEBUG ]  resolving associations for [persistance.Period#3]
2016-05-25 00:08:12  [ http-bio-8080-exec-9:5391830 ] - [ DEBUG ]  done materializing entity [persistance.Period#3]
2016-05-25 00:08:12  [ http-bio-8080-exec-9:5391830 ] - [ DEBUG ]  initializing non-lazy collections
2016-05-25 00:08:12  [ http-bio-8080-exec-9:5391831 ] - [ DEBUG ]  Invoking commit for transaction on service.ScheduleService.findPeriods
2016-05-25 00:08:12  [ http-bio-8080-exec-9:5391831 ] - [ DEBUG ]  Triggering beforeCommit synchronization
2016-05-25 00:08:12  [ http-bio-8080-exec-9:5391832 ] - [ DEBUG ]  Triggering beforeCompletion synchronization
2016-05-25 00:08:12  [ http-bio-8080-exec-9:5391832 ] - [ DEBUG ]  Initiating transaction commit
2016-05-25 00:08:12  [ http-bio-8080-exec-9:5391832 ] - [ DEBUG ]  Committing Hibernate transaction on Session [org.hibernate.impl.SessionImpl@7484fad1]
2016-05-25 00:08:12  [ http-bio-8080-exec-9:5391833 ] - [ DEBUG ]  commit
2016-05-25 00:08:12  [ http-bio-8080-exec-9:5391833 ] - [ DEBUG ]  processing flush-time cascades
2016-05-25 00:08:12  [ http-bio-8080-exec-9:5391833 ] - [ DEBUG ]  dirty checking collections
2016-05-25 00:08:12  [ http-bio-8080-exec-9:5391834 ] - [ DEBUG ]  Collection found: [persistance.Period.schedules#1], was: [persistance.Period.schedules#1] (uninitialized)
2016-05-25 00:08:12  [ http-bio-8080-exec-9:5391834 ] - [ DEBUG ]  Collection found: [persistance.Period.workTimes#1], was: [persistance.Period.workTimes#1] (uninitialized)
2016-05-25 00:08:12  [ http-bio-8080-exec-9:5391834 ] - [ DEBUG ]  Collection found: [persistance.Period.registrations#1], was: [persistance.Period.registrations#1] (uninitialized)
2016-05-25 00:08:12  [ http-bio-8080-exec-9:5391834 ] - [ DEBUG ]  Collection found: [persistance.Period.schedules_1#1], was: [persistance.Period.schedules_1#1] (uninitialized)
2016-05-25 00:08:12  [ http-bio-8080-exec-9:5391835 ] - [ DEBUG ]  Collection found: [persistance.Period.registrations_1#1], was: [persistance.Period.registrations_1#1] (uninitialized)
2016-05-25 00:08:12  [ http-bio-8080-exec-9:5391835 ] - [ DEBUG ]  Collection found: [persistance.Period.schedules#2], was: [persistance.Period.schedules#2] (uninitialized)
2016-05-25 00:08:12  [ http-bio-8080-exec-9:5391836 ] - [ DEBUG ]  Collection found: [persistance.Period.workTimes#2], was: [persistance.Period.workTimes#2] (uninitialized)
2016-05-25 00:08:12  [ http-bio-8080-exec-9:5391836 ] - [ DEBUG ]  Collection found: [persistance.Period.registrations#2], was: [persistance.Period.registrations#2] (uninitialized)
2016-05-25 00:08:12  [ http-bio-8080-exec-9:5391836 ] - [ DEBUG ]  Collection found: [persistance.Period.schedules_1#2], was: [persistance.Period.schedules_1#2] (uninitialized)
2016-05-25 00:08:12  [ http-bio-8080-exec-9:5391837 ] - [ DEBUG ]  Collection found: [persistance.Period.registrations_1#2], was: [persistance.Period.registrations_1#2] (uninitialized)
2016-05-25 00:08:12  [ http-bio-8080-exec-9:5391837 ] - [ DEBUG ]  Collection found: [persistance.Period.schedules#3], was: [persistance.Period.schedules#3] (uninitialized)
2016-05-25 00:08:12  [ http-bio-8080-exec-9:5391837 ] - [ DEBUG ]  Collection found: [persistance.Period.workTimes#3], was: [persistance.Period.workTimes#3] (uninitialized)
2016-05-25 00:08:12  [ http-bio-8080-exec-9:5391838 ] - [ DEBUG ]  Collection found: [persistance.Period.registrations#3], was: [persistance.Period.registrations#3] (uninitialized)
2016-05-25 00:08:12  [ http-bio-8080-exec-9:5391838 ] - [ DEBUG ]  Collection found: [persistance.Period.schedules_1#3], was: [persistance.Period.schedules_1#3] (uninitialized)
2016-05-25 00:08:12  [ http-bio-8080-exec-9:5391838 ] - [ DEBUG ]  Collection found: [persistance.Period.registrations_1#3], was: [persistance.Period.registrations_1#3] (uninitialized)
2016-05-25 00:08:12  [ http-bio-8080-exec-9:5391839 ] - [ DEBUG ]  Flushed: 0 insertions, 0 updates, 0 deletions to 3 objects
2016-05-25 00:08:12  [ http-bio-8080-exec-9:5391839 ] - [ DEBUG ]  Flushed: 0 (re)creations, 0 updates, 0 removals to 15 collections
2016-05-25 00:08:12  [ http-bio-8080-exec-9:5391839 ] - [ DEBUG ]  listing entities:
2016-05-25 00:08:12  [ http-bio-8080-exec-9:5391840 ] - [ DEBUG ]  persistance.Period{id=3, registrations_1=<uninitialized>, schedules=<uninitialized>, schedules_1=<uninitialized>, workTimes=<uninitialized>, registrations=<uninitialized>, beginTime=09:00:00, endTime=10:00:00, date=2016-05-21 00:00:00}
2016-05-25 00:08:12  [ http-bio-8080-exec-9:5391841 ] - [ DEBUG ]  persistance.Period{id=1, registrations_1=<uninitialized>, schedules=<uninitialized>, schedules_1=<uninitialized>, workTimes=<uninitialized>, registrations=<uninitialized>, beginTime=09:00:00, endTime=10:00:00, date=2016-05-04 00:00:00}
2016-05-25 00:08:12  [ http-bio-8080-exec-9:5391841 ] - [ DEBUG ]  persistance.Period{id=2, registrations_1=<uninitialized>, schedules=<uninitialized>, schedules_1=<uninitialized>, workTimes=<uninitialized>, registrations=<uninitialized>, beginTime=10:00:00, endTime=11:00:00, date=2016-05-21 00:00:00}
2016-05-25 00:08:12  [ http-bio-8080-exec-9:5391843 ] - [ DEBUG ]  re-enabling autocommit
2016-05-25 00:08:12  [ http-bio-8080-exec-9:5391844 ] - [ DEBUG ]  committed JDBC Connection
2016-05-25 00:08:12  [ http-bio-8080-exec-9:5391844 ] - [ DEBUG ]  transaction completed on session with on_close connection release mode; be sure to close the session to release JDBC resources!
2016-05-25 00:08:12  [ http-bio-8080-exec-9:5391844 ] - [ DEBUG ]  Triggering afterCommit synchronization
2016-05-25 00:08:12  [ http-bio-8080-exec-9:5391844 ] - [ DEBUG ]  Triggering afterCompletion synchronization
2016-05-25 00:08:12  [ http-bio-8080-exec-9:5391845 ] - [ DEBUG ]  Clearing transaction synchronization
2016-05-25 00:08:12  [ http-bio-8080-exec-9:5391845 ] - [ DEBUG ]  Removed value [org.springframework.orm.hibernate3.SessionHolder@1b1bb582] for key [org.hibernate.impl.SessionFactoryImpl@40fc29d7] from thread [http-bio-8080-exec-9]
2016-05-25 00:08:12  [ http-bio-8080-exec-9:5391849 ] - [ DEBUG ]  Removed value [org.springframework.jdbc.datasource.ConnectionHolder@5f867ddf] for key [com.mchange.v2.c3p0.ComboPooledDataSource@87409cf[ acquireIncrement -> 3, acquireRetryAttempts -> 30, acquireRetryDelay -> 1000, autoCommitOnClose -> false, automaticTestTable -> null, breakAfterAcquireFailure -> false, checkoutTimeout -> 0, connectionTesterClassName -> com.mchange.v2.c3p0.impl.DefaultConnectionTester, description -> null, driverClass -> com.mysql.jdbc.Driver, factoryClassLocation -> null, forceIgnoreUnresolvedTransactions -> false, identityToken -> 87409cf, idleConnectionTestPeriod -> -1, initialPoolSize -> 3, jdbcUrl -> jdbc:mysql://localhost:3306/hospital?characterEncoding=utf-8, loginTimeout -> 0, maxIdleTime -> 0, maxPoolSize -> 15, maxStatements -> 0, maxStatementsPerConnection -> 0, minPoolSize -> 3, numHelperThreads -> 3, preferredTestQuery -> null, properties -> {user=******, password=******}, propertyCycle -> 300, testConnectionOnCheckin -> false, testConnectionOnCheckout -> false, usesTraditionalReflectiveProxies -> false ]] from thread [http-bio-8080-exec-9]
2016-05-25 00:08:12  [ http-bio-8080-exec-9:5391849 ] - [ DEBUG ]  Closing Hibernate Session [org.hibernate.impl.SessionImpl@7484fad1] after transaction
2016-05-25 00:08:12  [ http-bio-8080-exec-9:5391849 ] - [ DEBUG ]  Closing Hibernate Session
2016-05-25 00:08:12  [ http-bio-8080-exec-9:5391850 ] - [ DEBUG ]  releasing JDBC connection [ (open PreparedStatements: 0, globally: 0) (open ResultSets: 0, globally: 0)]
2016-05-25 00:08:12  [ http-bio-8080-exec-9:5391850 ] - [ DEBUG ]  trace com.mchange.v2.resourcepool.BasicResourcePool@1ed5eb39 [managed: 3, unused: 2, excluded: 0] (e.g. com.mchange.v2.c3p0.impl.NewPooledConnection@7303eee0)
2016-05-25 00:08:12  [ http-bio-8080-exec-9:5391850 ] - [ DEBUG ]  transaction completed on session with on_close connection release mode; be sure to close the session to release JDBC resources!
2016-05-25 00:08:12  [ http-bio-8080-exec-9:5391851 ] - [ DEBUG ]  No bean named 'org.apache.struts2.json.JSONResult' found in org.springframework.beans.factory.support.DefaultListableBeanFactory defining beans [dataSource,sessionFactory,userDao,doctorDao,departmentDao,hospitalDao,periodDao,scheduleDao,registrationDao,workTimeDao,doctorService,registrationService,periodService,scheduleService,workTimeService,transactionManager,transactionInterceptor,ProxyCreator,doctorName,sex,hospital,department,tel,getPeriods,getRegistrations,mark,insert]; root of BeanFactory hierarchy
2016-05-25 00:08:12  [ http-bio-8080-exec-9:5391852 ] - [ DEBUG ]  Creating [java.util.LinkedHashMap]
2016-05-25 00:08:12  [ http-bio-8080-exec-9:5391853 ] - [ DEBUG ]  Creating [java.util.LinkedHashMap]
2016-05-25 00:08:12  [ http-bio-8080-exec-9:5391853 ] - [ DEBUG ]  Using cached introspection results for class [org.apache.struts2.json.JSONResult]
2016-05-25 00:08:12  [ http-bio-8080-exec-9:5391853 ] - [ DEBUG ]  Bean 'org.apache.struts2.json.JSONResult' instantiated via constructor [public org.apache.struts2.json.JSONResult()]
2016-05-25 00:08:12  [ http-bio-8080-exec-9:5391853 ] - [ DEBUG ]  Invoking BeanPostProcessors before initialization of bean 'org.apache.struts2.json.JSONResult'
2016-05-25 00:08:12  [ http-bio-8080-exec-9:5391854 ] - [ DEBUG ]  Invoking BeanPostProcessors after initialization of bean 'org.apache.struts2.json.JSONResult'
2016-05-25 00:08:12  [ http-bio-8080-exec-9:5391854 ] - [ DEBUG ]  Using cached introspection results for class [org.apache.struts2.json.JSONResult]
2016-05-25 00:08:12  [ http-bio-8080-exec-9:5391855 ] - [ DEBUG ]  Creating [java.util.LinkedHashMap]
2016-05-25 00:08:12  [ http-bio-8080-exec-9:5391859 ] - [ DEBUG ]  Using transaction object [org.springframework.orm.hibernate3.HibernateTransactionManager$HibernateTransactionObject@1b27510b]
2016-05-25 00:08:12  [ http-bio-8080-exec-9:5391861 ] - [ DEBUG ]  Creating new transaction with name [service.ScheduleService.findPeriods]
2016-05-25 00:08:12  [ http-bio-8080-exec-9:5391861 ] - [ DEBUG ]  opened session at timestamp: 14641060925
2016-05-25 00:08:12  [ http-bio-8080-exec-9:5391862 ] - [ DEBUG ]  Opened new Session [org.hibernate.impl.SessionImpl@237b08b4] for Hibernate transaction
2016-05-25 00:08:12  [ http-bio-8080-exec-9:5391862 ] - [ DEBUG ]  Preparing JDBC Connection of Hibernate Session [org.hibernate.impl.SessionImpl@237b08b4]
2016-05-25 00:08:12  [ http-bio-8080-exec-9:5391863 ] - [ DEBUG ]  begin
2016-05-25 00:08:12  [ http-bio-8080-exec-9:5391864 ] - [ DEBUG ]  opening JDBC connection
2016-05-25 00:08:12  [ http-bio-8080-exec-9:5391864 ] - [ DEBUG ]  trace com.mchange.v2.resourcepool.BasicResourcePool@1ed5eb39 [managed: 3, unused: 2, excluded: 0] (e.g. com.mchange.v2.c3p0.impl.NewPooledConnection@7303eee0)
2016-05-25 00:08:12  [ http-bio-8080-exec-9:5391865 ] - [ DEBUG ]  current autocommit status: true
2016-05-25 00:08:12  [ http-bio-8080-exec-9:5391866 ] - [ DEBUG ]  disabling autocommit
2016-05-25 00:08:12  [ http-bio-8080-exec-9:5391866 ] - [ DEBUG ]  Exposing Hibernate transaction as JDBC transaction [com.mchange.v2.c3p0.impl.NewProxyConnection@32c265a1]
2016-05-25 00:08:12  [ http-bio-8080-exec-9:5391871 ] - [ DEBUG ]  Bound value [org.springframework.jdbc.datasource.ConnectionHolder@5f4b67a6] for key [com.mchange.v2.c3p0.ComboPooledDataSource@87409cf[ acquireIncrement -> 3, acquireRetryAttempts -> 30, acquireRetryDelay -> 1000, autoCommitOnClose -> false, automaticTestTable -> null, breakAfterAcquireFailure -> false, checkoutTimeout -> 0, connectionTesterClassName -> com.mchange.v2.c3p0.impl.DefaultConnectionTester, description -> null, driverClass -> com.mysql.jdbc.Driver, factoryClassLocation -> null, forceIgnoreUnresolvedTransactions -> false, identityToken -> 87409cf, idleConnectionTestPeriod -> -1, initialPoolSize -> 3, jdbcUrl -> jdbc:mysql://localhost:3306/hospital?characterEncoding=utf-8, loginTimeout -> 0, maxIdleTime -> 0, maxPoolSize -> 15, maxStatements -> 0, maxStatementsPerConnection -> 0, minPoolSize -> 3, numHelperThreads -> 3, preferredTestQuery -> null, properties -> {user=******, password=******}, propertyCycle -> 300, testConnectionOnCheckin -> false, testConnectionOnCheckout -> false, usesTraditionalReflectiveProxies -> false ]] to thread [http-bio-8080-exec-9]
2016-05-25 00:08:12  [ http-bio-8080-exec-9:5391872 ] - [ DEBUG ]  Bound value [org.springframework.orm.hibernate3.SessionHolder@5cc51a2d] for key [org.hibernate.impl.SessionFactoryImpl@40fc29d7] to thread [http-bio-8080-exec-9]
2016-05-25 00:08:12  [ http-bio-8080-exec-9:5391872 ] - [ DEBUG ]  Initializing transaction synchronization
2016-05-25 00:08:12  [ http-bio-8080-exec-9:5391873 ] - [ DEBUG ]  Getting transaction for service.ScheduleService.findPeriods
2016-05-25 00:08:12  [ http-bio-8080-exec-9:5391874 ] - [ DEBUG ]  Retrieved value [org.springframework.orm.hibernate3.SessionHolder@5cc51a2d] for key [org.hibernate.impl.SessionFactoryImpl@40fc29d7] bound to thread [http-bio-8080-exec-9]
2016-05-25 00:08:12  [ http-bio-8080-exec-9:5391875 ] - [ DEBUG ]  about to open PreparedStatement (open PreparedStatements: 0, globally: 0)
2016-05-25 00:08:12  [ http-bio-8080-exec-9:5391875 ] - [ DEBUG ]  
    select
        p.* 
    from
        doctor d 
    join
        schedule s 
    join
        period p 
    where
        s.doctor_id=d.id 
        and s.period_id=p.id 
        and d.name= ?
2016-05-25 00:08:12  [ http-bio-8080-exec-9:5391876 ] - [ DEBUG ]  bindNamedParameters() Ë¬¸ç -> doctorName [1]
2016-05-25 00:08:12  [ http-bio-8080-exec-9:5391878 ] - [ DEBUG ]  about to open ResultSet (open ResultSets: 0, globally: 0)
2016-05-25 00:08:12  [ http-bio-8080-exec-9:5391879 ] - [ DEBUG ]  result row: EntityKey[persistance.Period#1]
2016-05-25 00:08:12  [ http-bio-8080-exec-9:5391879 ] - [ DEBUG ]  result row: EntityKey[persistance.Period#2]
2016-05-25 00:08:12  [ http-bio-8080-exec-9:5391880 ] - [ DEBUG ]  result row: EntityKey[persistance.Period#3]
2016-05-25 00:08:12  [ http-bio-8080-exec-9:5391880 ] - [ DEBUG ]  about to close ResultSet (open ResultSets: 1, globally: 1)
2016-05-25 00:08:12  [ http-bio-8080-exec-9:5391881 ] - [ DEBUG ]  about to close PreparedStatement (open PreparedStatements: 1, globally: 1)
2016-05-25 00:08:12  [ http-bio-8080-exec-9:5391882 ] - [ DEBUG ]  resolving associations for [persistance.Period#1]
2016-05-25 00:08:12  [ http-bio-8080-exec-9:5391882 ] - [ DEBUG ]  done materializing entity [persistance.Period#1]
2016-05-25 00:08:12  [ http-bio-8080-exec-9:5391883 ] - [ DEBUG ]  resolving associations for [persistance.Period#2]
2016-05-25 00:08:12  [ http-bio-8080-exec-9:5391883 ] - [ DEBUG ]  done materializing entity [persistance.Period#2]
2016-05-25 00:08:12  [ http-bio-8080-exec-9:5391884 ] - [ DEBUG ]  resolving associations for [persistance.Period#3]
2016-05-25 00:08:12  [ http-bio-8080-exec-9:5391884 ] - [ DEBUG ]  done materializing entity [persistance.Period#3]
2016-05-25 00:08:12  [ http-bio-8080-exec-9:5391885 ] - [ DEBUG ]  initializing non-lazy collections
2016-05-25 00:08:12  [ http-bio-8080-exec-9:5391885 ] - [ DEBUG ]  Invoking commit for transaction on service.ScheduleService.findPeriods
2016-05-25 00:08:12  [ http-bio-8080-exec-9:5391885 ] - [ DEBUG ]  Triggering beforeCommit synchronization
2016-05-25 00:08:12  [ http-bio-8080-exec-9:5391886 ] - [ DEBUG ]  Triggering beforeCompletion synchronization
2016-05-25 00:08:12  [ http-bio-8080-exec-9:5391886 ] - [ DEBUG ]  Initiating transaction commit
2016-05-25 00:08:12  [ http-bio-8080-exec-9:5391886 ] - [ DEBUG ]  Committing Hibernate transaction on Session [org.hibernate.impl.SessionImpl@237b08b4]
2016-05-25 00:08:12  [ http-bio-8080-exec-9:5391887 ] - [ DEBUG ]  commit
2016-05-25 00:08:12  [ http-bio-8080-exec-9:5391887 ] - [ DEBUG ]  processing flush-time cascades
2016-05-25 00:08:12  [ http-bio-8080-exec-9:5391887 ] - [ DEBUG ]  dirty checking collections
2016-05-25 00:08:12  [ http-bio-8080-exec-9:5391888 ] - [ DEBUG ]  Collection found: [persistance.Period.schedules#1], was: [persistance.Period.schedules#1] (uninitialized)
2016-05-25 00:08:12  [ http-bio-8080-exec-9:5391888 ] - [ DEBUG ]  Collection found: [persistance.Period.workTimes#1], was: [persistance.Period.workTimes#1] (uninitialized)
2016-05-25 00:08:12  [ http-bio-8080-exec-9:5391889 ] - [ DEBUG ]  Collection found: [persistance.Period.registrations#1], was: [persistance.Period.registrations#1] (uninitialized)
2016-05-25 00:08:12  [ http-bio-8080-exec-9:5391889 ] - [ DEBUG ]  Collection found: [persistance.Period.schedules_1#1], was: [persistance.Period.schedules_1#1] (uninitialized)
2016-05-25 00:08:12  [ http-bio-8080-exec-9:5391889 ] - [ DEBUG ]  Collection found: [persistance.Period.registrations_1#1], was: [persistance.Period.registrations_1#1] (uninitialized)
2016-05-25 00:08:12  [ http-bio-8080-exec-9:5391890 ] - [ DEBUG ]  Collection found: [persistance.Period.schedules#2], was: [persistance.Period.schedules#2] (uninitialized)
2016-05-25 00:08:12  [ http-bio-8080-exec-9:5391890 ] - [ DEBUG ]  Collection found: [persistance.Period.workTimes#2], was: [persistance.Period.workTimes#2] (uninitialized)
2016-05-25 00:08:12  [ http-bio-8080-exec-9:5391890 ] - [ DEBUG ]  Collection found: [persistance.Period.registrations#2], was: [persistance.Period.registrations#2] (uninitialized)
2016-05-25 00:08:12  [ http-bio-8080-exec-9:5391891 ] - [ DEBUG ]  Collection found: [persistance.Period.schedules_1#2], was: [persistance.Period.schedules_1#2] (uninitialized)
2016-05-25 00:08:12  [ http-bio-8080-exec-9:5391891 ] - [ DEBUG ]  Collection found: [persistance.Period.registrations_1#2], was: [persistance.Period.registrations_1#2] (uninitialized)
2016-05-25 00:08:12  [ http-bio-8080-exec-9:5391892 ] - [ DEBUG ]  Collection found: [persistance.Period.schedules#3], was: [persistance.Period.schedules#3] (uninitialized)
2016-05-25 00:08:12  [ http-bio-8080-exec-9:5391892 ] - [ DEBUG ]  Collection found: [persistance.Period.workTimes#3], was: [persistance.Period.workTimes#3] (uninitialized)
2016-05-25 00:08:12  [ http-bio-8080-exec-9:5391892 ] - [ DEBUG ]  Collection found: [persistance.Period.registrations#3], was: [persistance.Period.registrations#3] (uninitialized)
2016-05-25 00:08:12  [ http-bio-8080-exec-9:5391893 ] - [ DEBUG ]  Collection found: [persistance.Period.schedules_1#3], was: [persistance.Period.schedules_1#3] (uninitialized)
2016-05-25 00:08:12  [ http-bio-8080-exec-9:5391893 ] - [ DEBUG ]  Collection found: [persistance.Period.registrations_1#3], was: [persistance.Period.registrations_1#3] (uninitialized)
2016-05-25 00:08:12  [ http-bio-8080-exec-9:5391893 ] - [ DEBUG ]  Flushed: 0 insertions, 0 updates, 0 deletions to 3 objects
2016-05-25 00:08:12  [ http-bio-8080-exec-9:5391894 ] - [ DEBUG ]  Flushed: 0 (re)creations, 0 updates, 0 removals to 15 collections
2016-05-25 00:08:12  [ http-bio-8080-exec-9:5391894 ] - [ DEBUG ]  listing entities:
2016-05-25 00:08:12  [ http-bio-8080-exec-9:5391894 ] - [ DEBUG ]  persistance.Period{id=3, registrations_1=<uninitialized>, schedules=<uninitialized>, schedules_1=<uninitialized>, workTimes=<uninitialized>, registrations=<uninitialized>, beginTime=09:00:00, endTime=10:00:00, date=2016-05-21 00:00:00}
2016-05-25 00:08:12  [ http-bio-8080-exec-9:5391895 ] - [ DEBUG ]  persistance.Period{id=1, registrations_1=<uninitialized>, schedules=<uninitialized>, schedules_1=<uninitialized>, workTimes=<uninitialized>, registrations=<uninitialized>, beginTime=09:00:00, endTime=10:00:00, date=2016-05-04 00:00:00}
2016-05-25 00:08:12  [ http-bio-8080-exec-9:5391896 ] - [ DEBUG ]  persistance.Period{id=2, registrations_1=<uninitialized>, schedules=<uninitialized>, schedules_1=<uninitialized>, workTimes=<uninitialized>, registrations=<uninitialized>, beginTime=10:00:00, endTime=11:00:00, date=2016-05-21 00:00:00}
2016-05-25 00:08:12  [ http-bio-8080-exec-9:5391897 ] - [ DEBUG ]  re-enabling autocommit
2016-05-25 00:08:12  [ http-bio-8080-exec-9:5391898 ] - [ DEBUG ]  committed JDBC Connection
2016-05-25 00:08:12  [ http-bio-8080-exec-9:5391898 ] - [ DEBUG ]  transaction completed on session with on_close connection release mode; be sure to close the session to release JDBC resources!
2016-05-25 00:08:12  [ http-bio-8080-exec-9:5391899 ] - [ DEBUG ]  Triggering afterCommit synchronization
2016-05-25 00:08:12  [ http-bio-8080-exec-9:5391899 ] - [ DEBUG ]  Triggering afterCompletion synchronization
2016-05-25 00:08:12  [ http-bio-8080-exec-9:5391900 ] - [ DEBUG ]  Clearing transaction synchronization
2016-05-25 00:08:12  [ http-bio-8080-exec-9:5391900 ] - [ DEBUG ]  Removed value [org.springframework.orm.hibernate3.SessionHolder@5cc51a2d] for key [org.hibernate.impl.SessionFactoryImpl@40fc29d7] from thread [http-bio-8080-exec-9]
2016-05-25 00:08:12  [ http-bio-8080-exec-9:5391906 ] - [ DEBUG ]  Removed value [org.springframework.jdbc.datasource.ConnectionHolder@5f4b67a6] for key [com.mchange.v2.c3p0.ComboPooledDataSource@87409cf[ acquireIncrement -> 3, acquireRetryAttempts -> 30, acquireRetryDelay -> 1000, autoCommitOnClose -> false, automaticTestTable -> null, breakAfterAcquireFailure -> false, checkoutTimeout -> 0, connectionTesterClassName -> com.mchange.v2.c3p0.impl.DefaultConnectionTester, description -> null, driverClass -> com.mysql.jdbc.Driver, factoryClassLocation -> null, forceIgnoreUnresolvedTransactions -> false, identityToken -> 87409cf, idleConnectionTestPeriod -> -1, initialPoolSize -> 3, jdbcUrl -> jdbc:mysql://localhost:3306/hospital?characterEncoding=utf-8, loginTimeout -> 0, maxIdleTime -> 0, maxPoolSize -> 15, maxStatements -> 0, maxStatementsPerConnection -> 0, minPoolSize -> 3, numHelperThreads -> 3, preferredTestQuery -> null, properties -> {user=******, password=******}, propertyCycle -> 300, testConnectionOnCheckin -> false, testConnectionOnCheckout -> false, usesTraditionalReflectiveProxies -> false ]] from thread [http-bio-8080-exec-9]
2016-05-25 00:08:12  [ http-bio-8080-exec-9:5391906 ] - [ DEBUG ]  Closing Hibernate Session [org.hibernate.impl.SessionImpl@237b08b4] after transaction
2016-05-25 00:08:12  [ http-bio-8080-exec-9:5391907 ] - [ DEBUG ]  Closing Hibernate Session
2016-05-25 00:08:12  [ http-bio-8080-exec-9:5391907 ] - [ DEBUG ]  releasing JDBC connection [ (open PreparedStatements: 0, globally: 0) (open ResultSets: 0, globally: 0)]
2016-05-25 00:08:12  [ http-bio-8080-exec-9:5391908 ] - [ DEBUG ]  trace com.mchange.v2.resourcepool.BasicResourcePool@1ed5eb39 [managed: 3, unused: 2, excluded: 0] (e.g. com.mchange.v2.c3p0.impl.NewPooledConnection@7303eee0)
2016-05-25 00:08:12  [ http-bio-8080-exec-9:5391908 ] - [ DEBUG ]  transaction completed on session with on_close connection release mode; be sure to close the session to release JDBC resources!
2016-05-25 00:08:12  [ http-bio-8080-exec-9:5391909 ] - [ DEBUG ]  [JSON]{"periods":"success","registrations":"success"}
2016-05-25 00:08:12  [ http-bio-8080-exec-9:5391909 ] - [ DEBUG ]  after Locale=zh_CN
2016-05-25 00:08:12  [ http-bio-8080-exec-9:5391910 ] - [ DEBUG ]  intercept } 
2016-05-25 00:08:16  [ http-bio-8080-exec-9:5395663 ] - [ DEBUG ]  Entering nullPropertyValue [target=[com.opensymphony.xwork2.DefaultTextProvider@64b8ecac], property=struts]
2016-05-25 00:08:16  [ http-bio-8080-exec-9:5395664 ] - [ DEBUG ]  Entering nullPropertyValue [target=[com.opensymphony.xwork2.DefaultTextProvider@64b8ecac], property=struts]
2016-05-25 00:08:16  [ http-bio-8080-exec-9:5395665 ] - [ DEBUG ]  Creating an DefaultActionProxy for namespace / and action name getRegistrations
2016-05-25 00:08:16  [ http-bio-8080-exec-9:5395666 ] - [ DEBUG ]  No bean named 'action.HandleAction' found in org.springframework.beans.factory.support.DefaultListableBeanFactory defining beans [dataSource,sessionFactory,userDao,doctorDao,departmentDao,hospitalDao,periodDao,scheduleDao,registrationDao,workTimeDao,doctorService,registrationService,periodService,scheduleService,workTimeService,transactionManager,transactionInterceptor,ProxyCreator,doctorName,sex,hospital,department,tel,getPeriods,getRegistrations,mark,insert]; root of BeanFactory hierarchy
2016-05-25 00:08:16  [ http-bio-8080-exec-9:5395669 ] - [ DEBUG ]  Creating [java.util.LinkedHashMap]
2016-05-25 00:08:16  [ http-bio-8080-exec-9:5395669 ] - [ DEBUG ]  Creating [java.util.LinkedHashMap]
2016-05-25 00:08:16  [ http-bio-8080-exec-9:5395670 ] - [ DEBUG ]  Using cached introspection results for class [action.HandleAction]
2016-05-25 00:08:16  [ http-bio-8080-exec-9:5395671 ] - [ DEBUG ]  Bean 'action.HandleAction' instantiated via constructor [public action.HandleAction()]
2016-05-25 00:08:16  [ http-bio-8080-exec-9:5395671 ] - [ DEBUG ]  Invoking BeanPostProcessors before initialization of bean 'action.HandleAction'
2016-05-25 00:08:16  [ http-bio-8080-exec-9:5395672 ] - [ DEBUG ]  Invoking BeanPostProcessors after initialization of bean 'action.HandleAction'
2016-05-25 00:08:16  [ http-bio-8080-exec-9:5395672 ] - [ DEBUG ]  Using cached introspection results for class [action.HandleAction]
2016-05-25 00:08:16  [ http-bio-8080-exec-9:5395673 ] - [ DEBUG ]  Not autowiring property 'actionErrors' of bean 'action.HandleAction' by name: no matching bean found
2016-05-25 00:08:16  [ http-bio-8080-exec-9:5395674 ] - [ DEBUG ]  Not autowiring property 'actionMessages' of bean 'action.HandleAction' by name: no matching bean found
2016-05-25 00:08:16  [ http-bio-8080-exec-9:5395674 ] - [ DEBUG ]  Not autowiring property 'fieldErrors' of bean 'action.HandleAction' by name: no matching bean found
2016-05-25 00:08:16  [ http-bio-8080-exec-9:5395675 ] - [ DEBUG ]  Returning cached instance of singleton bean 'registrationService'
2016-05-25 00:08:16  [ http-bio-8080-exec-9:5395676 ] - [ DEBUG ]  Added autowiring by name from bean name 'action.HandleAction' via property 'registrationService' to bean named 'registrationService'
2016-05-25 00:08:16  [ http-bio-8080-exec-9:5395676 ] - [ DEBUG ]  Returning cached instance of singleton bean 'scheduleService'
2016-05-25 00:08:16  [ http-bio-8080-exec-9:5395683 ] - [ DEBUG ]  Added autowiring by name from bean name 'action.HandleAction' via property 'scheduleService' to bean named 'scheduleService'
2016-05-25 00:08:16  [ http-bio-8080-exec-9:5395683 ] - [ DEBUG ]  Creating [java.util.LinkedHashMap]
2016-05-25 00:08:16  [ http-bio-8080-exec-9:5395683 ] - [ DEBUG ]  About to invoke write method [public void action.HandleAction.setRegistrationService(service.RegistrationService)] on object of class [action.HandleAction]
2016-05-25 00:08:16  [ http-bio-8080-exec-9:5395683 ] - [ DEBUG ]  Invoked write method [public void action.HandleAction.setRegistrationService(service.RegistrationService)] with value of type [service.RegistrationService]
2016-05-25 00:08:16  [ http-bio-8080-exec-9:5395684 ] - [ DEBUG ]  About to invoke write method [public void action.HandleAction.setScheduleService(service.ScheduleService)] on object of class [action.HandleAction]
2016-05-25 00:08:16  [ http-bio-8080-exec-9:5395684 ] - [ DEBUG ]  Invoked write method [public void action.HandleAction.setScheduleService(service.ScheduleService)] with value of type [service.ScheduleService]
2016-05-25 00:08:16  [ http-bio-8080-exec-9:5395684 ] - [ DEBUG ]  intercept '//getRegistrations' { 
2016-05-25 00:08:16  [ http-bio-8080-exec-9:5395684 ] - [ DEBUG ]  applied invocation context locale=zh_CN
2016-05-25 00:08:16  [ http-bio-8080-exec-9:5395684 ] - [ DEBUG ]  before Locale=zh_CN
2016-05-25 00:08:16  [ http-bio-8080-exec-9:5395685 ] - [ DEBUG ]  Entering nullPropertyValue [target=[action.HandleAction@54c4d8c4, com.opensymphony.xwork2.DefaultTextProvider@64b8ecac], property=struts]
2016-05-25 00:08:16  [ http-bio-8080-exec-9:5395685 ] - [ DEBUG ]  Bypassing //getRegistrations
2016-05-25 00:08:16  [ http-bio-8080-exec-9:5395685 ] - [ DEBUG ]  Setting static parameters {}
2016-05-25 00:08:16  [ http-bio-8080-exec-9:5395685 ] - [ DEBUG ]  Setting params NONE
2016-05-25 00:08:16  [ http-bio-8080-exec-9:5395685 ] - [ DEBUG ]  Setting params doctorName => [ Ë¬¸ç ] periods => [ 2016-05-04 ÉÏÎç ] 
2016-05-25 00:08:16  [ http-bio-8080-exec-9:5395686 ] - [ DEBUG ]  Validating //getRegistrations with method getRegistrations.
2016-05-25 00:08:16  [ http-bio-8080-exec-9:5395686 ] - [ DEBUG ]  Invoking validate() on action action.HandleAction@54c4d8c4
2016-05-25 00:08:16  [ http-bio-8080-exec-9:5395687 ] - [ DEBUG ]  cannot find method [validateGetRegistrations] in action [action.HandleAction@54c4d8c4]
2016-05-25 00:08:16  [ http-bio-8080-exec-9:5395687 ] - [ DEBUG ]  cannot find method [validateDoGetRegistrations] in action [action.HandleAction@54c4d8c4]
2016-05-25 00:08:16  [ http-bio-8080-exec-9:5395687 ] - [ DEBUG ]  Executing action method = getRegistrations
2016-05-25 00:08:16  [ http-bio-8080-exec-9:5395687 ] - [ DEBUG ]  Using transaction object [org.springframework.orm.hibernate3.HibernateTransactionManager$HibernateTransactionObject@7aef663e]
2016-05-25 00:08:16  [ http-bio-8080-exec-9:5395688 ] - [ DEBUG ]  Creating new transaction with name [service.RegistrationService.findRegistrations]
2016-05-25 00:08:16  [ http-bio-8080-exec-9:5395688 ] - [ DEBUG ]  opened session at timestamp: 14641060963
2016-05-25 00:08:16  [ http-bio-8080-exec-9:5395688 ] - [ DEBUG ]  Opened new Session [org.hibernate.impl.SessionImpl@724a0ab5] for Hibernate transaction
2016-05-25 00:08:16  [ http-bio-8080-exec-9:5395688 ] - [ DEBUG ]  Preparing JDBC Connection of Hibernate Session [org.hibernate.impl.SessionImpl@724a0ab5]
2016-05-25 00:08:16  [ http-bio-8080-exec-9:5395689 ] - [ DEBUG ]  begin
2016-05-25 00:08:16  [ http-bio-8080-exec-9:5395689 ] - [ DEBUG ]  opening JDBC connection
2016-05-25 00:08:16  [ http-bio-8080-exec-9:5395689 ] - [ DEBUG ]  trace com.mchange.v2.resourcepool.BasicResourcePool@1ed5eb39 [managed: 3, unused: 2, excluded: 0] (e.g. com.mchange.v2.c3p0.impl.NewPooledConnection@7303eee0)
2016-05-25 00:08:16  [ http-bio-8080-exec-9:5395690 ] - [ DEBUG ]  current autocommit status: true
2016-05-25 00:08:16  [ http-bio-8080-exec-9:5395690 ] - [ DEBUG ]  disabling autocommit
2016-05-25 00:08:16  [ http-bio-8080-exec-9:5395691 ] - [ DEBUG ]  Exposing Hibernate transaction as JDBC transaction [com.mchange.v2.c3p0.impl.NewProxyConnection@46c9ea54]
2016-05-25 00:08:16  [ http-bio-8080-exec-9:5395697 ] - [ DEBUG ]  Bound value [org.springframework.jdbc.datasource.ConnectionHolder@eb4588b] for key [com.mchange.v2.c3p0.ComboPooledDataSource@87409cf[ acquireIncrement -> 3, acquireRetryAttempts -> 30, acquireRetryDelay -> 1000, autoCommitOnClose -> false, automaticTestTable -> null, breakAfterAcquireFailure -> false, checkoutTimeout -> 0, connectionTesterClassName -> com.mchange.v2.c3p0.impl.DefaultConnectionTester, description -> null, driverClass -> com.mysql.jdbc.Driver, factoryClassLocation -> null, forceIgnoreUnresolvedTransactions -> false, identityToken -> 87409cf, idleConnectionTestPeriod -> -1, initialPoolSize -> 3, jdbcUrl -> jdbc:mysql://localhost:3306/hospital?characterEncoding=utf-8, loginTimeout -> 0, maxIdleTime -> 0, maxPoolSize -> 15, maxStatements -> 0, maxStatementsPerConnection -> 0, minPoolSize -> 3, numHelperThreads -> 3, preferredTestQuery -> null, properties -> {user=******, password=******}, propertyCycle -> 300, testConnectionOnCheckin -> false, testConnectionOnCheckout -> false, usesTraditionalReflectiveProxies -> false ]] to thread [http-bio-8080-exec-9]
2016-05-25 00:08:16  [ http-bio-8080-exec-9:5395697 ] - [ DEBUG ]  Bound value [org.springframework.orm.hibernate3.SessionHolder@69f80035] for key [org.hibernate.impl.SessionFactoryImpl@40fc29d7] to thread [http-bio-8080-exec-9]
2016-05-25 00:08:16  [ http-bio-8080-exec-9:5395698 ] - [ DEBUG ]  Initializing transaction synchronization
2016-05-25 00:08:16  [ http-bio-8080-exec-9:5395698 ] - [ DEBUG ]  Getting transaction for service.RegistrationService.findRegistrations
2016-05-25 00:08:16  [ http-bio-8080-exec-9:5395699 ] - [ DEBUG ]  Retrieved value [org.springframework.orm.hibernate3.SessionHolder@69f80035] for key [org.hibernate.impl.SessionFactoryImpl@40fc29d7] bound to thread [http-bio-8080-exec-9]
2016-05-25 00:08:16  [ http-bio-8080-exec-9:5395700 ] - [ DEBUG ]  about to open PreparedStatement (open PreparedStatements: 0, globally: 0)
2016-05-25 00:08:16  [ http-bio-8080-exec-9:5395701 ] - [ DEBUG ]  
    select
        r.id id,
        u.user_name userName ,
        p.begin_time beginTime 
    from
        registration r 
    join
        doctor do 
    join
        department de 
    join
        user u 
    join
        period p  
    where
        r.doctor_id=do.id 
        and r.department_id = de.id 
        and r.user_id=u.user_id 
        and r.period_id=p.id  
        and  do.name=? 
        and p.date=? 
        and  p.begin_time>=? 
        and p.begin_time<=?
2016-05-25 00:08:16  [ http-bio-8080-exec-9:5395702 ] - [ DEBUG ]  bindNamedParameters() 11:00:00 -> lastPeriodBegin [4]
2016-05-25 00:08:16  [ http-bio-8080-exec-9:5395703 ] - [ DEBUG ]  bindNamedParameters() Ë¬¸ç -> doctorName [1]
2016-05-25 00:08:16  [ http-bio-8080-exec-9:5395703 ] - [ DEBUG ]  bindNamedParameters() 2016-05-04 -> date [2]
2016-05-25 00:08:16  [ http-bio-8080-exec-9:5395703 ] - [ DEBUG ]  bindNamedParameters() 09:00:00 -> firstPeriodBegin [3]
2016-05-25 00:08:16  [ http-bio-8080-exec-9:5395704 ] - [ DEBUG ]  about to open ResultSet (open ResultSets: 0, globally: 0)
2016-05-25 00:08:16  [ http-bio-8080-exec-9:5395705 ] - [ DEBUG ]  result row: 
2016-05-25 00:08:16  [ http-bio-8080-exec-9:5395705 ] - [ DEBUG ]  result row: 
2016-05-25 00:08:16  [ http-bio-8080-exec-9:5395706 ] - [ DEBUG ]  about to close ResultSet (open ResultSets: 1, globally: 1)
2016-05-25 00:08:16  [ http-bio-8080-exec-9:5395706 ] - [ DEBUG ]  about to close PreparedStatement (open PreparedStatements: 1, globally: 1)
2016-05-25 00:08:16  [ http-bio-8080-exec-9:5395706 ] - [ DEBUG ]  initializing non-lazy collections
2016-05-25 00:08:16  [ http-bio-8080-exec-9:5395707 ] - [ DEBUG ]  Invoking commit for transaction on service.RegistrationService.findRegistrations
2016-05-25 00:08:16  [ http-bio-8080-exec-9:5395708 ] - [ DEBUG ]  Triggering beforeCommit synchronization
2016-05-25 00:08:16  [ http-bio-8080-exec-9:5395708 ] - [ DEBUG ]  Triggering beforeCompletion synchronization
2016-05-25 00:08:16  [ http-bio-8080-exec-9:5395708 ] - [ DEBUG ]  Initiating transaction commit
2016-05-25 00:08:16  [ http-bio-8080-exec-9:5395709 ] - [ DEBUG ]  Committing Hibernate transaction on Session [org.hibernate.impl.SessionImpl@724a0ab5]
2016-05-25 00:08:16  [ http-bio-8080-exec-9:5395709 ] - [ DEBUG ]  commit
2016-05-25 00:08:16  [ http-bio-8080-exec-9:5395710 ] - [ DEBUG ]  re-enabling autocommit
2016-05-25 00:08:16  [ http-bio-8080-exec-9:5395711 ] - [ DEBUG ]  committed JDBC Connection
2016-05-25 00:08:16  [ http-bio-8080-exec-9:5395711 ] - [ DEBUG ]  transaction completed on session with on_close connection release mode; be sure to close the session to release JDBC resources!
2016-05-25 00:08:16  [ http-bio-8080-exec-9:5395711 ] - [ DEBUG ]  Triggering afterCommit synchronization
2016-05-25 00:08:16  [ http-bio-8080-exec-9:5395711 ] - [ DEBUG ]  Triggering afterCompletion synchronization
2016-05-25 00:08:16  [ http-bio-8080-exec-9:5395712 ] - [ DEBUG ]  Clearing transaction synchronization
2016-05-25 00:08:16  [ http-bio-8080-exec-9:5395712 ] - [ DEBUG ]  Removed value [org.springframework.orm.hibernate3.SessionHolder@69f80035] for key [org.hibernate.impl.SessionFactoryImpl@40fc29d7] from thread [http-bio-8080-exec-9]
2016-05-25 00:08:16  [ http-bio-8080-exec-9:5395717 ] - [ DEBUG ]  Removed value [org.springframework.jdbc.datasource.ConnectionHolder@eb4588b] for key [com.mchange.v2.c3p0.ComboPooledDataSource@87409cf[ acquireIncrement -> 3, acquireRetryAttempts -> 30, acquireRetryDelay -> 1000, autoCommitOnClose -> false, automaticTestTable -> null, breakAfterAcquireFailure -> false, checkoutTimeout -> 0, connectionTesterClassName -> com.mchange.v2.c3p0.impl.DefaultConnectionTester, description -> null, driverClass -> com.mysql.jdbc.Driver, factoryClassLocation -> null, forceIgnoreUnresolvedTransactions -> false, identityToken -> 87409cf, idleConnectionTestPeriod -> -1, initialPoolSize -> 3, jdbcUrl -> jdbc:mysql://localhost:3306/hospital?characterEncoding=utf-8, loginTimeout -> 0, maxIdleTime -> 0, maxPoolSize -> 15, maxStatements -> 0, maxStatementsPerConnection -> 0, minPoolSize -> 3, numHelperThreads -> 3, preferredTestQuery -> null, properties -> {user=******, password=******}, propertyCycle -> 300, testConnectionOnCheckin -> false, testConnectionOnCheckout -> false, usesTraditionalReflectiveProxies -> false ]] from thread [http-bio-8080-exec-9]
2016-05-25 00:08:16  [ http-bio-8080-exec-9:5395717 ] - [ DEBUG ]  Closing Hibernate Session [org.hibernate.impl.SessionImpl@724a0ab5] after transaction
2016-05-25 00:08:16  [ http-bio-8080-exec-9:5395718 ] - [ DEBUG ]  Closing Hibernate Session
2016-05-25 00:08:16  [ http-bio-8080-exec-9:5395718 ] - [ DEBUG ]  releasing JDBC connection [ (open PreparedStatements: 0, globally: 0) (open ResultSets: 0, globally: 0)]
2016-05-25 00:08:16  [ http-bio-8080-exec-9:5395718 ] - [ DEBUG ]  trace com.mchange.v2.resourcepool.BasicResourcePool@1ed5eb39 [managed: 3, unused: 2, excluded: 0] (e.g. com.mchange.v2.c3p0.impl.NewPooledConnection@7303eee0)
2016-05-25 00:08:16  [ http-bio-8080-exec-9:5395719 ] - [ DEBUG ]  transaction completed on session with on_close connection release mode; be sure to close the session to release JDBC resources!
2016-05-25 00:08:16  [ http-bio-8080-exec-9:5395719 ] - [ DEBUG ]  No bean named 'org.apache.struts2.json.JSONResult' found in org.springframework.beans.factory.support.DefaultListableBeanFactory defining beans [dataSource,sessionFactory,userDao,doctorDao,departmentDao,hospitalDao,periodDao,scheduleDao,registrationDao,workTimeDao,doctorService,registrationService,periodService,scheduleService,workTimeService,transactionManager,transactionInterceptor,ProxyCreator,doctorName,sex,hospital,department,tel,getPeriods,getRegistrations,mark,insert]; root of BeanFactory hierarchy
2016-05-25 00:08:16  [ http-bio-8080-exec-9:5395720 ] - [ DEBUG ]  Creating [java.util.LinkedHashMap]
2016-05-25 00:08:16  [ http-bio-8080-exec-9:5395721 ] - [ DEBUG ]  Creating [java.util.LinkedHashMap]
2016-05-25 00:08:16  [ http-bio-8080-exec-9:5395721 ] - [ DEBUG ]  Using cached introspection results for class [org.apache.struts2.json.JSONResult]
2016-05-25 00:08:16  [ http-bio-8080-exec-9:5395721 ] - [ DEBUG ]  Bean 'org.apache.struts2.json.JSONResult' instantiated via constructor [public org.apache.struts2.json.JSONResult()]
2016-05-25 00:08:16  [ http-bio-8080-exec-9:5395722 ] - [ DEBUG ]  Invoking BeanPostProcessors before initialization of bean 'org.apache.struts2.json.JSONResult'
2016-05-25 00:08:16  [ http-bio-8080-exec-9:5395722 ] - [ DEBUG ]  Invoking BeanPostProcessors after initialization of bean 'org.apache.struts2.json.JSONResult'
2016-05-25 00:08:16  [ http-bio-8080-exec-9:5395722 ] - [ DEBUG ]  Using cached introspection results for class [org.apache.struts2.json.JSONResult]
2016-05-25 00:08:16  [ http-bio-8080-exec-9:5395723 ] - [ DEBUG ]  Creating [java.util.LinkedHashMap]
2016-05-25 00:08:16  [ http-bio-8080-exec-9:5395725 ] - [ DEBUG ]  Using transaction object [org.springframework.orm.hibernate3.HibernateTransactionManager$HibernateTransactionObject@68597b60]
2016-05-25 00:08:16  [ http-bio-8080-exec-9:5395725 ] - [ DEBUG ]  Creating new transaction with name [service.ScheduleService.findPeriods]
2016-05-25 00:08:16  [ http-bio-8080-exec-9:5395726 ] - [ DEBUG ]  opened session at timestamp: 14641060964
2016-05-25 00:08:16  [ http-bio-8080-exec-9:5395727 ] - [ DEBUG ]  Opened new Session [org.hibernate.impl.SessionImpl@7b32e21a] for Hibernate transaction
2016-05-25 00:08:16  [ http-bio-8080-exec-9:5395727 ] - [ DEBUG ]  Preparing JDBC Connection of Hibernate Session [org.hibernate.impl.SessionImpl@7b32e21a]
2016-05-25 00:08:16  [ http-bio-8080-exec-9:5395728 ] - [ DEBUG ]  begin
2016-05-25 00:08:16  [ http-bio-8080-exec-9:5395728 ] - [ DEBUG ]  opening JDBC connection
2016-05-25 00:08:16  [ http-bio-8080-exec-9:5395729 ] - [ DEBUG ]  trace com.mchange.v2.resourcepool.BasicResourcePool@1ed5eb39 [managed: 3, unused: 2, excluded: 0] (e.g. com.mchange.v2.c3p0.impl.NewPooledConnection@7303eee0)
2016-05-25 00:08:16  [ http-bio-8080-exec-9:5395729 ] - [ DEBUG ]  current autocommit status: true
2016-05-25 00:08:16  [ http-bio-8080-exec-9:5395730 ] - [ DEBUG ]  disabling autocommit
2016-05-25 00:08:16  [ http-bio-8080-exec-9:5395731 ] - [ DEBUG ]  Exposing Hibernate transaction as JDBC transaction [com.mchange.v2.c3p0.impl.NewProxyConnection@443232ce]
2016-05-25 00:08:16  [ http-bio-8080-exec-9:5395735 ] - [ DEBUG ]  Bound value [org.springframework.jdbc.datasource.ConnectionHolder@73f0e99b] for key [com.mchange.v2.c3p0.ComboPooledDataSource@87409cf[ acquireIncrement -> 3, acquireRetryAttempts -> 30, acquireRetryDelay -> 1000, autoCommitOnClose -> false, automaticTestTable -> null, breakAfterAcquireFailure -> false, checkoutTimeout -> 0, connectionTesterClassName -> com.mchange.v2.c3p0.impl.DefaultConnectionTester, description -> null, driverClass -> com.mysql.jdbc.Driver, factoryClassLocation -> null, forceIgnoreUnresolvedTransactions -> false, identityToken -> 87409cf, idleConnectionTestPeriod -> -1, initialPoolSize -> 3, jdbcUrl -> jdbc:mysql://localhost:3306/hospital?characterEncoding=utf-8, loginTimeout -> 0, maxIdleTime -> 0, maxPoolSize -> 15, maxStatements -> 0, maxStatementsPerConnection -> 0, minPoolSize -> 3, numHelperThreads -> 3, preferredTestQuery -> null, properties -> {user=******, password=******}, propertyCycle -> 300, testConnectionOnCheckin -> false, testConnectionOnCheckout -> false, usesTraditionalReflectiveProxies -> false ]] to thread [http-bio-8080-exec-9]
2016-05-25 00:08:16  [ http-bio-8080-exec-9:5395736 ] - [ DEBUG ]  Bound value [org.springframework.orm.hibernate3.SessionHolder@418b3248] for key [org.hibernate.impl.SessionFactoryImpl@40fc29d7] to thread [http-bio-8080-exec-9]
2016-05-25 00:08:16  [ http-bio-8080-exec-9:5395736 ] - [ DEBUG ]  Initializing transaction synchronization
2016-05-25 00:08:16  [ http-bio-8080-exec-9:5395736 ] - [ DEBUG ]  Getting transaction for service.ScheduleService.findPeriods
2016-05-25 00:08:16  [ http-bio-8080-exec-9:5395737 ] - [ DEBUG ]  Retrieved value [org.springframework.orm.hibernate3.SessionHolder@418b3248] for key [org.hibernate.impl.SessionFactoryImpl@40fc29d7] bound to thread [http-bio-8080-exec-9]
2016-05-25 00:08:16  [ http-bio-8080-exec-9:5395737 ] - [ DEBUG ]  about to open PreparedStatement (open PreparedStatements: 0, globally: 0)
2016-05-25 00:08:16  [ http-bio-8080-exec-9:5395738 ] - [ DEBUG ]  
    select
        p.* 
    from
        doctor d 
    join
        schedule s 
    join
        period p 
    where
        s.doctor_id=d.id 
        and s.period_id=p.id 
        and d.name= ?
2016-05-25 00:08:16  [ http-bio-8080-exec-9:5395739 ] - [ DEBUG ]  bindNamedParameters() Ë¬¸ç -> doctorName [1]
2016-05-25 00:08:16  [ http-bio-8080-exec-9:5395740 ] - [ DEBUG ]  about to open ResultSet (open ResultSets: 0, globally: 0)
2016-05-25 00:08:16  [ http-bio-8080-exec-9:5395740 ] - [ DEBUG ]  result row: EntityKey[persistance.Period#1]
2016-05-25 00:08:16  [ http-bio-8080-exec-9:5395740 ] - [ DEBUG ]  result row: EntityKey[persistance.Period#2]
2016-05-25 00:08:16  [ http-bio-8080-exec-9:5395741 ] - [ DEBUG ]  result row: EntityKey[persistance.Period#3]
2016-05-25 00:08:16  [ http-bio-8080-exec-9:5395741 ] - [ DEBUG ]  about to close ResultSet (open ResultSets: 1, globally: 1)
2016-05-25 00:08:16  [ http-bio-8080-exec-9:5395741 ] - [ DEBUG ]  about to close PreparedStatement (open PreparedStatements: 1, globally: 1)
2016-05-25 00:08:16  [ http-bio-8080-exec-9:5395742 ] - [ DEBUG ]  resolving associations for [persistance.Period#1]
2016-05-25 00:08:16  [ http-bio-8080-exec-9:5395742 ] - [ DEBUG ]  done materializing entity [persistance.Period#1]
2016-05-25 00:08:16  [ http-bio-8080-exec-9:5395743 ] - [ DEBUG ]  resolving associations for [persistance.Period#2]
2016-05-25 00:08:16  [ http-bio-8080-exec-9:5395743 ] - [ DEBUG ]  done materializing entity [persistance.Period#2]
2016-05-25 00:08:16  [ http-bio-8080-exec-9:5395743 ] - [ DEBUG ]  resolving associations for [persistance.Period#3]
2016-05-25 00:08:16  [ http-bio-8080-exec-9:5395744 ] - [ DEBUG ]  done materializing entity [persistance.Period#3]
2016-05-25 00:08:16  [ http-bio-8080-exec-9:5395744 ] - [ DEBUG ]  initializing non-lazy collections
2016-05-25 00:08:16  [ http-bio-8080-exec-9:5395745 ] - [ DEBUG ]  Invoking commit for transaction on service.ScheduleService.findPeriods
2016-05-25 00:08:16  [ http-bio-8080-exec-9:5395745 ] - [ DEBUG ]  Triggering beforeCommit synchronization
2016-05-25 00:08:16  [ http-bio-8080-exec-9:5395746 ] - [ DEBUG ]  Triggering beforeCompletion synchronization
2016-05-25 00:08:16  [ http-bio-8080-exec-9:5395746 ] - [ DEBUG ]  Initiating transaction commit
2016-05-25 00:08:16  [ http-bio-8080-exec-9:5395746 ] - [ DEBUG ]  Committing Hibernate transaction on Session [org.hibernate.impl.SessionImpl@7b32e21a]
2016-05-25 00:08:16  [ http-bio-8080-exec-9:5395747 ] - [ DEBUG ]  commit
2016-05-25 00:08:16  [ http-bio-8080-exec-9:5395747 ] - [ DEBUG ]  processing flush-time cascades
2016-05-25 00:08:16  [ http-bio-8080-exec-9:5395747 ] - [ DEBUG ]  dirty checking collections
2016-05-25 00:08:16  [ http-bio-8080-exec-9:5395747 ] - [ DEBUG ]  Collection found: [persistance.Period.schedules#1], was: [persistance.Period.schedules#1] (uninitialized)
2016-05-25 00:08:16  [ http-bio-8080-exec-9:5395748 ] - [ DEBUG ]  Collection found: [persistance.Period.workTimes#1], was: [persistance.Period.workTimes#1] (uninitialized)
2016-05-25 00:08:16  [ http-bio-8080-exec-9:5395748 ] - [ DEBUG ]  Collection found: [persistance.Period.registrations#1], was: [persistance.Period.registrations#1] (uninitialized)
2016-05-25 00:08:16  [ http-bio-8080-exec-9:5395748 ] - [ DEBUG ]  Collection found: [persistance.Period.schedules_1#1], was: [persistance.Period.schedules_1#1] (uninitialized)
2016-05-25 00:08:16  [ http-bio-8080-exec-9:5395749 ] - [ DEBUG ]  Collection found: [persistance.Period.registrations_1#1], was: [persistance.Period.registrations_1#1] (uninitialized)
2016-05-25 00:08:16  [ http-bio-8080-exec-9:5395749 ] - [ DEBUG ]  Collection found: [persistance.Period.schedules#2], was: [persistance.Period.schedules#2] (uninitialized)
2016-05-25 00:08:16  [ http-bio-8080-exec-9:5395749 ] - [ DEBUG ]  Collection found: [persistance.Period.workTimes#2], was: [persistance.Period.workTimes#2] (uninitialized)
2016-05-25 00:08:16  [ http-bio-8080-exec-9:5395750 ] - [ DEBUG ]  Collection found: [persistance.Period.registrations#2], was: [persistance.Period.registrations#2] (uninitialized)
2016-05-25 00:08:16  [ http-bio-8080-exec-9:5395750 ] - [ DEBUG ]  Collection found: [persistance.Period.schedules_1#2], was: [persistance.Period.schedules_1#2] (uninitialized)
2016-05-25 00:08:16  [ http-bio-8080-exec-9:5395750 ] - [ DEBUG ]  Collection found: [persistance.Period.registrations_1#2], was: [persistance.Period.registrations_1#2] (uninitialized)
2016-05-25 00:08:16  [ http-bio-8080-exec-9:5395751 ] - [ DEBUG ]  Collection found: [persistance.Period.schedules#3], was: [persistance.Period.schedules#3] (uninitialized)
2016-05-25 00:08:16  [ http-bio-8080-exec-9:5395751 ] - [ DEBUG ]  Collection found: [persistance.Period.workTimes#3], was: [persistance.Period.workTimes#3] (uninitialized)
2016-05-25 00:08:16  [ http-bio-8080-exec-9:5395751 ] - [ DEBUG ]  Collection found: [persistance.Period.registrations#3], was: [persistance.Period.registrations#3] (uninitialized)
2016-05-25 00:08:16  [ http-bio-8080-exec-9:5395752 ] - [ DEBUG ]  Collection found: [persistance.Period.schedules_1#3], was: [persistance.Period.schedules_1#3] (uninitialized)
2016-05-25 00:08:16  [ http-bio-8080-exec-9:5395752 ] - [ DEBUG ]  Collection found: [persistance.Period.registrations_1#3], was: [persistance.Period.registrations_1#3] (uninitialized)
2016-05-25 00:08:16  [ http-bio-8080-exec-9:5395752 ] - [ DEBUG ]  Flushed: 0 insertions, 0 updates, 0 deletions to 3 objects
2016-05-25 00:08:16  [ http-bio-8080-exec-9:5395753 ] - [ DEBUG ]  Flushed: 0 (re)creations, 0 updates, 0 removals to 15 collections
2016-05-25 00:08:16  [ http-bio-8080-exec-9:5395753 ] - [ DEBUG ]  listing entities:
2016-05-25 00:08:16  [ http-bio-8080-exec-9:5395753 ] - [ DEBUG ]  persistance.Period{id=3, registrations_1=<uninitialized>, schedules=<uninitialized>, schedules_1=<uninitialized>, workTimes=<uninitialized>, registrations=<uninitialized>, beginTime=09:00:00, endTime=10:00:00, date=2016-05-21 00:00:00}
2016-05-25 00:08:16  [ http-bio-8080-exec-9:5395754 ] - [ DEBUG ]  persistance.Period{id=1, registrations_1=<uninitialized>, schedules=<uninitialized>, schedules_1=<uninitialized>, workTimes=<uninitialized>, registrations=<uninitialized>, beginTime=09:00:00, endTime=10:00:00, date=2016-05-04 00:00:00}
2016-05-25 00:08:16  [ http-bio-8080-exec-9:5395754 ] - [ DEBUG ]  persistance.Period{id=2, registrations_1=<uninitialized>, schedules=<uninitialized>, schedules_1=<uninitialized>, workTimes=<uninitialized>, registrations=<uninitialized>, beginTime=10:00:00, endTime=11:00:00, date=2016-05-21 00:00:00}
2016-05-25 00:08:16  [ http-bio-8080-exec-9:5395755 ] - [ DEBUG ]  re-enabling autocommit
2016-05-25 00:08:16  [ http-bio-8080-exec-9:5395756 ] - [ DEBUG ]  committed JDBC Connection
2016-05-25 00:08:16  [ http-bio-8080-exec-9:5395756 ] - [ DEBUG ]  transaction completed on session with on_close connection release mode; be sure to close the session to release JDBC resources!
2016-05-25 00:08:16  [ http-bio-8080-exec-9:5395756 ] - [ DEBUG ]  Triggering afterCommit synchronization
2016-05-25 00:08:16  [ http-bio-8080-exec-9:5395756 ] - [ DEBUG ]  Triggering afterCompletion synchronization
2016-05-25 00:08:16  [ http-bio-8080-exec-9:5395757 ] - [ DEBUG ]  Clearing transaction synchronization
2016-05-25 00:08:16  [ http-bio-8080-exec-9:5395757 ] - [ DEBUG ]  Removed value [org.springframework.orm.hibernate3.SessionHolder@418b3248] for key [org.hibernate.impl.SessionFactoryImpl@40fc29d7] from thread [http-bio-8080-exec-9]
2016-05-25 00:08:16  [ http-bio-8080-exec-9:5395761 ] - [ DEBUG ]  Removed value [org.springframework.jdbc.datasource.ConnectionHolder@73f0e99b] for key [com.mchange.v2.c3p0.ComboPooledDataSource@87409cf[ acquireIncrement -> 3, acquireRetryAttempts -> 30, acquireRetryDelay -> 1000, autoCommitOnClose -> false, automaticTestTable -> null, breakAfterAcquireFailure -> false, checkoutTimeout -> 0, connectionTesterClassName -> com.mchange.v2.c3p0.impl.DefaultConnectionTester, description -> null, driverClass -> com.mysql.jdbc.Driver, factoryClassLocation -> null, forceIgnoreUnresolvedTransactions -> false, identityToken -> 87409cf, idleConnectionTestPeriod -> -1, initialPoolSize -> 3, jdbcUrl -> jdbc:mysql://localhost:3306/hospital?characterEncoding=utf-8, loginTimeout -> 0, maxIdleTime -> 0, maxPoolSize -> 15, maxStatements -> 0, maxStatementsPerConnection -> 0, minPoolSize -> 3, numHelperThreads -> 3, preferredTestQuery -> null, properties -> {user=******, password=******}, propertyCycle -> 300, testConnectionOnCheckin -> false, testConnectionOnCheckout -> false, usesTraditionalReflectiveProxies -> false ]] from thread [http-bio-8080-exec-9]
2016-05-25 00:08:16  [ http-bio-8080-exec-9:5395761 ] - [ DEBUG ]  Closing Hibernate Session [org.hibernate.impl.SessionImpl@7b32e21a] after transaction
2016-05-25 00:08:16  [ http-bio-8080-exec-9:5395761 ] - [ DEBUG ]  Closing Hibernate Session
2016-05-25 00:08:16  [ http-bio-8080-exec-9:5395762 ] - [ DEBUG ]  releasing JDBC connection [ (open PreparedStatements: 0, globally: 0) (open ResultSets: 0, globally: 0)]
2016-05-25 00:08:16  [ http-bio-8080-exec-9:5395762 ] - [ DEBUG ]  trace com.mchange.v2.resourcepool.BasicResourcePool@1ed5eb39 [managed: 3, unused: 2, excluded: 0] (e.g. com.mchange.v2.c3p0.impl.NewPooledConnection@7303eee0)
2016-05-25 00:08:16  [ http-bio-8080-exec-9:5395762 ] - [ DEBUG ]  transaction completed on session with on_close connection release mode; be sure to close the session to release JDBC resources!
2016-05-25 00:08:16  [ http-bio-8080-exec-9:5395763 ] - [ DEBUG ]  Using transaction object [org.springframework.orm.hibernate3.HibernateTransactionManager$HibernateTransactionObject@70faff12]
2016-05-25 00:08:16  [ http-bio-8080-exec-9:5395763 ] - [ DEBUG ]  Creating new transaction with name [service.RegistrationService.findRegistrations]
2016-05-25 00:08:16  [ http-bio-8080-exec-9:5395763 ] - [ DEBUG ]  opened session at timestamp: 14641060964
2016-05-25 00:08:16  [ http-bio-8080-exec-9:5395764 ] - [ DEBUG ]  Opened new Session [org.hibernate.impl.SessionImpl@6cae3a31] for Hibernate transaction
2016-05-25 00:08:16  [ http-bio-8080-exec-9:5395764 ] - [ DEBUG ]  Preparing JDBC Connection of Hibernate Session [org.hibernate.impl.SessionImpl@6cae3a31]
2016-05-25 00:08:16  [ http-bio-8080-exec-9:5395764 ] - [ DEBUG ]  begin
2016-05-25 00:08:16  [ http-bio-8080-exec-9:5395764 ] - [ DEBUG ]  opening JDBC connection
2016-05-25 00:08:16  [ http-bio-8080-exec-9:5395765 ] - [ DEBUG ]  trace com.mchange.v2.resourcepool.BasicResourcePool@1ed5eb39 [managed: 3, unused: 2, excluded: 0] (e.g. com.mchange.v2.c3p0.impl.NewPooledConnection@7303eee0)
2016-05-25 00:08:16  [ http-bio-8080-exec-9:5395765 ] - [ DEBUG ]  current autocommit status: true
2016-05-25 00:08:16  [ http-bio-8080-exec-9:5395765 ] - [ DEBUG ]  disabling autocommit
2016-05-25 00:08:16  [ http-bio-8080-exec-9:5395766 ] - [ DEBUG ]  Exposing Hibernate transaction as JDBC transaction [com.mchange.v2.c3p0.impl.NewProxyConnection@6a9ec3cf]
2016-05-25 00:08:16  [ http-bio-8080-exec-9:5395770 ] - [ DEBUG ]  Bound value [org.springframework.jdbc.datasource.ConnectionHolder@4e386e1] for key [com.mchange.v2.c3p0.ComboPooledDataSource@87409cf[ acquireIncrement -> 3, acquireRetryAttempts -> 30, acquireRetryDelay -> 1000, autoCommitOnClose -> false, automaticTestTable -> null, breakAfterAcquireFailure -> false, checkoutTimeout -> 0, connectionTesterClassName -> com.mchange.v2.c3p0.impl.DefaultConnectionTester, description -> null, driverClass -> com.mysql.jdbc.Driver, factoryClassLocation -> null, forceIgnoreUnresolvedTransactions -> false, identityToken -> 87409cf, idleConnectionTestPeriod -> -1, initialPoolSize -> 3, jdbcUrl -> jdbc:mysql://localhost:3306/hospital?characterEncoding=utf-8, loginTimeout -> 0, maxIdleTime -> 0, maxPoolSize -> 15, maxStatements -> 0, maxStatementsPerConnection -> 0, minPoolSize -> 3, numHelperThreads -> 3, preferredTestQuery -> null, properties -> {user=******, password=******}, propertyCycle -> 300, testConnectionOnCheckin -> false, testConnectionOnCheckout -> false, usesTraditionalReflectiveProxies -> false ]] to thread [http-bio-8080-exec-9]
2016-05-25 00:08:16  [ http-bio-8080-exec-9:5395770 ] - [ DEBUG ]  Bound value [org.springframework.orm.hibernate3.SessionHolder@777b9352] for key [org.hibernate.impl.SessionFactoryImpl@40fc29d7] to thread [http-bio-8080-exec-9]
2016-05-25 00:08:16  [ http-bio-8080-exec-9:5395771 ] - [ DEBUG ]  Initializing transaction synchronization
2016-05-25 00:08:16  [ http-bio-8080-exec-9:5395771 ] - [ DEBUG ]  Getting transaction for service.RegistrationService.findRegistrations
2016-05-25 00:08:16  [ http-bio-8080-exec-9:5395771 ] - [ DEBUG ]  Retrieved value [org.springframework.orm.hibernate3.SessionHolder@777b9352] for key [org.hibernate.impl.SessionFactoryImpl@40fc29d7] bound to thread [http-bio-8080-exec-9]
2016-05-25 00:08:16  [ http-bio-8080-exec-9:5395772 ] - [ DEBUG ]  about to open PreparedStatement (open PreparedStatements: 0, globally: 0)
2016-05-25 00:08:16  [ http-bio-8080-exec-9:5395772 ] - [ DEBUG ]  
    select
        r.id id,
        u.user_name userName ,
        p.begin_time beginTime 
    from
        registration r 
    join
        doctor do 
    join
        department de 
    join
        user u 
    join
        period p  
    where
        r.doctor_id=do.id 
        and r.department_id = de.id 
        and r.user_id=u.user_id 
        and r.period_id=p.id  
        and  do.name=? 
        and p.date=? 
        and  p.begin_time>=? 
        and p.begin_time<=?
2016-05-25 00:08:16  [ http-bio-8080-exec-9:5395773 ] - [ DEBUG ]  bindNamedParameters() 11:00:00 -> lastPeriodBegin [4]
2016-05-25 00:08:16  [ http-bio-8080-exec-9:5395773 ] - [ DEBUG ]  bindNamedParameters() Ë¬¸ç -> doctorName [1]
2016-05-25 00:08:16  [ http-bio-8080-exec-9:5395774 ] - [ DEBUG ]  bindNamedParameters() 2016-05-04 -> date [2]
2016-05-25 00:08:16  [ http-bio-8080-exec-9:5395774 ] - [ DEBUG ]  bindNamedParameters() 09:00:00 -> firstPeriodBegin [3]
2016-05-25 00:08:16  [ http-bio-8080-exec-9:5395775 ] - [ DEBUG ]  about to open ResultSet (open ResultSets: 0, globally: 0)
2016-05-25 00:08:16  [ http-bio-8080-exec-9:5395775 ] - [ DEBUG ]  result row: 
2016-05-25 00:08:16  [ http-bio-8080-exec-9:5395775 ] - [ DEBUG ]  result row: 
2016-05-25 00:08:16  [ http-bio-8080-exec-9:5395776 ] - [ DEBUG ]  about to close ResultSet (open ResultSets: 1, globally: 1)
2016-05-25 00:08:16  [ http-bio-8080-exec-9:5395776 ] - [ DEBUG ]  about to close PreparedStatement (open PreparedStatements: 1, globally: 1)
2016-05-25 00:08:16  [ http-bio-8080-exec-9:5395777 ] - [ DEBUG ]  initializing non-lazy collections
2016-05-25 00:08:16  [ http-bio-8080-exec-9:5395777 ] - [ DEBUG ]  Invoking commit for transaction on service.RegistrationService.findRegistrations
2016-05-25 00:08:16  [ http-bio-8080-exec-9:5395777 ] - [ DEBUG ]  Triggering beforeCommit synchronization
2016-05-25 00:08:16  [ http-bio-8080-exec-9:5395778 ] - [ DEBUG ]  Triggering beforeCompletion synchronization
2016-05-25 00:08:16  [ http-bio-8080-exec-9:5395778 ] - [ DEBUG ]  Initiating transaction commit
2016-05-25 00:08:16  [ http-bio-8080-exec-9:5395778 ] - [ DEBUG ]  Committing Hibernate transaction on Session [org.hibernate.impl.SessionImpl@6cae3a31]
2016-05-25 00:08:16  [ http-bio-8080-exec-9:5395778 ] - [ DEBUG ]  commit
2016-05-25 00:08:16  [ http-bio-8080-exec-9:5395779 ] - [ DEBUG ]  re-enabling autocommit
2016-05-25 00:08:16  [ http-bio-8080-exec-9:5395779 ] - [ DEBUG ]  committed JDBC Connection
2016-05-25 00:08:16  [ http-bio-8080-exec-9:5395780 ] - [ DEBUG ]  transaction completed on session with on_close connection release mode; be sure to close the session to release JDBC resources!
2016-05-25 00:08:16  [ http-bio-8080-exec-9:5395780 ] - [ DEBUG ]  Triggering afterCommit synchronization
2016-05-25 00:08:16  [ http-bio-8080-exec-9:5395780 ] - [ DEBUG ]  Triggering afterCompletion synchronization
2016-05-25 00:08:16  [ http-bio-8080-exec-9:5395780 ] - [ DEBUG ]  Clearing transaction synchronization
2016-05-25 00:08:16  [ http-bio-8080-exec-9:5395781 ] - [ DEBUG ]  Removed value [org.springframework.orm.hibernate3.SessionHolder@777b9352] for key [org.hibernate.impl.SessionFactoryImpl@40fc29d7] from thread [http-bio-8080-exec-9]
2016-05-25 00:08:16  [ http-bio-8080-exec-9:5395785 ] - [ DEBUG ]  Removed value [org.springframework.jdbc.datasource.ConnectionHolder@4e386e1] for key [com.mchange.v2.c3p0.ComboPooledDataSource@87409cf[ acquireIncrement -> 3, acquireRetryAttempts -> 30, acquireRetryDelay -> 1000, autoCommitOnClose -> false, automaticTestTable -> null, breakAfterAcquireFailure -> false, checkoutTimeout -> 0, connectionTesterClassName -> com.mchange.v2.c3p0.impl.DefaultConnectionTester, description -> null, driverClass -> com.mysql.jdbc.Driver, factoryClassLocation -> null, forceIgnoreUnresolvedTransactions -> false, identityToken -> 87409cf, idleConnectionTestPeriod -> -1, initialPoolSize -> 3, jdbcUrl -> jdbc:mysql://localhost:3306/hospital?characterEncoding=utf-8, loginTimeout -> 0, maxIdleTime -> 0, maxPoolSize -> 15, maxStatements -> 0, maxStatementsPerConnection -> 0, minPoolSize -> 3, numHelperThreads -> 3, preferredTestQuery -> null, properties -> {user=******, password=******}, propertyCycle -> 300, testConnectionOnCheckin -> false, testConnectionOnCheckout -> false, usesTraditionalReflectiveProxies -> false ]] from thread [http-bio-8080-exec-9]
2016-05-25 00:08:16  [ http-bio-8080-exec-9:5395785 ] - [ DEBUG ]  Closing Hibernate Session [org.hibernate.impl.SessionImpl@6cae3a31] after transaction
2016-05-25 00:08:16  [ http-bio-8080-exec-9:5395785 ] - [ DEBUG ]  Closing Hibernate Session
2016-05-25 00:08:16  [ http-bio-8080-exec-9:5395786 ] - [ DEBUG ]  releasing JDBC connection [ (open PreparedStatements: 0, globally: 0) (open ResultSets: 0, globally: 0)]
2016-05-25 00:08:16  [ http-bio-8080-exec-9:5395786 ] - [ DEBUG ]  trace com.mchange.v2.resourcepool.BasicResourcePool@1ed5eb39 [managed: 3, unused: 2, excluded: 0] (e.g. com.mchange.v2.c3p0.impl.NewPooledConnection@7303eee0)
2016-05-25 00:08:16  [ http-bio-8080-exec-9:5395786 ] - [ DEBUG ]  transaction completed on session with on_close connection release mode; be sure to close the session to release JDBC resources!
2016-05-25 00:08:16  [ http-bio-8080-exec-9:5395787 ] - [ DEBUG ]  [JSON]{"periods":"success","registrations":"success"}
2016-05-25 00:08:16  [ http-bio-8080-exec-9:5395787 ] - [ DEBUG ]  after Locale=zh_CN
2016-05-25 00:08:16  [ http-bio-8080-exec-9:5395787 ] - [ DEBUG ]  intercept } 
2016-05-25 00:12:01  [ localhost-startStop-2:5620507 ] - [ INFO ]  Closing application context [Root WebApplicationContext]
2016-05-25 00:12:01  [ localhost-startStop-2:5620507 ] - [ DEBUG ]  Publishing event in context [Root WebApplicationContext]: org.springframework.context.event.ContextClosedEvent[source=org.springframework.web.context.support.XmlWebApplicationContext: display name [Root WebApplicationContext]; startup date [Tue May 24 22:38:20 CST 2016]; root of context hierarchy; config locations [classpath:applicationContext.xml]]
2016-05-25 00:12:01  [ localhost-startStop-2:5620507 ] - [ INFO ]  Destroying singletons in {org.springframework.beans.factory.support.DefaultListableBeanFactory defining beans [dataSource,sessionFactory,userDao,doctorDao,departmentDao,hospitalDao,periodDao,scheduleDao,registrationDao,workTimeDao,doctorService,registrationService,periodService,scheduleService,workTimeService,transactionManager,transactionInterceptor,ProxyCreator,doctorName,sex,hospital,department,tel,getPeriods,getRegistrations,mark,insert]; root of BeanFactory hierarchy}
2016-05-25 00:12:01  [ localhost-startStop-2:5620507 ] - [ DEBUG ]  Retrieved dependent beans for bean 'sessionFactory': [userDao, doctorDao, departmentDao, hospitalDao, periodDao, scheduleDao, registrationDao, workTimeDao, transactionManager]
2016-05-25 00:12:01  [ localhost-startStop-2:5620507 ] - [ DEBUG ]  Retrieved dependent beans for bean 'doctorDao': [doctorService, workTimeService]
2016-05-25 00:12:01  [ localhost-startStop-2:5620507 ] - [ DEBUG ]  Retrieved dependent beans for bean 'workTimeService': [insert]
2016-05-25 00:12:01  [ localhost-startStop-2:5620507 ] - [ DEBUG ]  Retrieved dependent beans for bean 'periodDao': [periodService, workTimeService]
2016-05-25 00:12:01  [ localhost-startStop-2:5620507 ] - [ DEBUG ]  Retrieved dependent beans for bean 'scheduleDao': [scheduleService]
2016-05-25 00:12:01  [ localhost-startStop-2:5620507 ] - [ DEBUG ]  Retrieved dependent beans for bean 'scheduleService': [getPeriods, getRegistrations, mark]
2016-05-25 00:12:01  [ localhost-startStop-2:5620507 ] - [ DEBUG ]  Retrieved dependent beans for bean 'registrationDao': [registrationService]
2016-05-25 00:12:01  [ localhost-startStop-2:5620507 ] - [ DEBUG ]  Retrieved dependent beans for bean 'registrationService': [getPeriods, getRegistrations, mark]
2016-05-25 00:12:01  [ localhost-startStop-2:5620507 ] - [ DEBUG ]  Retrieved dependent beans for bean 'workTimeDao': [workTimeService]
2016-05-25 00:12:01  [ localhost-startStop-2:5620507 ] - [ DEBUG ]  Retrieved dependent beans for bean 'transactionManager': [transactionInterceptor]
2016-05-25 00:12:01  [ localhost-startStop-2:5620507 ] - [ DEBUG ]  Applying DestructionAwareBeanPostProcessors to bean with name 'sessionFactory'
2016-05-25 00:12:01  [ localhost-startStop-2:5620507 ] - [ DEBUG ]  Invoking destroy() on bean with name 'sessionFactory'
2016-05-25 00:12:01  [ localhost-startStop-2:5620507 ] - [ INFO ]  Closing Hibernate SessionFactory
2016-05-25 00:12:01  [ localhost-startStop-2:5620538 ] - [ INFO ]  closing
2016-05-25 00:12:01  [ localhost-startStop-2:5620538 ] - [ DEBUG ]  Retrieved dependent beans for bean 'dataSource': [sessionFactory]
2016-05-25 00:12:01  [ localhost-startStop-2:5620538 ] - [ DEBUG ]  Applying DestructionAwareBeanPostProcessors to bean with name 'dataSource'
2016-05-25 00:12:01  [ localhost-startStop-2:5620538 ] - [ DEBUG ]  Invoking custom destroy method on bean with name 'dataSource'
2016-05-25 00:12:01  [ localhost-startStop-2:5620538 ] - [ DEBUG ]  trace com.mchange.v2.resourcepool.BasicResourcePool@1ed5eb39 [managed: 2, unused: 2, excluded: 0] (e.g. com.mchange.v2.c3p0.impl.NewPooledConnection@7303eee0)
2016-05-25 00:12:01  [ localhost-startStop-2:5620538 ] - [ DEBUG ]  trace com.mchange.v2.resourcepool.BasicResourcePool@1ed5eb39 [managed: 1, unused: 1, excluded: 0] (e.g. com.mchange.v2.c3p0.impl.NewPooledConnection@7303eee0)
2016-05-25 00:12:01  [ localhost-startStop-2:5620538 ] - [ DEBUG ]  trace com.mchange.v2.resourcepool.BasicResourcePool@1ed5eb39 [managed: 0, unused: 0, excluded: 0] (e.g. com.mchange.v2.c3p0.impl.NewPooledConnection@7303eee0)
2016-05-25 00:12:01  [ com.mchange.v2.async.ThreadPoolAsynchronousRunner$PoolThread-#1:5620538 ] - [ DEBUG ]  Thread[com.mchange.v2.async.ThreadPoolAsynchronousRunner$PoolThread-#1,5,main] interrupted. Shutting down.
2016-05-25 00:12:01  [ com.mchange.v2.async.ThreadPoolAsynchronousRunner$PoolThread-#2:5620538 ] - [ DEBUG ]  Thread[com.mchange.v2.async.ThreadPoolAsynchronousRunner$PoolThread-#2,5,main] interrupted. Shutting down.
2016-05-25 00:12:01  [ com.mchange.v2.async.ThreadPoolAsynchronousRunner$PoolThread-#0:5620538 ] - [ DEBUG ]  Thread[com.mchange.v2.async.ThreadPoolAsynchronousRunner$PoolThread-#0,5,main] interrupted. Shutting down.
2016-05-25 00:12:01  [ localhost-startStop-2:5620538 ] - [ DEBUG ]  com.mchange.v2.c3p0.PoolBackedDataSource@3b1f1f5 has been closed. force_destroy == false
java.lang.Exception: DEBUG STACK TRACE for PoolBackedDataSource.close().
	at com.mchange.v2.c3p0.PoolBackedDataSource.close(PoolBackedDataSource.java:214)
	at com.mchange.v2.c3p0.PoolBackedDataSource.close(PoolBackedDataSource.java:198)
	at com.mchange.v2.c3p0.ComboPooledDataSource.close(ComboPooledDataSource.java:609)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at org.springframework.beans.factory.support.DisposableBeanAdapter.invokeCustomDestroyMethod(DisposableBeanAdapter.java:156)
	at org.springframework.beans.factory.support.DisposableBeanAdapter.destroy(DisposableBeanAdapter.java:110)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroyBean(DefaultSingletonBeanRegistry.java:332)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingleton(DefaultSingletonBeanRegistry.java:305)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingletons(DefaultSingletonBeanRegistry.java:281)
	at org.springframework.context.support.AbstractApplicationContext.doClose(AbstractApplicationContext.java:612)
	at org.springframework.context.support.AbstractApplicationContext.close(AbstractApplicationContext.java:580)
	at org.springframework.web.context.ContextLoader.closeWebApplicationContext(ContextLoader.java:339)
	at org.springframework.web.context.ContextLoaderListener.contextDestroyed(ContextLoaderListener.java:73)
	at org.apache.catalina.core.StandardContext.listenerStop(StandardContext.java:5035)
	at org.apache.catalina.core.StandardContext.stopInternal(StandardContext.java:5687)
	at org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:232)
	at org.apache.catalina.core.ContainerBase$StopChild.call(ContainerBase.java:1591)
	at org.apache.catalina.core.ContainerBase$StopChild.call(ContainerBase.java:1580)
	at java.util.concurrent.FutureTask.run(FutureTask.java:262)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:744)
